{"ast":null,"code":"import React,{createContext,useState,useEffect}from'react';import cartService from'../services/cartService';import{jsx as _jsx}from\"react/jsx-runtime\";export const CartContext=/*#__PURE__*/createContext();export const CartProvider=_ref=>{let{children}=_ref;const[cart,setCart]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{fetchCart();},[]);const fetchCart=async()=>{setLoading(true);try{const cartData=await cartService.getCart();setCart(cartData||[]);}catch(error){console.error('Failed to fetch cart:',error);}finally{setLoading(false);}};const addToCart=async function(product){let quantity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;try{const updatedCart=await cartService.addToCart(product._id,quantity);setCart(updatedCart);}catch(error){console.error('Failed to add to cart:',error);}};const updateQuantity=async(productId,quantity)=>{try{const updatedCart=await cartService.updateCartItem(productId,quantity);setCart(updatedCart);}catch(error){console.error('Failed to update quantity:',error);}};const removeFromCart=async productId=>{try{const updatedCart=await cartService.removeFromCart(productId);setCart(updatedCart);}catch(error){console.error('Failed to remove from cart:',error);}};const clearCart=async()=>{try{await cartService.clearCart();setCart([]);}catch(error){console.error('Failed to clear cart:',error);}};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart,loading,addToCart,updateQuantity,removeFromCart,clearCart,fetchCart},children:children});};","map":{"version":3,"names":["React","createContext","useState","useEffect","cartService","jsx","_jsx","CartContext","CartProvider","_ref","children","cart","setCart","loading","setLoading","fetchCart","cartData","getCart","error","console","addToCart","product","quantity","arguments","length","undefined","updatedCart","_id","updateQuantity","productId","updateCartItem","removeFromCart","clearCart","Provider","value"],"sources":["D:/food_delievery2/frontend/src/assets/Context/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\r\nimport cartService from '../services/cartService';\r\n\r\nexport const CartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [cart, setCart] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchCart();\r\n  }, []);\r\n\r\n  const fetchCart = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const cartData = await cartService.getCart();\r\n      setCart(cartData || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch cart:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const addToCart = async (product, quantity = 1) => {\r\n    try {\r\n      const updatedCart = await cartService.addToCart(product._id, quantity);\r\n      setCart(updatedCart);\r\n    } catch (error) {\r\n      console.error('Failed to add to cart:', error);\r\n    }\r\n  };\r\n\r\n  const updateQuantity = async (productId, quantity) => {\r\n    try {\r\n      const updatedCart = await cartService.updateCartItem(productId, quantity);\r\n      setCart(updatedCart);\r\n    } catch (error) {\r\n      console.error('Failed to update quantity:', error);\r\n    }\r\n  };\r\n\r\n  const removeFromCart = async (productId) => {\r\n    try {\r\n      const updatedCart = await cartService.removeFromCart(productId);\r\n      setCart(updatedCart);\r\n    } catch (error) {\r\n      console.error('Failed to remove from cart:', error);\r\n    }\r\n  };\r\n\r\n  const clearCart = async () => {\r\n    try {\r\n      await cartService.clearCart();\r\n      setCart([]);\r\n    } catch (error) {\r\n      console.error('Failed to clear cart:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={{\r\n      cart,\r\n      loading,\r\n      addToCart,\r\n      updateQuantity,\r\n      removeFromCart,\r\n      clearCart,\r\n      fetchCart\r\n    }}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}