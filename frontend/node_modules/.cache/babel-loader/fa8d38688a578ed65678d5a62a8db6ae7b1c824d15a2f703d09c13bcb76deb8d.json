{"ast":null,"code":"var _jsxFileName = \"D:\\\\food_delievery2\\\\frontend\\\\src\\\\assets\\\\pages\\\\Payment\\\\Checkout.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { CartContext } from '../../Context/CartContext';\nimport { AuthContext } from '../../Context/AuthContext';\nimport { useDarkMode } from '../../Context/DarkModeContext';\nimport { useToast } from '../../components/ToastContainer';\nimport { getFoodImageSrc, handleImageError } from '../../utils/imageUtils';\nimport { FiArrowLeft, FiMapPin, FiCreditCard, FiCheck, FiTruck, FiShield, FiPhone, FiUser, FiEdit } from 'react-icons/fi';\nimport orderService from '../../services/orderService';\nimport paymentService from '../../services/paymentService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Checkout = () => {\n  _s();\n  const {\n    cart,\n    getCartTotal,\n    clearCart\n  } = useContext(CartContext);\n  const {\n    user\n  } = useContext(AuthContext);\n  const {\n    isDarkMode\n  } = useDarkMode();\n  const {\n    showSuccess,\n    showError\n  } = useToast();\n  const navigate = useNavigate();\n\n  // State for checkout steps\n  const [currentStep, setCurrentStep] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [stepLoading, setStepLoading] = useState(false);\n\n  // Address form state\n  const [deliveryAddress, setDeliveryAddress] = useState({\n    fullName: (user === null || user === void 0 ? void 0 : user.name) || '',\n    phone: (user === null || user === void 0 ? void 0 : user.phone) || '',\n    email: (user === null || user === void 0 ? void 0 : user.email) || '',\n    addressLine1: '',\n    addressLine2: '',\n    city: '',\n    state: '',\n    pincode: '',\n    landmark: ''\n  });\n\n  // Payment state\n  const [paymentMethod, setPaymentMethod] = useState('razorpay');\n  const [orderNotes, setOrderNotes] = useState('');\n\n  // Pricing calculations\n  const subtotal = getCartTotal ? getCartTotal() : cart.reduce((sum, item) => {\n    var _item$product;\n    const price = ((_item$product = item.product) === null || _item$product === void 0 ? void 0 : _item$product.price) || item.price || 0;\n    return sum + price * (item.quantity || 1);\n  }, 0);\n  const deliveryFee = subtotal > 299 ? 0 : 49;\n  const tax = Math.round(subtotal * 0.05); // 5% tax\n  const total = subtotal + deliveryFee + tax;\n  useEffect(() => {\n    // Only redirect if cart is empty\n    if (!cart || cart.length === 0) {\n      navigate('/cart');\n      return;\n    }\n  }, [cart, navigate]);\n  const handleAddressChange = (field, value) => {\n    setDeliveryAddress(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const validateAddress = () => {\n    const required = ['fullName', 'phone', 'addressLine1', 'city', 'state', 'pincode'];\n    return required.every(field => deliveryAddress[field].trim() !== '');\n  };\n  const validatePhoneNumber = phone => {\n    const phoneRegex = /^[6-9]\\d{9}$/;\n    return phoneRegex.test(phone);\n  };\n  const validatePincode = pincode => {\n    const pincodeRegex = /^[1-9][0-9]{5}$/;\n    return pincodeRegex.test(pincode);\n  };\n  const handleAddressSubmit = async () => {\n    if (!validateAddress()) {\n      showError('Please fill all required address fields');\n      return;\n    }\n    if (!validatePhoneNumber(deliveryAddress.phone)) {\n      showError('Please enter a valid 10-digit phone number');\n      return;\n    }\n    if (!validatePincode(deliveryAddress.pincode)) {\n      showError('Please enter a valid 6-digit PIN code');\n      return;\n    }\n    setStepLoading(true);\n    // Simulate API call for address validation\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    setStepLoading(false);\n    showSuccess('Address validated successfully!');\n    setCurrentStep(2);\n  };\n  const handlePaymentMethodSubmit = async () => {\n    setStepLoading(true);\n    await new Promise(resolve => setTimeout(resolve, 500));\n    setStepLoading(false);\n    showSuccess('Payment method selected!');\n    setCurrentStep(3);\n  };\n  const handlePlaceOrder = async () => {\n    if (!validateAddress()) {\n      showError('Please fill all required address fields');\n      return;\n    }\n    setLoading(true);\n    try {\n      // Prepare order data\n      const orderData = {\n        items: cart.map(item => {\n          var _item$product2, _item$product3;\n          return {\n            product: ((_item$product2 = item.product) === null || _item$product2 === void 0 ? void 0 : _item$product2._id) || item._id,\n            quantity: item.quantity,\n            price: ((_item$product3 = item.product) === null || _item$product3 === void 0 ? void 0 : _item$product3.price) || item.price || 0\n          };\n        }),\n        deliveryAddress,\n        paymentMethod,\n        orderNotes,\n        subtotal,\n        deliveryFee,\n        tax,\n        total,\n        paymentStatus: 'pending'\n      };\n      if (paymentMethod === 'cod') {\n        // Cash on Delivery - Direct order placement\n        const response = await orderService.createOrder(orderData);\n        if (response && response.success !== false) {\n          const createdOrder = response.order || response;\n          clearCart();\n          showSuccess('Order placed successfully! You can pay cash on delivery.');\n          navigate('/order-confirmation', {\n            state: {\n              orderData: createdOrder,\n              orderId: createdOrder._id\n            }\n          });\n        } else {\n          throw new Error((response === null || response === void 0 ? void 0 : response.error) || 'Failed to place order');\n        }\n      } else if (paymentMethod === 'razorpay') {\n        // Online Payment - Razorpay Integration\n        // Step 1: Create order first with pending payment status\n        const pendingOrderData = {\n          ...orderData,\n          paymentStatus: 'pending',\n          status: 'pending'\n        };\n        const pendingOrder = await orderService.createOrder(pendingOrderData);\n        if (!pendingOrder || pendingOrder.success === false) {\n          throw new Error((pendingOrder === null || pendingOrder === void 0 ? void 0 : pendingOrder.error) || 'Failed to create order');\n        }\n        const createdOrder = pendingOrder.order || pendingOrder;\n\n        // Step 2: Create Razorpay payment order\n        const paymentOrderData = {\n          amount: total,\n          currency: 'INR',\n          items: orderData.items,\n          address: deliveryAddress,\n          total: total,\n          orderId: createdOrder._id\n        };\n        const paymentResponse = await paymentService.processPayment(paymentOrderData);\n        if (!paymentResponse.success) {\n          throw new Error('Failed to create payment order');\n        }\n\n        // Step 3: Update order with Razorpay order ID immediately\n        await orderService.updateOrder(createdOrder._id, {\n          razorpayOrderId: paymentResponse.razorpayOrder.id\n        });\n\n        // Configure Razorpay options\n        const razorpayOptions = {\n          key: paymentResponse.key_id || 'rzp_test_RAi5uQX3MTrzfi',\n          amount: paymentResponse.razorpayOrder.amount,\n          currency: paymentResponse.currency,\n          order_id: paymentResponse.razorpayOrder.id,\n          name: 'Food Delivery',\n          description: `Order for ${cart.length} items`,\n          image: '/favicon.ico',\n          prefill: {\n            name: (user === null || user === void 0 ? void 0 : user.name) || deliveryAddress.fullName,\n            email: (user === null || user === void 0 ? void 0 : user.email) || '',\n            contact: deliveryAddress.phone\n          },\n          theme: {\n            color: '#F97316'\n          },\n          handler: async function (response) {\n            try {\n              // Verify payment\n              const verifyData = {\n                razorpayOrderId: response.razorpay_order_id,\n                razorpayPaymentId: response.razorpay_payment_id,\n                razorpaySignature: response.razorpay_signature\n              };\n              const verifyResponse = await paymentService.verifyPayment(verifyData);\n              if (verifyResponse.message === 'Payment verified successfully') {\n                clearCart();\n                showSuccess('Payment successful! Order placed successfully.');\n                navigate('/order-confirmation', {\n                  state: {\n                    orderData: {\n                      ...createdOrder,\n                      paymentStatus: 'completed',\n                      status: 'confirmed',\n                      paymentId: response.razorpay_payment_id\n                    },\n                    orderId: createdOrder._id\n                  }\n                });\n              } else {\n                throw new Error('Payment verification failed');\n              }\n            } catch (error) {\n              console.error('Payment verification error:', error);\n              showError('Payment verification failed. Please contact support.');\n              // Navigate to orders page so user can see their order status\n              navigate('/orders');\n            } finally {\n              setLoading(false);\n            }\n          },\n          modal: {\n            ondismiss: function () {\n              showError('Payment cancelled. Your order was not placed.');\n              setLoading(false);\n            }\n          }\n        };\n\n        // Initialize Razorpay\n        if (!window.Razorpay) {\n          const script = document.createElement('script');\n          script.src = 'https://checkout.razorpay.com/v1/checkout.js';\n          script.onload = () => {\n            const rzp = new window.Razorpay(razorpayOptions);\n            rzp.open();\n          };\n          script.onerror = () => {\n            showError('Failed to load payment gateway. Please try again.');\n            setLoading(false);\n          };\n          document.body.appendChild(script);\n        } else {\n          const rzp = new window.Razorpay(razorpayOptions);\n          rzp.open();\n        }\n        return;\n      }\n    } catch (error) {\n      var _error$response;\n      console.error('Order placement error:', error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        showError('Your session has expired. Please login again.');\n        navigate('/login');\n      } else {\n        var _error$response2, _error$response2$data;\n        showError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message || 'Failed to place order');\n      }\n    } finally {\n      if (paymentMethod === 'cod') {\n        setLoading(false);\n      }\n    }\n  };\n\n  // If cart is empty, redirect\n  if (!cart || cart.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `min-h-screen flex items-center justify-center ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center max-w-md mx-auto p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center ${isDarkMode ? 'bg-gray-800' : 'bg-gray-200'}`,\n          children: /*#__PURE__*/_jsxDEV(FiTruck, {\n            size: 32,\n            className: isDarkMode ? 'text-gray-400' : 'text-gray-600'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: `text-2xl font-bold mb-4 ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n          children: \"Your cart is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `mb-6 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: \"Add some items to your cart to proceed with checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/products'),\n          className: \"px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg hover:from-orange-600 hover:to-red-600 transition-all font-semibold shadow-lg\",\n          children: \"Browse Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/cart'),\n          className: `flex items-center mb-4 transition-colors ${isDarkMode ? 'text-gray-400 hover:text-gray-200' : 'text-gray-600 hover:text-gray-800'}`,\n          children: [/*#__PURE__*/_jsxDEV(FiArrowLeft, {\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), \"Back to Cart\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: `text-2xl md:text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`,\n          children: \"Secure Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm mt-1 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [\"Step \", currentStep, \" of 3 \\u2022 Powered by Razorpay\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mb-8 p-4 md:p-6 rounded-xl ${isDarkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-200'} shadow-sm`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => currentStep > 1 && setCurrentStep(1),\n              disabled: currentStep === 1,\n              className: `w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${currentStep >= 1 ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'} ${currentStep > 1 ? 'cursor-pointer hover:shadow-xl' : ''}`,\n              children: currentStep > 1 ? /*#__PURE__*/_jsxDEV(FiCheck, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 36\n              }, this) : '1'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hidden sm:block\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: `font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                children: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n                children: \"Delivery details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex-1 mx-2 md:mx-4 h-1 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `h-1 rounded-full transition-all duration-500 ${currentStep >= 2 ? 'bg-green-500' : 'bg-transparent'}`,\n              style: {\n                width: currentStep >= 2 ? '100%' : '0%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => currentStep > 2 && setCurrentStep(2),\n              disabled: currentStep <= 1,\n              className: `w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${currentStep >= 2 ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'} ${currentStep > 2 ? 'cursor-pointer hover:shadow-xl' : ''}`,\n              children: currentStep > 2 ? /*#__PURE__*/_jsxDEV(FiCheck, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 36\n              }, this) : '2'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hidden sm:block\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: `font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                children: \"Payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n                children: \"Choose method\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex-1 mx-2 md:mx-4 h-1 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `h-1 rounded-full transition-all duration-500 ${currentStep >= 3 ? 'bg-green-500' : 'bg-transparent'}`,\n              style: {\n                width: currentStep >= 3 ? '100%' : '0%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${currentStep >= 3 ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'}`,\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hidden sm:block\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: `font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                children: \"Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n                children: \"Place order\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: [currentStep === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `rounded-xl shadow-lg p-4 md:p-6 border transition-all ${isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(FiMapPin, {\n                className: \"w-5 h-5 md:w-6 md:h-6 mr-3 text-orange-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: `text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`,\n                children: \"Delivery Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Full Name *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative\",\n                  children: [/*#__PURE__*/_jsxDEV(FiUser, {\n                    className: `absolute left-3 top-3.5 w-4 h-4 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: deliveryAddress.fullName,\n                    onChange: e => handleAddressChange('fullName', e.target.value),\n                    className: `w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`,\n                    placeholder: \"Enter your full name\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Phone Number *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative\",\n                  children: [/*#__PURE__*/_jsxDEV(FiPhone, {\n                    className: `absolute left-3 top-3.5 w-4 h-4 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"tel\",\n                    value: deliveryAddress.phone,\n                    onChange: e => handleAddressChange('phone', e.target.value),\n                    className: `w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`,\n                    placeholder: \"Enter 10-digit phone number\",\n                    maxLength: \"10\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"md:col-span-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Address Line 1 *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: deliveryAddress.addressLine1,\n                  onChange: e => handleAddressChange('addressLine1', e.target.value),\n                  placeholder: \"House/Flat No., Street Name\",\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"md:col-span-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Address Line 2 (Optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: deliveryAddress.addressLine2,\n                  onChange: e => handleAddressChange('addressLine2', e.target.value),\n                  placeholder: \"Apartment, Floor, Building (Optional)\",\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"City *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: deliveryAddress.city,\n                  onChange: e => handleAddressChange('city', e.target.value),\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`,\n                  placeholder: \"Enter city\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"State *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: deliveryAddress.state,\n                  onChange: e => handleAddressChange('state', e.target.value),\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`,\n                  placeholder: \"Enter state\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"PIN Code *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: deliveryAddress.pincode,\n                  onChange: e => handleAddressChange('pincode', e.target.value),\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`,\n                  placeholder: \"Enter 6-digit PIN code\",\n                  maxLength: \"6\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Landmark (Optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 568,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: deliveryAddress.landmark,\n                  onChange: e => handleAddressChange('landmark', e.target.value),\n                  placeholder: \"Near bus stop, mall, etc.\",\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAddressSubmit,\n              disabled: !validateAddress() || stepLoading,\n              className: `w-full py-3 md:py-4 px-6 rounded-xl font-semibold text-white transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${isDarkMode ? 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg shadow-orange-500/25' : 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg hover:shadow-xl'}`,\n              children: stepLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 596,\n                  columnNumber: 23\n                }, this), \"Validating Address...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [\"Continue to Payment\", /*#__PURE__*/_jsxDEV(FiArrowLeft, {\n                  className: \"ml-2 rotate-180 w-4 h-4 inline\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 602,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this), currentStep === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `rounded-xl shadow-lg p-4 md:p-6 border transition-all ${isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(FiCreditCard, {\n                className: \"w-5 h-5 md:w-6 md:h-6 mr-3 text-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 615,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: `text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`,\n                children: \"Payment Method\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 614,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 border-2 rounded-xl cursor-pointer transition-all ${paymentMethod === 'razorpay' ? 'border-green-500 bg-green-50 dark:bg-green-900/20' : isDarkMode ? 'border-gray-700 bg-gray-700/50' : 'border-gray-200 bg-gray-50'}`,\n                onClick: () => setPaymentMethod('razorpay'),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    name: \"paymentMethod\",\n                    value: \"razorpay\",\n                    checked: paymentMethod === 'razorpay',\n                    onChange: () => setPaymentMethod('razorpay'),\n                    className: \"mr-3 text-green-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 632,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: `font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                      children: \"Online Payment (Recommended)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 641,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: `text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n                      children: \"Pay securely with UPI, Cards, Net Banking & Wallets\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 644,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center mt-2 space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded\",\n                        children: \"Secure\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 648,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded\",\n                        children: \"Instant\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 649,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 647,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 640,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 631,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 border-2 rounded-xl cursor-pointer transition-all ${paymentMethod === 'cod' ? 'border-green-500 bg-green-50 dark:bg-green-900/20' : isDarkMode ? 'border-gray-700 bg-gray-700/50' : 'border-gray-200 bg-gray-50'}`,\n                onClick: () => setPaymentMethod('cod'),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    name: \"paymentMethod\",\n                    value: \"cod\",\n                    checked: paymentMethod === 'cod',\n                    onChange: () => setPaymentMethod('cod'),\n                    className: \"mr-3 text-green-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: `font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                      children: \"Cash on Delivery\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 674,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: `text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n                      children: \"Pay with cash when your order arrives\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 677,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 673,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 656,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col sm:flex-row gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentStep(1),\n                className: `px-6 py-3 rounded-xl font-medium transition-all ${isDarkMode ? 'bg-gray-700 text-gray-300 hover:bg-gray-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n                children: \"\\u2190 Back to Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handlePaymentMethodSubmit,\n                disabled: stepLoading,\n                className: `flex-1 py-3 px-6 rounded-xl font-semibold text-white transition-all disabled:opacity-50 ${isDarkMode ? 'bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 shadow-lg shadow-green-500/25' : 'bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 shadow-lg hover:shadow-xl'}`,\n                children: stepLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 707,\n                    columnNumber: 25\n                  }, this), \"Processing...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 706,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\"Continue to Review\", /*#__PURE__*/_jsxDEV(FiArrowLeft, {\n                    className: \"ml-2 rotate-180 w-4 h-4 inline\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 713,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 15\n          }, this), currentStep === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `rounded-xl shadow-lg p-4 md:p-6 border transition-all ${isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(FiCheck, {\n                className: \"w-5 h-5 md:w-6 md:h-6 mr-3 text-purple-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 727,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: `text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`,\n                children: \"Review Your Order\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 728,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 726,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 rounded-lg ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: `font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                    children: \"Delivery Address\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 738,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setCurrentStep(1),\n                    className: `text-sm text-orange-500 hover:text-orange-600 flex items-center ${isDarkMode ? 'hover:text-orange-400' : ''}`,\n                    children: [/*#__PURE__*/_jsxDEV(FiEdit, {\n                      className: \"w-4 h-4 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 747,\n                      columnNumber: 25\n                    }, this), \"Edit\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 741,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 737,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `text-sm ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium\",\n                    children: deliveryAddress.fullName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 752,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: deliveryAddress.phone\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 753,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: deliveryAddress.addressLine1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 754,\n                    columnNumber: 23\n                  }, this), deliveryAddress.addressLine2 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: deliveryAddress.addressLine2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 755,\n                    columnNumber: 56\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [deliveryAddress.city, \", \", deliveryAddress.state, \" - \", deliveryAddress.pincode]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 756,\n                    columnNumber: 23\n                  }, this), deliveryAddress.landmark && /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Landmark: \", deliveryAddress.landmark]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 757,\n                    columnNumber: 52\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 751,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 736,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 rounded-lg ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: `font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                    children: \"Payment Method\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 764,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setCurrentStep(2),\n                    className: `text-sm text-orange-500 hover:text-orange-600 flex items-center ${isDarkMode ? 'hover:text-orange-400' : ''}`,\n                    children: [/*#__PURE__*/_jsxDEV(FiEdit, {\n                      className: \"w-4 h-4 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 773,\n                      columnNumber: 25\n                    }, this), \"Edit\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 767,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 763,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `text-sm ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: paymentMethod === 'cod' ? ' Cash on Delivery' : ' Online Payment (Razorpay)'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 777,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                children: \"Order Notes (Optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 785,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: orderNotes,\n                onChange: e => setOrderNotes(e.target.value),\n                placeholder: \"Any special instructions for your order...\",\n                className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`,\n                rows: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 788,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 784,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col sm:flex-row gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentStep(2),\n                className: `px-6 py-3 rounded-xl font-medium transition-all ${isDarkMode ? 'bg-gray-700 text-gray-300 hover:bg-gray-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n                children: \"\\u2190 Back to Payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 802,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handlePlaceOrder,\n                disabled: loading,\n                className: `flex-1 py-3 md:py-4 px-6 rounded-xl font-bold text-white transition-all disabled:opacity-50 ${isDarkMode ? 'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-lg shadow-blue-500/25' : 'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-lg hover:shadow-xl'}`,\n                children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 823,\n                    columnNumber: 25\n                  }, this), \"Placing Order...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(FiShield, {\n                    className: \"w-5 h-5 mr-2 inline\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 828,\n                    columnNumber: 25\n                  }, this), \"Place Order - \\u20B9\", total.toFixed(2)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 812,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 801,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `rounded-xl shadow-lg p-4 md:p-6 border sticky top-4 ${isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: `text-lg md:text-xl font-bold mb-4 ${isDarkMode ? 'text-white' : 'text-gray-800'}`,\n              children: \"Order Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 843,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3 mb-4 max-h-60 overflow-y-auto\",\n              children: cart.map(item => {\n                var _item$product4, _item$product5, _item$product6;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center flex-1 mr-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `w-10 h-10 md:w-12 md:h-12 rounded-lg border ${isDarkMode ? 'border-gray-600' : 'border-gray-200'} mr-2 md:mr-3 overflow-hidden flex-shrink-0`,\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: getFoodImageSrc(item.product || item),\n                        alt: ((_item$product4 = item.product) === null || _item$product4 === void 0 ? void 0 : _item$product4.name) || item.name,\n                        className: \"w-full h-full object-cover\",\n                        onError: e => handleImageError(e, item.product || item)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 853,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 852,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1 min-w-0\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: `font-medium text-sm ${isDarkMode ? 'text-white' : 'text-gray-900'} truncate`,\n                        children: ((_item$product5 = item.product) === null || _item$product5 === void 0 ? void 0 : _item$product5.name) || item.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 861,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: `text-xs ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n                        children: [\"Qty: \", item.quantity || 1]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 864,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 860,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 851,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: `font-semibold text-sm ${isDarkMode ? 'text-white' : 'text-gray-900'} flex-shrink-0`,\n                    children: [\"\\u20B9\", ((((_item$product6 = item.product) === null || _item$product6 === void 0 ? void 0 : _item$product6.price) || item.price || 0) * (item.quantity || 1)).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 869,\n                    columnNumber: 21\n                  }, this)]\n                }, item._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 850,\n                  columnNumber: 19\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 848,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `border-t pt-4 space-y-2 ${isDarkMode ? 'border-gray-700' : 'border-gray-200'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: isDarkMode ? 'text-gray-400' : 'text-gray-600',\n                  children: \"Subtotal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 878,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: isDarkMode ? 'text-white' : 'text-gray-900',\n                  children: [\"\\u20B9\", subtotal.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 879,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 877,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: isDarkMode ? 'text-gray-400' : 'text-gray-600',\n                  children: \"Delivery Fee\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 882,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `${deliveryFee === 0 ? 'text-green-500' : ''} ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                  children: deliveryFee === 0 ? 'FREE' : `${deliveryFee.toFixed(2)}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 883,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 881,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: isDarkMode ? 'text-gray-400' : 'text-gray-600',\n                  children: \"Tax (5%)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 888,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: isDarkMode ? 'text-white' : 'text-gray-900',\n                  children: [\"\\u20B9\", tax.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 889,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 887,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex justify-between text-base md:text-lg font-bold pt-2 border-t ${isDarkMode ? 'border-gray-700 text-white' : 'border-gray-200 text-gray-900'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 894,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"\\u20B9\", total.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 895,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 891,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 876,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `mt-4 p-3 rounded-lg text-center ${isDarkMode ? 'bg-green-900/20' : 'bg-green-50'}`,\n              children: [/*#__PURE__*/_jsxDEV(FiShield, {\n                className: \"w-5 h-5 mx-auto mb-1 text-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 901,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-green-600 font-medium\",\n                children: \"Your payment information is encrypted and secure\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 902,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 900,\n              columnNumber: 15\n            }, this), paymentMethod === 'razorpay' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `mt-3 p-2 rounded text-center ${isDarkMode ? 'bg-blue-900/20' : 'bg-blue-50'}`,\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-blue-600 font-medium\",\n                children: \"Powered by Razorpay\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 910,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 840,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 839,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 318,\n    columnNumber: 5\n  }, this);\n};\n_s(Checkout, \"EsLWDOXBtaZP1BQokrITYzdBalE=\", false, function () {\n  return [useDarkMode, useToast, useNavigate];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useState","useContext","useEffect","useNavigate","CartContext","AuthContext","useDarkMode","useToast","getFoodImageSrc","handleImageError","FiArrowLeft","FiMapPin","FiCreditCard","FiCheck","FiTruck","FiShield","FiPhone","FiUser","FiEdit","orderService","paymentService","jsxDEV","_jsxDEV","Fragment","_Fragment","Checkout","_s","cart","getCartTotal","clearCart","user","isDarkMode","showSuccess","showError","navigate","currentStep","setCurrentStep","loading","setLoading","stepLoading","setStepLoading","deliveryAddress","setDeliveryAddress","fullName","name","phone","email","addressLine1","addressLine2","city","state","pincode","landmark","paymentMethod","setPaymentMethod","orderNotes","setOrderNotes","subtotal","reduce","sum","item","_item$product","price","product","quantity","deliveryFee","tax","Math","round","total","length","handleAddressChange","field","value","prev","validateAddress","required","every","trim","validatePhoneNumber","phoneRegex","test","validatePincode","pincodeRegex","handleAddressSubmit","Promise","resolve","setTimeout","handlePaymentMethodSubmit","handlePlaceOrder","orderData","items","map","_item$product2","_item$product3","_id","paymentStatus","response","createOrder","success","createdOrder","order","orderId","Error","error","pendingOrderData","status","pendingOrder","paymentOrderData","amount","currency","address","paymentResponse","processPayment","updateOrder","razorpayOrderId","razorpayOrder","id","razorpayOptions","key","key_id","order_id","description","image","prefill","contact","theme","color","handler","verifyData","razorpay_order_id","razorpayPaymentId","razorpay_payment_id","razorpaySignature","razorpay_signature","verifyResponse","verifyPayment","message","paymentId","console","modal","ondismiss","window","Razorpay","script","document","createElement","src","onload","rzp","open","onerror","body","appendChild","_error$response","_error$response2","_error$response2$data","data","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","style","width","type","onChange","e","target","placeholder","maxLength","checked","rows","toFixed","_item$product4","_item$product5","_item$product6","alt","onError","_c","$RefreshReg$"],"sources":["D:/food_delievery2/frontend/src/assets/pages/Payment/Checkout.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { CartContext } from '../../Context/CartContext';\nimport { AuthContext } from '../../Context/AuthContext';\nimport { useDarkMode } from '../../Context/DarkModeContext';\nimport { useToast } from '../../components/ToastContainer';\nimport { getFoodImageSrc, handleImageError } from '../../utils/imageUtils';\nimport { FiArrowLeft, FiMapPin, FiCreditCard, FiCheck, FiTruck, FiShield, FiPhone, FiUser, FiEdit } from 'react-icons/fi';\nimport orderService from '../../services/orderService';\nimport paymentService from '../../services/paymentService';\n\nconst Checkout = () => {\n  const { cart, getCartTotal, clearCart } = useContext(CartContext);\n  const { user } = useContext(AuthContext);\n  const { isDarkMode } = useDarkMode();\n  const { showSuccess, showError } = useToast();\n  const navigate = useNavigate();\n\n  // State for checkout steps\n  const [currentStep, setCurrentStep] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [stepLoading, setStepLoading] = useState(false);\n\n  // Address form state\n  const [deliveryAddress, setDeliveryAddress] = useState({\n    fullName: user?.name || '',\n    phone: user?.phone || '',\n    email: user?.email || '',\n    addressLine1: '',\n    addressLine2: '',\n    city: '',\n    state: '',\n    pincode: '',\n    landmark: ''\n  });\n\n  // Payment state\n  const [paymentMethod, setPaymentMethod] = useState('razorpay');\n  const [orderNotes, setOrderNotes] = useState('');\n\n  // Pricing calculations\n  const subtotal = getCartTotal ? getCartTotal() : cart.reduce((sum, item) => {\n    const price = item.product?.price || item.price || 0;\n    return sum + (price * (item.quantity || 1));\n  }, 0);\n  const deliveryFee = subtotal > 299 ? 0 : 49;\n  const tax = Math.round(subtotal * 0.05); // 5% tax\n  const total = subtotal + deliveryFee + tax;\n\n  useEffect(() => {\n    // Only redirect if cart is empty\n    if (!cart || cart.length === 0) {\n      navigate('/cart');\n      return;\n    }\n  }, [cart, navigate]);\n\n  const handleAddressChange = (field, value) => {\n    setDeliveryAddress(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const validateAddress = () => {\n    const required = ['fullName', 'phone', 'addressLine1', 'city', 'state', 'pincode'];\n    return required.every(field => deliveryAddress[field].trim() !== '');\n  };\n\n  const validatePhoneNumber = (phone) => {\n    const phoneRegex = /^[6-9]\\d{9}$/;\n    return phoneRegex.test(phone);\n  };\n\n  const validatePincode = (pincode) => {\n    const pincodeRegex = /^[1-9][0-9]{5}$/;\n    return pincodeRegex.test(pincode);\n  };\n\n  const handleAddressSubmit = async () => {\n    if (!validateAddress()) {\n      showError('Please fill all required address fields');\n      return;\n    }\n\n    if (!validatePhoneNumber(deliveryAddress.phone)) {\n      showError('Please enter a valid 10-digit phone number');\n      return;\n    }\n\n    if (!validatePincode(deliveryAddress.pincode)) {\n      showError('Please enter a valid 6-digit PIN code');\n      return;\n    }\n    \n    setStepLoading(true);\n    // Simulate API call for address validation\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    setStepLoading(false);\n    \n    showSuccess('Address validated successfully!');\n    setCurrentStep(2);\n  };\n\n  const handlePaymentMethodSubmit = async () => {\n    setStepLoading(true);\n    await new Promise(resolve => setTimeout(resolve, 500));\n    setStepLoading(false);\n    \n    showSuccess('Payment method selected!');\n    setCurrentStep(3);\n  };\n\n  const handlePlaceOrder = async () => {\n    if (!validateAddress()) {\n      showError('Please fill all required address fields');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      // Prepare order data\n      const orderData = {\n        items: cart.map(item => ({\n          product: item.product?._id || item._id,\n          quantity: item.quantity,\n          price: item.product?.price || item.price || 0\n        })),\n        deliveryAddress,\n        paymentMethod,\n        orderNotes,\n        subtotal,\n        deliveryFee,\n        tax,\n        total,\n        paymentStatus: 'pending'\n      };\n\n      if (paymentMethod === 'cod') {\n        // Cash on Delivery - Direct order placement\n        const response = await orderService.createOrder(orderData);\n        \n        if (response && response.success !== false) {\n          const createdOrder = response.order || response;\n          clearCart();\n          showSuccess('Order placed successfully! You can pay cash on delivery.');\n          navigate('/order-confirmation', { \n            state: { \n              orderData: createdOrder,\n              orderId: createdOrder._id \n            } \n          });\n        } else {\n          throw new Error(response?.error || 'Failed to place order');\n        }\n      } else if (paymentMethod === 'razorpay') {\n        // Online Payment - Razorpay Integration\n        // Step 1: Create order first with pending payment status\n        const pendingOrderData = {\n          ...orderData,\n          paymentStatus: 'pending',\n          status: 'pending'\n        };\n\n        const pendingOrder = await orderService.createOrder(pendingOrderData);\n        \n        if (!pendingOrder || pendingOrder.success === false) {\n          throw new Error(pendingOrder?.error || 'Failed to create order');\n        }\n\n        const createdOrder = pendingOrder.order || pendingOrder;\n\n        // Step 2: Create Razorpay payment order\n        const paymentOrderData = {\n          amount: total,\n          currency: 'INR',\n          items: orderData.items,\n          address: deliveryAddress,\n          total: total,\n          orderId: createdOrder._id\n        };\n\n        const paymentResponse = await paymentService.processPayment(paymentOrderData);\n        \n        if (!paymentResponse.success) {\n          throw new Error('Failed to create payment order');\n        }\n\n        // Step 3: Update order with Razorpay order ID immediately\n        await orderService.updateOrder(createdOrder._id, {\n          razorpayOrderId: paymentResponse.razorpayOrder.id\n        });\n\n        // Configure Razorpay options\n        const razorpayOptions = {\n          key: paymentResponse.key_id || 'rzp_test_RAi5uQX3MTrzfi',\n          amount: paymentResponse.razorpayOrder.amount,\n          currency: paymentResponse.currency,\n          order_id: paymentResponse.razorpayOrder.id,\n          name: 'Food Delivery',\n          description: `Order for ${cart.length} items`,\n          image: '/favicon.ico',\n          prefill: {\n            name: user?.name || deliveryAddress.fullName,\n            email: user?.email || '',\n            contact: deliveryAddress.phone\n          },\n          theme: {\n            color: '#F97316'\n          },\n          handler: async function (response) {\n            try {\n              // Verify payment\n              const verifyData = {\n                razorpayOrderId: response.razorpay_order_id,\n                razorpayPaymentId: response.razorpay_payment_id,\n                razorpaySignature: response.razorpay_signature\n              };\n\n              const verifyResponse = await paymentService.verifyPayment(verifyData);\n              \n              if (verifyResponse.message === 'Payment verified successfully') {\n                clearCart();\n                showSuccess('Payment successful! Order placed successfully.');\n                navigate('/order-confirmation', { \n                  state: { \n                    orderData: { \n                      ...createdOrder, \n                      paymentStatus: 'completed',\n                      status: 'confirmed',\n                      paymentId: response.razorpay_payment_id \n                    },\n                    orderId: createdOrder._id \n                  } \n                });\n              } else {\n                throw new Error('Payment verification failed');\n              }\n            } catch (error) {\n              console.error('Payment verification error:', error);\n              showError('Payment verification failed. Please contact support.');\n              // Navigate to orders page so user can see their order status\n              navigate('/orders');\n            } finally {\n              setLoading(false);\n            }\n          },\n          modal: {\n            ondismiss: function () {\n              showError('Payment cancelled. Your order was not placed.');\n              setLoading(false);\n            }\n          }\n        };\n\n        // Initialize Razorpay\n        if (!window.Razorpay) {\n          const script = document.createElement('script');\n          script.src = 'https://checkout.razorpay.com/v1/checkout.js';\n          script.onload = () => {\n            const rzp = new window.Razorpay(razorpayOptions);\n            rzp.open();\n          };\n          script.onerror = () => {\n            showError('Failed to load payment gateway. Please try again.');\n            setLoading(false);\n          };\n          document.body.appendChild(script);\n        } else {\n          const rzp = new window.Razorpay(razorpayOptions);\n          rzp.open();\n        }\n        \n        return;\n      }\n\n    } catch (error) {\n      console.error('Order placement error:', error);\n      if (error.response?.status === 401) {\n        showError('Your session has expired. Please login again.');\n        navigate('/login');\n      } else {\n        showError(error.response?.data?.error || error.message || 'Failed to place order');\n      }\n    } finally {\n      if (paymentMethod === 'cod') {\n        setLoading(false);\n      }\n    }\n  };\n\n  // If cart is empty, redirect\n  if (!cart || cart.length === 0) {\n    return (\n      <div className={`min-h-screen flex items-center justify-center ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'}`}>\n        <div className=\"text-center max-w-md mx-auto p-8\">\n          <div className={`w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center ${isDarkMode ? 'bg-gray-800' : 'bg-gray-200'}`}>\n            <FiTruck size={32} className={isDarkMode ? 'text-gray-400' : 'text-gray-600'} />\n          </div>\n          <h2 className={`text-2xl font-bold mb-4 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n            Your cart is empty\n          </h2>\n          <p className={`mb-6 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n            Add some items to your cart to proceed with checkout\n          </p>\n          <button \n            onClick={() => navigate('/products')}\n            className=\"px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg hover:from-orange-600 hover:to-red-600 transition-all font-semibold shadow-lg\"\n          >\n            Browse Products\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'}`}>\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <button\n            onClick={() => navigate('/cart')}\n            className={`flex items-center mb-4 transition-colors ${\n              isDarkMode ? 'text-gray-400 hover:text-gray-200' : 'text-gray-600 hover:text-gray-800'\n            }`}\n          >\n            <FiArrowLeft className=\"mr-2\" />\n            Back to Cart\n          </button>\n          <h1 className={`text-2xl md:text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n            Secure Checkout\n          </h1>\n          <p className={`text-sm mt-1 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n            Step {currentStep} of 3  Powered by Razorpay\n          </p>\n        </div>\n\n        {/* Mobile-friendly Progress Bar */}\n        <div className={`mb-8 p-4 md:p-6 rounded-xl ${isDarkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-200'} shadow-sm`}>\n          <div className=\"flex items-center justify-between\">\n            {/* Step 1 */}\n            <div className=\"flex items-center\">\n              <button\n                onClick={() => currentStep > 1 && setCurrentStep(1)}\n                disabled={currentStep === 1}\n                className={`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${\n                  currentStep >= 1 \n                    ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' \n                    : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'\n                } ${currentStep > 1 ? 'cursor-pointer hover:shadow-xl' : ''}`}\n              >\n                {currentStep > 1 ? <FiCheck size={14} /> : '1'}\n              </button>\n              <div className=\"hidden sm:block\">\n                <p className={`font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Address</p>\n                <p className={`text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Delivery details</p>\n              </div>\n            </div>\n\n            {/* Progress Line */}\n            <div className={`flex-1 mx-2 md:mx-4 h-1 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`}>\n              <div \n                className={`h-1 rounded-full transition-all duration-500 ${\n                  currentStep >= 2 ? 'bg-green-500' : 'bg-transparent'\n                }`} \n                style={{ width: currentStep >= 2 ? '100%' : '0%' }}\n              />\n            </div>\n\n            {/* Step 2 */}\n            <div className=\"flex items-center\">\n              <button\n                onClick={() => currentStep > 2 && setCurrentStep(2)}\n                disabled={currentStep <= 1}\n                className={`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${\n                  currentStep >= 2 \n                    ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' \n                    : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'\n                } ${currentStep > 2 ? 'cursor-pointer hover:shadow-xl' : ''}`}\n              >\n                {currentStep > 2 ? <FiCheck size={14} /> : '2'}\n              </button>\n              <div className=\"hidden sm:block\">\n                <p className={`font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Payment</p>\n                <p className={`text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Choose method</p>\n              </div>\n            </div>\n\n            {/* Progress Line */}\n            <div className={`flex-1 mx-2 md:mx-4 h-1 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`}>\n              <div \n                className={`h-1 rounded-full transition-all duration-500 ${\n                  currentStep >= 3 ? 'bg-green-500' : 'bg-transparent'\n                }`} \n                style={{ width: currentStep >= 3 ? '100%' : '0%' }}\n              />\n            </div>\n\n            {/* Step 3 */}\n            <div className=\"flex items-center\">\n              <div className={`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${\n                currentStep >= 3 \n                  ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' \n                  : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'\n              }`}>\n                3\n              </div>\n              <div className=\"hidden sm:block\">\n                <p className={`font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Review</p>\n                <p className={`text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Place order</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8\">\n          {/* Left Column - Step Forms */}\n          <div className=\"lg:col-span-2\">\n            \n            {/* Step 1: Delivery Address */}\n            {currentStep === 1 && (\n              <div className={`rounded-xl shadow-lg p-4 md:p-6 border transition-all ${\n                isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'\n              }`}>\n                <div className=\"flex items-center mb-6\">\n                  <FiMapPin className=\"w-5 h-5 md:w-6 md:h-6 mr-3 text-orange-500\" />\n                  <h2 className={`text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n                    Delivery Address\n                  </h2>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Full Name *\n                    </label>\n                    <div className=\"relative\">\n                      <FiUser className={`absolute left-3 top-3.5 w-4 h-4 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`} />\n                      <input\n                        type=\"text\"\n                        value={deliveryAddress.fullName}\n                        onChange={(e) => handleAddressChange('fullName', e.target.value)}\n                        className={`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                          isDarkMode \n                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                            : 'bg-white border-gray-300 text-gray-900'\n                        }`}\n                        placeholder=\"Enter your full name\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Phone Number *\n                    </label>\n                    <div className=\"relative\">\n                      <FiPhone className={`absolute left-3 top-3.5 w-4 h-4 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`} />\n                      <input\n                        type=\"tel\"\n                        value={deliveryAddress.phone}\n                        onChange={(e) => handleAddressChange('phone', e.target.value)}\n                        className={`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                          isDarkMode \n                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                            : 'bg-white border-gray-300 text-gray-900'\n                        }`}\n                        placeholder=\"Enter 10-digit phone number\"\n                        maxLength=\"10\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"md:col-span-2\">\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Address Line 1 *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={deliveryAddress.addressLine1}\n                      onChange={(e) => handleAddressChange('addressLine1', e.target.value)}\n                      placeholder=\"House/Flat No., Street Name\"\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                        isDarkMode \n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                          : 'bg-white border-gray-300 text-gray-900'\n                      }`}\n                      required\n                    />\n                  </div>\n\n                  <div className=\"md:col-span-2\">\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Address Line 2 (Optional)\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={deliveryAddress.addressLine2}\n                      onChange={(e) => handleAddressChange('addressLine2', e.target.value)}\n                      placeholder=\"Apartment, Floor, Building (Optional)\"\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                        isDarkMode \n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                          : 'bg-white border-gray-300 text-gray-900'\n                      }`}\n                    />\n                  </div>\n\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      City *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={deliveryAddress.city}\n                      onChange={(e) => handleAddressChange('city', e.target.value)}\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                        isDarkMode \n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                          : 'bg-white border-gray-300 text-gray-900'\n                      }`}\n                      placeholder=\"Enter city\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      State *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={deliveryAddress.state}\n                      onChange={(e) => handleAddressChange('state', e.target.value)}\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                        isDarkMode \n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                          : 'bg-white border-gray-300 text-gray-900'\n                      }`}\n                      placeholder=\"Enter state\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      PIN Code *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={deliveryAddress.pincode}\n                      onChange={(e) => handleAddressChange('pincode', e.target.value)}\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                        isDarkMode \n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                          : 'bg-white border-gray-300 text-gray-900'\n                      }`}\n                      placeholder=\"Enter 6-digit PIN code\"\n                      maxLength=\"6\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Landmark (Optional)\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={deliveryAddress.landmark}\n                      onChange={(e) => handleAddressChange('landmark', e.target.value)}\n                      placeholder=\"Near bus stop, mall, etc.\"\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                        isDarkMode \n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                          : 'bg-white border-gray-300 text-gray-900'\n                      }`}\n                    />\n                  </div>\n                </div>\n\n                <button\n                  onClick={handleAddressSubmit}\n                  disabled={!validateAddress() || stepLoading}\n                  className={`w-full py-3 md:py-4 px-6 rounded-xl font-semibold text-white transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${\n                    isDarkMode\n                      ? 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg shadow-orange-500/25'\n                      : 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg hover:shadow-xl'\n                  }`}\n                >\n                  {stepLoading ? (\n                    <div className=\"flex items-center justify-center\">\n                      <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\n                      Validating Address...\n                    </div>\n                  ) : (\n                    <>\n                      Continue to Payment\n                      <FiArrowLeft className=\"ml-2 rotate-180 w-4 h-4 inline\" />\n                    </>\n                  )}\n                </button>\n              </div>\n            )}\n\n            {/* Step 2: Payment Method */}\n            {currentStep === 2 && (\n              <div className={`rounded-xl shadow-lg p-4 md:p-6 border transition-all ${\n                isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'\n              }`}>\n                <div className=\"flex items-center mb-6\">\n                  <FiCreditCard className=\"w-5 h-5 md:w-6 md:h-6 mr-3 text-green-500\" />\n                  <h2 className={`text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n                    Payment Method\n                  </h2>\n                </div>\n\n                <div className=\"space-y-4 mb-6\">\n                  {/* Online Payment */}\n                  <div \n                    className={`p-4 border-2 rounded-xl cursor-pointer transition-all ${\n                      paymentMethod === 'razorpay' \n                        ? 'border-green-500 bg-green-50 dark:bg-green-900/20' \n                        : isDarkMode ? 'border-gray-700 bg-gray-700/50' : 'border-gray-200 bg-gray-50'\n                    }`} \n                    onClick={() => setPaymentMethod('razorpay')}\n                  >\n                    <div className=\"flex items-center\">\n                      <input\n                        type=\"radio\"\n                        name=\"paymentMethod\"\n                        value=\"razorpay\"\n                        checked={paymentMethod === 'razorpay'}\n                        onChange={() => setPaymentMethod('razorpay')}\n                        className=\"mr-3 text-green-500\"\n                      />\n                      <div className=\"flex-1\">\n                        <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                          Online Payment (Recommended)\n                        </h3>\n                        <p className={`text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                          Pay securely with UPI, Cards, Net Banking & Wallets\n                        </p>\n                        <div className=\"flex items-center mt-2 space-x-2\">\n                          <span className=\"text-xs px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded\">Secure</span>\n                          <span className=\"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded\">Instant</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Cash on Delivery */}\n                  <div \n                    className={`p-4 border-2 rounded-xl cursor-pointer transition-all ${\n                      paymentMethod === 'cod' \n                        ? 'border-green-500 bg-green-50 dark:bg-green-900/20' \n                        : isDarkMode ? 'border-gray-700 bg-gray-700/50' : 'border-gray-200 bg-gray-50'\n                    }`} \n                    onClick={() => setPaymentMethod('cod')}\n                  >\n                    <div className=\"flex items-center\">\n                      <input\n                        type=\"radio\"\n                        name=\"paymentMethod\"\n                        value=\"cod\"\n                        checked={paymentMethod === 'cod'}\n                        onChange={() => setPaymentMethod('cod')}\n                        className=\"mr-3 text-green-500\"\n                      />\n                      <div className=\"flex-1\">\n                        <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                          Cash on Delivery\n                        </h3>\n                        <p className={`text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                          Pay with cash when your order arrives\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex flex-col sm:flex-row gap-3\">\n                  <button\n                    onClick={() => setCurrentStep(1)}\n                    className={`px-6 py-3 rounded-xl font-medium transition-all ${\n                      isDarkMode \n                        ? 'bg-gray-700 text-gray-300 hover:bg-gray-600' \n                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                    }`}\n                  >\n                     Back to Address\n                  </button>\n                  <button\n                    onClick={handlePaymentMethodSubmit}\n                    disabled={stepLoading}\n                    className={`flex-1 py-3 px-6 rounded-xl font-semibold text-white transition-all disabled:opacity-50 ${\n                      isDarkMode\n                        ? 'bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 shadow-lg shadow-green-500/25'\n                        : 'bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 shadow-lg hover:shadow-xl'\n                    }`}\n                  >\n                    {stepLoading ? (\n                      <div className=\"flex items-center justify-center\">\n                        <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\n                        Processing...\n                      </div>\n                    ) : (\n                      <>\n                        Continue to Review\n                        <FiArrowLeft className=\"ml-2 rotate-180 w-4 h-4 inline\" />\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Step 3: Order Review and Notes */}\n            {currentStep === 3 && (\n              <div className={`rounded-xl shadow-lg p-4 md:p-6 border transition-all ${\n                isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'\n              }`}>\n                <div className=\"flex items-center mb-6\">\n                  <FiCheck className=\"w-5 h-5 md:w-6 md:h-6 mr-3 text-purple-500\" />\n                  <h2 className={`text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n                    Review Your Order\n                  </h2>\n                </div>\n\n                {/* Order Summary Cards */}\n                <div className=\"space-y-4 mb-6\">\n                  {/* Delivery Address Card */}\n                  <div className={`p-4 rounded-lg ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                        Delivery Address\n                      </h3>\n                      <button\n                        onClick={() => setCurrentStep(1)}\n                        className={`text-sm text-orange-500 hover:text-orange-600 flex items-center ${\n                          isDarkMode ? 'hover:text-orange-400' : ''\n                        }`}\n                      >\n                        <FiEdit className=\"w-4 h-4 mr-1\" />\n                        Edit\n                      </button>\n                    </div>\n                    <div className={`text-sm ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      <p className=\"font-medium\">{deliveryAddress.fullName}</p>\n                      <p>{deliveryAddress.phone}</p>\n                      <p>{deliveryAddress.addressLine1}</p>\n                      {deliveryAddress.addressLine2 && <p>{deliveryAddress.addressLine2}</p>}\n                      <p>{deliveryAddress.city}, {deliveryAddress.state} - {deliveryAddress.pincode}</p>\n                      {deliveryAddress.landmark && <p>Landmark: {deliveryAddress.landmark}</p>}\n                    </div>\n                  </div>\n\n                  {/* Payment Method Card */}\n                  <div className={`p-4 rounded-lg ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                        Payment Method\n                      </h3>\n                      <button\n                        onClick={() => setCurrentStep(2)}\n                        className={`text-sm text-orange-500 hover:text-orange-600 flex items-center ${\n                          isDarkMode ? 'hover:text-orange-400' : ''\n                        }`}\n                      >\n                        <FiEdit className=\"w-4 h-4 mr-1\" />\n                        Edit\n                      </button>\n                    </div>\n                    <p className={`text-sm ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      {paymentMethod === 'cod' ? ' Cash on Delivery' : ' Online Payment (Razorpay)'}\n                    </p>\n                  </div>\n                </div>\n\n                {/* Order Notes */}\n                <div className=\"mb-6\">\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                    Order Notes (Optional)\n                  </label>\n                  <textarea\n                    value={orderNotes}\n                    onChange={(e) => setOrderNotes(e.target.value)}\n                    placeholder=\"Any special instructions for your order...\"\n                    className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                      isDarkMode \n                        ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                        : 'bg-white border-gray-300 text-gray-900'\n                    }`}\n                    rows=\"3\"\n                  />\n                </div>\n\n                <div className=\"flex flex-col sm:flex-row gap-3\">\n                  <button\n                    onClick={() => setCurrentStep(2)}\n                    className={`px-6 py-3 rounded-xl font-medium transition-all ${\n                      isDarkMode \n                        ? 'bg-gray-700 text-gray-300 hover:bg-gray-600' \n                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                    }`}\n                  >\n                     Back to Payment\n                  </button>\n                  <button\n                    onClick={handlePlaceOrder}\n                    disabled={loading}\n                    className={`flex-1 py-3 md:py-4 px-6 rounded-xl font-bold text-white transition-all disabled:opacity-50 ${\n                      isDarkMode\n                        ? 'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-lg shadow-blue-500/25'\n                        : 'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-lg hover:shadow-xl'\n                    }`}\n                  >\n                    {loading ? (\n                      <div className=\"flex items-center justify-center\">\n                        <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\n                        Placing Order...\n                      </div>\n                    ) : (\n                      <>\n                        <FiShield className=\"w-5 h-5 mr-2 inline\" />\n                        Place Order - {total.toFixed(2)}\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Right Column - Order Summary (Sticky Sidebar) */}\n          <div className=\"lg:col-span-1\">\n            <div className={`rounded-xl shadow-lg p-4 md:p-6 border sticky top-4 ${\n              isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'\n            }`}>\n              <h3 className={`text-lg md:text-xl font-bold mb-4 ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n                Order Summary\n              </h3>\n              \n              {/* Cart Items */}\n              <div className=\"space-y-3 mb-4 max-h-60 overflow-y-auto\">\n                {cart.map((item) => (\n                  <div key={item._id} className=\"flex justify-between items-start\">\n                    <div className=\"flex items-center flex-1 mr-3\">\n                      <div className={`w-10 h-10 md:w-12 md:h-12 rounded-lg border ${isDarkMode ? 'border-gray-600' : 'border-gray-200'} mr-2 md:mr-3 overflow-hidden flex-shrink-0`}>\n                        <img\n                          src={getFoodImageSrc(item.product || item)}\n                          alt={item.product?.name || item.name}\n                          className=\"w-full h-full object-cover\"\n                          onError={(e) => handleImageError(e, item.product || item)}\n                        />\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className={`font-medium text-sm ${isDarkMode ? 'text-white' : 'text-gray-900'} truncate`}>\n                          {item.product?.name || item.name}\n                        </p>\n                        <p className={`text-xs ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                          Qty: {item.quantity || 1}\n                        </p>\n                      </div>\n                    </div>\n                    <p className={`font-semibold text-sm ${isDarkMode ? 'text-white' : 'text-gray-900'} flex-shrink-0`}>\n                      {((item.product?.price || item.price || 0) * (item.quantity || 1)).toFixed(2)}\n                    </p>\n                  </div>\n                ))}\n              </div>\n\n              <div className={`border-t pt-4 space-y-2 ${isDarkMode ? 'border-gray-700' : 'border-gray-200'}`}>\n                <div className=\"flex justify-between\">\n                  <span className={isDarkMode ? 'text-gray-400' : 'text-gray-600'}>Subtotal</span>\n                  <span className={isDarkMode ? 'text-white' : 'text-gray-900'}>{subtotal.toFixed(2)}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className={isDarkMode ? 'text-gray-400' : 'text-gray-600'}>Delivery Fee</span>\n                  <span className={`${deliveryFee === 0 ? 'text-green-500' : ''} ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                    {deliveryFee === 0 ? 'FREE' : `${deliveryFee.toFixed(2)}`}\n                  </span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className={isDarkMode ? 'text-gray-400' : 'text-gray-600'}>Tax (5%)</span>\n                  <span className={isDarkMode ? 'text-white' : 'text-gray-900'}>{tax.toFixed(2)}</span>\n                </div>\n                <div className={`flex justify-between text-base md:text-lg font-bold pt-2 border-t ${\n                  isDarkMode ? 'border-gray-700 text-white' : 'border-gray-200 text-gray-900'\n                }`}>\n                  <span>Total</span>\n                  <span>{total.toFixed(2)}</span>\n                </div>\n              </div>\n\n              {/* Security Badge */}\n              <div className={`mt-4 p-3 rounded-lg text-center ${isDarkMode ? 'bg-green-900/20' : 'bg-green-50'}`}>\n                <FiShield className=\"w-5 h-5 mx-auto mb-1 text-green-500\" />\n                <p className=\"text-xs text-green-600 font-medium\">\n                  Your payment information is encrypted and secure\n                </p>\n              </div>\n\n              {/* Razorpay Branding */}\n              {paymentMethod === 'razorpay' && (\n                <div className={`mt-3 p-2 rounded text-center ${isDarkMode ? 'bg-blue-900/20' : 'bg-blue-50'}`}>\n                  <p className=\"text-xs text-blue-600 font-medium\">\n                    Powered by Razorpay\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Checkout;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}