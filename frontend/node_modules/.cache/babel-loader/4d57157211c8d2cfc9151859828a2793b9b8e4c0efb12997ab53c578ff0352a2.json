{"ast":null,"code":"import React,{useContext}from'react';import{Navigate,useLocation}from'react-router-dom';import{AuthContext}from'../Context/AuthContext';import{FiLock,FiUser,FiArrowRight}from'react-icons/fi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,requireAuth=true,redirectTo='/login'}=_ref;const{user,loading}=useContext(AuthContext);const location=useLocation();// Show loading while checking authentication\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 border-4 border-orange-200 border-t-orange-500 rounded-full animate-spin mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Checking authentication...\"})]})});}// If authentication is required but user is not authenticated\nif(requireAuth&&!user){return/*#__PURE__*/_jsx(Navigate,{to:redirectTo,state:{from:location},replace:true});}// If user is authenticated but trying to access auth pages (login/signup)\nif(!requireAuth&&user&&(location.pathname==='/login'||location.pathname==='/signup')){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}return children;};// Component to show when access is denied\nconst AccessDenied=_ref2=>{let{title=\"Access Denied\",message=\"You need to be logged in to access this page.\",showLoginButton=true}=_ref2;return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md w-full mx-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(FiLock,{className:\"w-8 h-8 text-red-500\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:message}),showLoginButton&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/login',className:\"w-full flex items-center justify-center space-x-2 bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 px-4 rounded-lg transition-colors\",children:[/*#__PURE__*/_jsx(FiUser,{size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Login to Continue\"}),/*#__PURE__*/_jsx(FiArrowRight,{size:18})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.history.back(),className:\"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3 px-4 rounded-lg transition-colors\",children:\"Go Back\"})]})]})})});};export default ProtectedRoute;export{AccessDenied};","map":{"version":3,"names":["React","useContext","Navigate","useLocation","AuthContext","FiLock","FiUser","FiArrowRight","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","requireAuth","redirectTo","user","loading","location","className","to","state","from","replace","pathname","AccessDenied","_ref2","title","message","showLoginButton","onClick","window","href","size","history","back"],"sources":["D:/food_delievery2/frontend/src/assets/components/ProtectedRoute.jsx"],"sourcesContent":["import React, { useContext } from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\nimport { AuthContext } from '../Context/AuthContext';\r\nimport { FiLock, FiUser, FiArrowRight } from 'react-icons/fi';\r\n\r\nconst ProtectedRoute = ({ children, requireAuth = true, redirectTo = '/login' }) => {\r\n  const { user, loading } = useContext(AuthContext);\r\n  const location = useLocation();\r\n\r\n  // Show loading while checking authentication\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-16 h-16 border-4 border-orange-200 border-t-orange-500 rounded-full animate-spin mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Checking authentication...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // If authentication is required but user is not authenticated\r\n  if (requireAuth && !user) {\r\n    return <Navigate to={redirectTo} state={{ from: location }} replace />;\r\n  }\r\n\r\n  // If user is authenticated but trying to access auth pages (login/signup)\r\n  if (!requireAuth && user && (location.pathname === '/login' || location.pathname === '/signup')) {\r\n    return <Navigate to=\"/\" replace />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\n// Component to show when access is denied\r\nconst AccessDenied = ({ \r\n  title = \"Access Denied\",\r\n  message = \"You need to be logged in to access this page.\",\r\n  showLoginButton = true\r\n}) => {\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n      <div className=\"max-w-md w-full mx-4\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-8 text-center\">\r\n          <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n            <FiLock className=\"w-8 h-8 text-red-500\" />\r\n          </div>\r\n          \r\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">{title}</h2>\r\n          <p className=\"text-gray-600 mb-6\">{message}</p>\r\n          \r\n          {showLoginButton && (\r\n            <div className=\"space-y-3\">\r\n              <button\r\n                onClick={() => window.location.href = '/login'}\r\n                className=\"w-full flex items-center justify-center space-x-2 bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 px-4 rounded-lg transition-colors\"\r\n              >\r\n                <FiUser size={18} />\r\n                <span>Login to Continue</span>\r\n                <FiArrowRight size={18} />\r\n              </button>\r\n              \r\n              <button\r\n                onClick={() => window.history.back()}\r\n                className=\"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3 px-4 rounded-lg transition-colors\"\r\n              >\r\n                Go Back\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\nexport { AccessDenied };\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}