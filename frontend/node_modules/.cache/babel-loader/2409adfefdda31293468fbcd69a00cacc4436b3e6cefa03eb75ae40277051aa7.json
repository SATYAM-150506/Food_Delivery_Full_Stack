{"ast":null,"code":"import _objectSpread from\"D:/food_delievery2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useContext,useEffect}from'react';import{useNavigate}from'react-router-dom';import{CartContext}from'../../Context/CartContext';import{AuthContext}from'../../Context/AuthContext';import{useDarkMode}from'../../Context/DarkModeContext';import{useToast}from'../../components/ToastContainer';import{FiArrowLeft,FiMapPin,FiCreditCard,FiCheck,FiTruck,FiShield,FiPhone,FiUser,FiEdit}from'react-icons/fi';import orderService from'../../services/orderService';import paymentService from'../../services/paymentService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Checkout=()=>{const{cart,getCartTotal,clearCart}=useContext(CartContext);const{user}=useContext(AuthContext);const{isDarkMode}=useDarkMode();const{showSuccess,showError}=useToast();const navigate=useNavigate();// State for checkout steps\nconst[currentStep,setCurrentStep]=useState(1);const[loading,setLoading]=useState(false);const[stepLoading,setStepLoading]=useState(false);// Address form state\nconst[deliveryAddress,setDeliveryAddress]=useState({fullName:(user===null||user===void 0?void 0:user.name)||'',phone:(user===null||user===void 0?void 0:user.phone)||'',email:(user===null||user===void 0?void 0:user.email)||'',addressLine1:'',addressLine2:'',city:'',state:'',pincode:'',landmark:''});// Payment state\nconst[paymentMethod,setPaymentMethod]=useState('card');const[orderNotes,setOrderNotes]=useState('');// Pricing calculations\nconst subtotal=getCartTotal?getCartTotal():cart.reduce((sum,item)=>{var _item$product;const price=((_item$product=item.product)===null||_item$product===void 0?void 0:_item$product.price)||item.price||0;return sum+price*(item.quantity||1);},0);const deliveryFee=subtotal>299?0:49;const tax=Math.round(subtotal*0.05);// 5% tax\nconst total=subtotal+deliveryFee+tax;useEffect(()=>{// Only redirect if cart is empty\nif(!cart||cart.length===0){navigate('/cart');return;}},[cart,navigate]);const handleAddressChange=(field,value)=>{setDeliveryAddress(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const validateAddress=()=>{const required=['fullName','phone','email','addressLine1','city','state','pincode'];return required.every(field=>deliveryAddress[field].trim()!=='');};const validateEmail=email=>{const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return emailRegex.test(email);};const validatePhoneNumber=phone=>{const phoneRegex=/^[6-9]\\d{9}$/;return phoneRegex.test(phone);};const validatePincode=pincode=>{const pincodeRegex=/^[1-9][0-9]{5}$/;return pincodeRegex.test(pincode);};const handleAddressSubmit=async()=>{if(!validateAddress()){showError('Please fill all required address fields');return;}if(!validatePhoneNumber(deliveryAddress.phone)){showError('Please enter a valid 10-digit phone number');return;}if(!validateEmail(deliveryAddress.email)){showError('Please enter a valid email address');return;}if(!validatePincode(deliveryAddress.pincode)){showError('Please enter a valid 6-digit PIN code');return;}setStepLoading(true);// Simulate API call for address validation\nawait new Promise(resolve=>setTimeout(resolve,1000));setStepLoading(false);showSuccess('Address validated successfully!');setCurrentStep(2);};const handlePaymentMethodSubmit=async()=>{setStepLoading(true);await new Promise(resolve=>setTimeout(resolve,500));setStepLoading(false);showSuccess('Payment method selected!');setCurrentStep(3);};const handlePlaceOrder=async()=>{if(!validateAddress()){showError('Please fill all required address fields');return;}setLoading(true);try{// Prepare order data\nconst orderData={items:cart.map(item=>{var _item$product2,_item$product3;return{product:((_item$product2=item.product)===null||_item$product2===void 0?void 0:_item$product2._id)||item._id,quantity:item.quantity,price:((_item$product3=item.product)===null||_item$product3===void 0?void 0:_item$product3.price)||item.price||0};}),deliveryAddress,// backend expects paymentMethod enum values: 'razorpay' or 'cod'\npaymentMethod:paymentMethod==='card'?'razorpay':paymentMethod,orderNotes,subtotal,deliveryFee,tax,total,paymentStatus:paymentMethod==='cod'?'pending':'pending'};if(paymentMethod==='cod'){// Cash on Delivery - Direct order placement\nconst response=await orderService.createOrder(orderData);if(response&&response.success!==false){const createdOrder=response.order||response;clearCart();showSuccess('Order placed successfully! You can pay cash on delivery.');navigate('/order-confirmation',{state:{orderData:createdOrder,orderId:createdOrder._id}});}else{throw new Error((response===null||response===void 0?void 0:response.error)||'Failed to place order');}}else{// Online Payment - Razorpay Integration\n// Step 1: Create order first with pending payment status\nconst pendingOrderData=_objectSpread(_objectSpread({},orderData),{},{paymentStatus:'pending',status:'pending'});const pendingOrder=await orderService.createOrder(pendingOrderData);if(!pendingOrder||pendingOrder.success===false){throw new Error((pendingOrder===null||pendingOrder===void 0?void 0:pendingOrder.error)||'Failed to create order');}const createdOrder=pendingOrder.order||pendingOrder;// Step 2: Create Razorpay payment order\nconst paymentOrderData={amount:total,currency:'INR',items:orderData.items,address:deliveryAddress,total:total,orderId:createdOrder._id};const paymentResponse=await paymentService.processPayment(paymentOrderData);if(!paymentResponse.success){throw new Error('Failed to create payment order');}// Step 3: Update order with Razorpay order ID immediately\nawait orderService.updateOrder(createdOrder._id,{razorpayOrderId:paymentResponse.razorpayOrder.id});// Configure Razorpay options\nconst razorpayOptions={key:paymentResponse.key_id||'rzp_test_RAi5uQX3MTrzfi',amount:paymentResponse.razorpayOrder.amount,currency:paymentResponse.currency,order_id:paymentResponse.razorpayOrder.id,name:'Food Delivery',description:\"Order for \".concat(cart.length,\" items\"),image:'/favicon.ico',prefill:{name:(user===null||user===void 0?void 0:user.name)||deliveryAddress.fullName,email:(user===null||user===void 0?void 0:user.email)||'',contact:deliveryAddress.phone},theme:{color:'#F97316'},handler:async function(response){try{// Verify payment\nconst verifyData={razorpayOrderId:response.razorpay_order_id,razorpayPaymentId:response.razorpay_payment_id,razorpaySignature:response.razorpay_signature};const verifyResponse=await paymentService.verifyPayment(verifyData);if(verifyResponse.message==='Payment verified successfully'){clearCart();showSuccess('Payment successful! Order placed successfully.');navigate('/order-confirmation',{state:{orderData:_objectSpread(_objectSpread({},createdOrder),{},{paymentStatus:'completed',status:'confirmed',paymentId:response.razorpay_payment_id}),orderId:createdOrder._id}});}else{throw new Error('Payment verification failed');}}catch(error){console.error('Payment verification error:',error);showError('Payment verification failed. Please contact support.');// Navigate to orders page so user can see their order status\nnavigate('/orders');}finally{setLoading(false);}},modal:{ondismiss:function(){showError('Payment cancelled. Your order was not placed.');setLoading(false);}}};// Initialize Razorpay\nif(!window.Razorpay){const script=document.createElement('script');script.src='https://checkout.razorpay.com/v1/checkout.js';script.onload=()=>{const rzp=new window.Razorpay(razorpayOptions);rzp.open();};script.onerror=()=>{showError('Failed to load payment gateway. Please try again.');setLoading(false);};document.body.appendChild(script);}else{const rzp=new window.Razorpay(razorpayOptions);rzp.open();}return;}}catch(error){var _error$response;console.error('Order placement error:',error);if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){showError('Your session has expired. Please login again.');navigate('/login');}else{var _error$response2,_error$response2$data;showError(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||error.message||'Failed to place order');}}finally{if(paymentMethod==='cod'){setLoading(false);}}};// If cart is empty, redirect\nif(!cart||cart.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center \".concat(isDarkMode?'bg-gray-900':'bg-gray-50'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center max-w-md mx-auto p-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center \".concat(isDarkMode?'bg-gray-800':'bg-gray-200'),children:/*#__PURE__*/_jsx(FiTruck,{size:32,className:isDarkMode?'text-gray-400':'text-gray-600'})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4 \".concat(isDarkMode?'text-white':'text-gray-900'),children:\"Your cart is empty\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-6 \".concat(isDarkMode?'text-gray-400':'text-gray-600'),children:\"Add some items to your cart to proceed with checkout\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/products'),className:\"px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg hover:from-orange-600 hover:to-red-600 transition-all font-semibold shadow-lg\",children:\"Browse Products\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen \".concat(isDarkMode?'bg-gray-900':'bg-gray-50'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/cart'),className:\"flex items-center mb-4 transition-colors \".concat(isDarkMode?'text-gray-400 hover:text-gray-200':'text-gray-600 hover:text-gray-800'),children:[/*#__PURE__*/_jsx(FiArrowLeft,{className:\"mr-2\"}),\"Back to Cart\"]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl md:text-3xl font-bold \".concat(isDarkMode?'text-white':'text-gray-800'),children:\"Secure Checkout\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm mt-1 \".concat(isDarkMode?'text-gray-400':'text-gray-600'),children:[\"Step \",currentStep,\" of 3 \\u2022 Powered by Razorpay\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8 p-4 md:p-6 rounded-xl \".concat(isDarkMode?'bg-gray-800 border border-gray-700':'bg-white border border-gray-200',\" shadow-sm\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>currentStep>1&&setCurrentStep(1),disabled:currentStep===1,className:\"w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all \".concat(currentStep>=1?'bg-green-500 text-white shadow-lg shadow-green-500/25':isDarkMode?'bg-gray-700 text-gray-400':'bg-gray-200 text-gray-600',\" \").concat(currentStep>1?'cursor-pointer hover:shadow-xl':''),children:currentStep>1?/*#__PURE__*/_jsx(FiCheck,{size:14}):'1'}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:block\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm md:text-base \".concat(isDarkMode?'text-white':'text-gray-900'),children:\"Address\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs md:text-sm \".concat(isDarkMode?'text-gray-400':'text-gray-600'),children:\"Delivery details\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 mx-2 md:mx-4 h-1 rounded-full \".concat(isDarkMode?'bg-gray-700':'bg-gray-200'),children:/*#__PURE__*/_jsx(\"div\",{className:\"h-1 rounded-full transition-all duration-500 \".concat(currentStep>=2?'bg-green-500':'bg-transparent'),style:{width:currentStep>=2?'100%':'0%'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>currentStep>2&&setCurrentStep(2),disabled:currentStep<=1,className:\"w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all \".concat(currentStep>=2?'bg-green-500 text-white shadow-lg shadow-green-500/25':isDarkMode?'bg-gray-700 text-gray-400':'bg-gray-200 text-gray-600',\" \").concat(currentStep>2?'cursor-pointer hover:shadow-xl':''),children:currentStep>2?/*#__PURE__*/_jsx(FiCheck,{size:14}):'2'}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:block\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm md:text-base \".concat(isDarkMode?'text-white':'text-gray-900'),children:\"Payment\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs md:text-sm \".concat(isDarkMode?'text-gray-400':'text-gray-600'),children:\"Choose method\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 mx-2 md:mx-4 h-1 rounded-full \".concat(isDarkMode?'bg-gray-700':'bg-gray-200'),children:/*#__PURE__*/_jsx(\"div\",{className:\"h-1 rounded-full transition-all duration-500 \".concat(currentStep>=3?'bg-green-500':'bg-transparent'),style:{width:currentStep>=3?'100%':'0%'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all \".concat(currentStep>=3?'bg-green-500 text-white shadow-lg shadow-green-500/25':isDarkMode?'bg-gray-700 text-gray-400':'bg-gray-200 text-gray-600'),children:\"3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:block\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm md:text-base \".concat(isDarkMode?'text-white':'text-gray-900'),children:\"Review\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs md:text-sm \".concat(isDarkMode?'text-gray-400':'text-gray-600'),children:\"Place order\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[currentStep===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl shadow-lg p-4 md:p-6 border transition-all \".concat(isDarkMode?'bg-gray-800 border-gray-700':'bg-white border-gray-100'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(FiMapPin,{className:\"w-5 h-5 md:w-6 md:h-6 mr-3 text-orange-500\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg md:text-xl font-bold \".concat(isDarkMode?'text-white':'text-gray-800'),children:\"Delivery Address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 \".concat(isDarkMode?'text-gray-300':'text-gray-700'),children:\"Full Name *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(FiUser,{className:\"absolute left-3 top-3.5 w-4 h-4 \".concat(isDarkMode?'text-gray-400':'text-gray-500')}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:deliveryAddress.fullName,onChange:e=>handleAddressChange('fullName',e.target.value),className:\"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all \".concat(isDarkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400':'bg-white border-gray-300 text-gray-900'),placeholder:\"Enter your full name\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 \".concat(isDarkMode?'text-gray-300':'text-gray-700'),children:\"Phone Number *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(FiPhone,{className:\"absolute left-3 top-3.5 w-4 h-4 \".concat(isDarkMode?'text-gray-400':'text-gray-500')}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:deliveryAddress.phone,onChange:e=>handleAddressChange('phone',e.target.value),className:\"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all \".concat(isDarkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400':'bg-white border-gray-300 text-gray-900'),placeholder:\"Enter 10-digit phone number\",maxLength:\"10\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 \".concat(isDarkMode?'text-gray-300':'text-gray-700'),children:\"Address Line 1 *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:deliveryAddress.addressLine1,onChange:e=>handleAddressChange('addressLine1',e.target.value),placeholder:\"House/Flat No., Street Name\",className:\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all \".concat(isDarkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400':'bg-white border-gray-300 text-gray-900'),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 \".concat(isDarkMode?'text-gray-300':'text-gray-700'),children:\"Address Line 2 (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:deliveryAddress.addressLine2,onChange:e=>handleAddressChange('addressLine2',e.target.value),placeholder:\"Apartment, Floor, Building (Optional)\",className:\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all \".concat(isDarkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400':'bg-white border-gray-300 text-gray-900')})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 \".concat(isDarkMode?'text-gray-300':'text-gray-700'),children:\"City *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:deliveryAddress.city,onChange:e=>handleAddressChange('city',e.target.value),className:\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all \".concat(isDarkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400':'bg-white border-gray-300 text-gray-900'),placeholder:\"Enter city\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 \".concat(isDarkMode?'text-gray-300':'text-gray-700'),children:\"State *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:deliveryAddress.state,onChange:e=>handleAddressChange('state',e.target.value),className:\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all \".concat(isDarkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400':'bg-white border-gray-300 text-gray-900'),placeholder:\"Enter state\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 \".concat(isDarkMode?'text-gray-300':'text-gray-700'),children:\"PIN Code *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:deliveryAddress.pincode,onChange:e=>handleAddressChange('pincode',e.target.value),className:\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all \".concat(isDarkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400':'bg-white border-gray-300 text-gray-900'),placeholder:\"Enter 6-digit PIN code\",maxLength:\"6\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 \".concat(isDarkMode?'text-gray-300':'text-gray-700'),children:\"Landmark (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:deliveryAddress.landmark,onChange:e=>handleAddressChange('landmark',e.target.value),placeholder:\"Near bus stop, mall, etc.\",className:\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all \".concat(isDarkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400':'bg-white border-gray-300 text-gray-900')})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 \".concat(isDarkMode?'text-gray-300':'text-gray-700'),children:\"Email Address *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(FiShield,{className:\"absolute left-3 top-3.5 w-4 h-4 \".concat(isDarkMode?'text-gray-400':'text-gray-500')}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:deliveryAddress.email,onChange:e=>handleAddressChange('email',e.target.value),className:\"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all \".concat(isDarkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400':'bg-white border-gray-300 text-gray-900'),placeholder:\"Enter your email\",required:true})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddressSubmit,disabled:!validateAddress()||stepLoading,className:\"w-full py-3 md:py-4 px-6 rounded-xl font-semibold text-white transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed \".concat(isDarkMode?'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg shadow-orange-500/25':'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg hover:shadow-xl'),children:stepLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"}),\"Validating Address...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Continue to Payment\",/*#__PURE__*/_jsx(FiArrowLeft,{className:\"ml-2 rotate-180 w-4 h-4 inline\"})]})})]}),currentStep===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl shadow-lg p-4 md:p-6 border transition-all \".concat(isDarkMode?'bg-gray-800 border-gray-700':'bg-white border-gray-100'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(FiCreditCard,{className:\"w-5 h-5 md:w-6 md:h-6 mr-3 text-green-500\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg md:text-xl font-bold \".concat(isDarkMode?'text-white':'text-gray-800'),children:\"Payment Method\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-2 rounded-xl cursor-pointer transition-all \".concat(paymentMethod==='card'?'border-green-500 bg-green-50 dark:bg-green-900/20':isDarkMode?'border-gray-700 bg-gray-700/50':'border-gray-200 bg-gray-50'),onClick:()=>setPaymentMethod('card'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"paymentMethod\",value:\"card\",checked:paymentMethod==='card',onChange:()=>setPaymentMethod('card'),className:\"mr-3 text-green-500\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold \".concat(isDarkMode?'text-white':'text-gray-900'),children:\"Online Payment (Recommended)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(isDarkMode?'text-gray-400':'text-gray-600'),children:\"Pay securely with UPI, Cards, Net Banking & Wallets\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-2 space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded\",children:\"Secure\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded\",children:\"Instant\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-2 rounded-xl cursor-pointer transition-all \".concat(paymentMethod==='cod'?'border-green-500 bg-green-50 dark:bg-green-900/20':isDarkMode?'border-gray-700 bg-gray-700/50':'border-gray-200 bg-gray-50'),onClick:()=>setPaymentMethod('cod'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"paymentMethod\",value:\"cod\",checked:paymentMethod==='cod',onChange:()=>setPaymentMethod('cod'),className:\"mr-3 text-green-500\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold \".concat(isDarkMode?'text-white':'text-gray-900'),children:\"Cash on Delivery\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(isDarkMode?'text-gray-400':'text-gray-600'),children:\"Pay with cash when your order arrives\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentStep(1),className:\"px-6 py-3 rounded-xl font-medium transition-all \".concat(isDarkMode?'bg-gray-700 text-gray-300 hover:bg-gray-600':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:\"\\u2190 Back to Address\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePaymentMethodSubmit,disabled:stepLoading,className:\"flex-1 py-3 px-6 rounded-xl font-semibold text-white transition-all disabled:opacity-50 \".concat(isDarkMode?'bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 shadow-lg shadow-green-500/25':'bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 shadow-lg hover:shadow-xl'),children:stepLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"}),\"Processing...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Continue to Review\",/*#__PURE__*/_jsx(FiArrowLeft,{className:\"ml-2 rotate-180 w-4 h-4 inline\"})]})})]})]}),currentStep===3&&/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl shadow-lg p-4 md:p-6 border transition-all \".concat(isDarkMode?'bg-gray-800 border-gray-700':'bg-white border-gray-100'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(FiCheck,{className:\"w-5 h-5 md:w-6 md:h-6 mr-3 text-purple-500\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg md:text-xl font-bold \".concat(isDarkMode?'text-white':'text-gray-800'),children:\"Review Your Order\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg \".concat(isDarkMode?'bg-gray-700':'bg-gray-50'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold \".concat(isDarkMode?'text-white':'text-gray-900'),children:\"Delivery Address\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentStep(1),className:\"text-sm text-orange-500 hover:text-orange-600 flex items-center \".concat(isDarkMode?'hover:text-orange-400':''),children:[/*#__PURE__*/_jsx(FiEdit,{className:\"w-4 h-4 mr-1\"}),\"Edit\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm \".concat(isDarkMode?'text-gray-300':'text-gray-700'),children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:deliveryAddress.fullName}),/*#__PURE__*/_jsx(\"p\",{children:deliveryAddress.phone}),/*#__PURE__*/_jsx(\"p\",{children:deliveryAddress.addressLine1}),deliveryAddress.addressLine2&&/*#__PURE__*/_jsx(\"p\",{children:deliveryAddress.addressLine2}),/*#__PURE__*/_jsxs(\"p\",{children:[deliveryAddress.city,\", \",deliveryAddress.state,\" - \",deliveryAddress.pincode]}),deliveryAddress.landmark&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Landmark: \",deliveryAddress.landmark]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg \".concat(isDarkMode?'bg-gray-700':'bg-gray-50'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold \".concat(isDarkMode?'text-white':'text-gray-900'),children:\"Payment Method\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentStep(2),className:\"text-sm text-orange-500 hover:text-orange-600 flex items-center \".concat(isDarkMode?'hover:text-orange-400':''),children:[/*#__PURE__*/_jsx(FiEdit,{className:\"w-4 h-4 mr-1\"}),\"Edit\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(isDarkMode?'text-gray-300':'text-gray-700'),children:paymentMethod==='cod'?'ðŸ’µ Cash on Delivery':'ðŸ’³ Online Payment (Razorpay)'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2 \".concat(isDarkMode?'text-gray-300':'text-gray-700'),children:\"Order Notes (Optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:orderNotes,onChange:e=>setOrderNotes(e.target.value),placeholder:\"Any special instructions for your order...\",className:\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all \".concat(isDarkMode?'bg-gray-700 border-gray-600 text-white placeholder-gray-400':'bg-white border-gray-300 text-gray-900'),rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentStep(2),className:\"px-6 py-3 rounded-xl font-medium transition-all \".concat(isDarkMode?'bg-gray-700 text-gray-300 hover:bg-gray-600':'bg-gray-200 text-gray-700 hover:bg-gray-300'),children:\"\\u2190 Back to Payment\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePlaceOrder,disabled:loading,className:\"flex-1 py-3 md:py-4 px-6 rounded-xl font-bold text-white transition-all disabled:opacity-50 \".concat(isDarkMode?'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-lg shadow-blue-500/25':'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-lg hover:shadow-xl'),children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"}),\"Placing Order...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FiShield,{className:\"w-5 h-5 mr-2 inline\"}),\"Place Order - \\u20B9\",total.toFixed(2)]})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl shadow-lg p-4 md:p-6 border sticky top-4 \".concat(isDarkMode?'bg-gray-800 border-gray-700':'bg-white border-gray-100'),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg md:text-xl font-bold mb-4 \".concat(isDarkMode?'text-white':'text-gray-800'),children:\"Order Summary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 mb-4 max-h-60 overflow-y-auto\",children:cart.map(item=>{var _item$product4,_item$product5,_item$product6,_item$product7;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center flex-1 mr-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 md:w-12 md:h-12 rounded-lg border \".concat(isDarkMode?'border-gray-600':'border-gray-200',\" mr-2 md:mr-3 overflow-hidden flex-shrink-0\"),children:/*#__PURE__*/_jsx(\"img\",{src:((_item$product4=item.product)===null||_item$product4===void 0?void 0:_item$product4.imageUrl)||item.imageUrl||item.image||'/favicon.ico',alt:((_item$product5=item.product)===null||_item$product5===void 0?void 0:_item$product5.name)||item.name,className:\"w-full h-full object-cover\",onError:e=>{e.target.src='/favicon.ico';}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-sm \".concat(isDarkMode?'text-white':'text-gray-900',\" truncate\"),children:((_item$product6=item.product)===null||_item$product6===void 0?void 0:_item$product6.name)||item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs \".concat(isDarkMode?'text-gray-400':'text-gray-600'),children:[\"Qty: \",item.quantity||1]})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-sm \".concat(isDarkMode?'text-white':'text-gray-900',\" flex-shrink-0\"),children:[\"\\u20B9\",((((_item$product7=item.product)===null||_item$product7===void 0?void 0:_item$product7.price)||item.price||0)*(item.quantity||1)).toFixed(2)]})]},item._id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4 space-y-2 \".concat(isDarkMode?'border-gray-700':'border-gray-200'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:isDarkMode?'text-gray-400':'text-gray-600',children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"span\",{className:isDarkMode?'text-white':'text-gray-900',children:[\"\\u20B9\",subtotal.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:isDarkMode?'text-gray-400':'text-gray-600',children:\"Delivery Fee\"}),/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(deliveryFee===0?'text-green-500':'',\" \").concat(isDarkMode?'text-white':'text-gray-900'),children:deliveryFee===0?'FREE':\"\\u20B9\".concat(deliveryFee.toFixed(2))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:isDarkMode?'text-gray-400':'text-gray-600',children:\"Tax (5%)\"}),/*#__PURE__*/_jsxs(\"span\",{className:isDarkMode?'text-white':'text-gray-900',children:[\"\\u20B9\",tax.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-base md:text-lg font-bold pt-2 border-t \".concat(isDarkMode?'border-gray-700 text-white':'border-gray-200 text-gray-900'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",total.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 rounded-lg text-center \".concat(isDarkMode?'bg-green-900/20':'bg-green-50'),children:[/*#__PURE__*/_jsx(FiShield,{className:\"w-5 h-5 mx-auto mb-1 text-green-500\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-green-600 font-medium\",children:\"Your payment information is encrypted and secure\"})]}),paymentMethod==='card'&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 p-2 rounded text-center \".concat(isDarkMode?'bg-blue-900/20':'bg-blue-50'),children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-600 font-medium\",children:\"Powered by Razorpay\"})})]})})]})]})});};export default Checkout;","map":{"version":3,"names":["React","useState","useContext","useEffect","useNavigate","CartContext","AuthContext","useDarkMode","useToast","FiArrowLeft","FiMapPin","FiCreditCard","FiCheck","FiTruck","FiShield","FiPhone","FiUser","FiEdit","orderService","paymentService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Checkout","cart","getCartTotal","clearCart","user","isDarkMode","showSuccess","showError","navigate","currentStep","setCurrentStep","loading","setLoading","stepLoading","setStepLoading","deliveryAddress","setDeliveryAddress","fullName","name","phone","email","addressLine1","addressLine2","city","state","pincode","landmark","paymentMethod","setPaymentMethod","orderNotes","setOrderNotes","subtotal","reduce","sum","item","_item$product","price","product","quantity","deliveryFee","tax","Math","round","total","length","handleAddressChange","field","value","prev","_objectSpread","validateAddress","required","every","trim","validateEmail","emailRegex","test","validatePhoneNumber","phoneRegex","validatePincode","pincodeRegex","handleAddressSubmit","Promise","resolve","setTimeout","handlePaymentMethodSubmit","handlePlaceOrder","orderData","items","map","_item$product2","_item$product3","_id","paymentStatus","response","createOrder","success","createdOrder","order","orderId","Error","error","pendingOrderData","status","pendingOrder","paymentOrderData","amount","currency","address","paymentResponse","processPayment","updateOrder","razorpayOrderId","razorpayOrder","id","razorpayOptions","key","key_id","order_id","description","concat","image","prefill","contact","theme","color","handler","verifyData","razorpay_order_id","razorpayPaymentId","razorpay_payment_id","razorpaySignature","razorpay_signature","verifyResponse","verifyPayment","message","paymentId","console","modal","ondismiss","window","Razorpay","script","document","createElement","src","onload","rzp","open","onerror","body","appendChild","_error$response","_error$response2","_error$response2$data","data","className","children","size","onClick","disabled","style","width","type","onChange","e","target","placeholder","maxLength","checked","rows","toFixed","_item$product4","_item$product5","_item$product6","_item$product7","imageUrl","alt","onError"],"sources":["D:/food_delievery2/frontend/src/assets/pages/Payment/Checkout.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { CartContext } from '../../Context/CartContext';\nimport { AuthContext } from '../../Context/AuthContext';\nimport { useDarkMode } from '../../Context/DarkModeContext';\nimport { useToast } from '../../components/ToastContainer';\nimport { FiArrowLeft, FiMapPin, FiCreditCard, FiCheck, FiTruck, FiShield, FiPhone, FiUser, FiEdit } from 'react-icons/fi';\nimport orderService from '../../services/orderService';\nimport paymentService from '../../services/paymentService';\n\nconst Checkout = () => {\n  const { cart, getCartTotal, clearCart } = useContext(CartContext);\n  const { user } = useContext(AuthContext);\n  const { isDarkMode } = useDarkMode();\n  const { showSuccess, showError } = useToast();\n  const navigate = useNavigate();\n\n  // State for checkout steps\n  const [currentStep, setCurrentStep] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [stepLoading, setStepLoading] = useState(false);\n\n  // Address form state\n  const [deliveryAddress, setDeliveryAddress] = useState({\n    fullName: user?.name || '',\n    phone: user?.phone || '',\n    email: user?.email || '',\n    addressLine1: '',\n    addressLine2: '',\n    city: '',\n    state: '',\n    pincode: '',\n    landmark: ''\n  });\n\n  // Payment state\n  const [paymentMethod, setPaymentMethod] = useState('card');\n  const [orderNotes, setOrderNotes] = useState('');\n\n  // Pricing calculations\n  const subtotal = getCartTotal ? getCartTotal() : cart.reduce((sum, item) => {\n    const price = item.product?.price || item.price || 0;\n    return sum + (price * (item.quantity || 1));\n  }, 0);\n  const deliveryFee = subtotal > 299 ? 0 : 49;\n  const tax = Math.round(subtotal * 0.05); // 5% tax\n  const total = subtotal + deliveryFee + tax;\n\n  useEffect(() => {\n    // Only redirect if cart is empty\n    if (!cart || cart.length === 0) {\n      navigate('/cart');\n      return;\n    }\n  }, [cart, navigate]);\n\n  const handleAddressChange = (field, value) => {\n    setDeliveryAddress(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const validateAddress = () => {\n    const required = ['fullName', 'phone', 'email', 'addressLine1', 'city', 'state', 'pincode'];\n    return required.every(field => deliveryAddress[field].trim() !== '');\n  };\n\n  const validateEmail = (email) => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n\n  const validatePhoneNumber = (phone) => {\n    const phoneRegex = /^[6-9]\\d{9}$/;\n    return phoneRegex.test(phone);\n  };\n\n  const validatePincode = (pincode) => {\n    const pincodeRegex = /^[1-9][0-9]{5}$/;\n    return pincodeRegex.test(pincode);\n  };\n\n  const handleAddressSubmit = async () => {\n    if (!validateAddress()) {\n      showError('Please fill all required address fields');\n      return;\n    }\n\n    if (!validatePhoneNumber(deliveryAddress.phone)) {\n      showError('Please enter a valid 10-digit phone number');\n      return;\n    }\n\n    if (!validateEmail(deliveryAddress.email)) {\n      showError('Please enter a valid email address');\n      return;\n    }\n\n    if (!validatePincode(deliveryAddress.pincode)) {\n      showError('Please enter a valid 6-digit PIN code');\n      return;\n    }\n    \n    setStepLoading(true);\n    // Simulate API call for address validation\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    setStepLoading(false);\n    \n    showSuccess('Address validated successfully!');\n    setCurrentStep(2);\n  };\n\n  const handlePaymentMethodSubmit = async () => {\n    setStepLoading(true);\n    await new Promise(resolve => setTimeout(resolve, 500));\n    setStepLoading(false);\n    \n    showSuccess('Payment method selected!');\n    setCurrentStep(3);\n  };\n\n  const handlePlaceOrder = async () => {\n    if (!validateAddress()) {\n      showError('Please fill all required address fields');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      // Prepare order data\n      const orderData = {\n        items: cart.map(item => ({\n          product: item.product?._id || item._id,\n          quantity: item.quantity,\n          price: item.product?.price || item.price || 0\n        })),\n        deliveryAddress,\n        // backend expects paymentMethod enum values: 'razorpay' or 'cod'\n        paymentMethod: paymentMethod === 'card' ? 'razorpay' : paymentMethod,\n        orderNotes,\n        subtotal,\n        deliveryFee,\n        tax,\n        total,\n        paymentStatus: paymentMethod === 'cod' ? 'pending' : 'pending'\n      };\n\n      if (paymentMethod === 'cod') {\n        // Cash on Delivery - Direct order placement\n        const response = await orderService.createOrder(orderData);\n        \n        if (response && response.success !== false) {\n          const createdOrder = response.order || response;\n          clearCart();\n          showSuccess('Order placed successfully! You can pay cash on delivery.');\n          navigate('/order-confirmation', { \n            state: { \n              orderData: createdOrder,\n              orderId: createdOrder._id \n            } \n          });\n        } else {\n          throw new Error(response?.error || 'Failed to place order');\n        }\n      } else {\n        // Online Payment - Razorpay Integration\n        // Step 1: Create order first with pending payment status\n        const pendingOrderData = {\n          ...orderData,\n          paymentStatus: 'pending',\n          status: 'pending'\n        };\n\n        const pendingOrder = await orderService.createOrder(pendingOrderData);\n        \n        if (!pendingOrder || pendingOrder.success === false) {\n          throw new Error(pendingOrder?.error || 'Failed to create order');\n        }\n\n        const createdOrder = pendingOrder.order || pendingOrder;\n\n        // Step 2: Create Razorpay payment order\n        const paymentOrderData = {\n          amount: total,\n          currency: 'INR',\n          items: orderData.items,\n          address: deliveryAddress,\n          total: total,\n          orderId: createdOrder._id\n        };\n\n        const paymentResponse = await paymentService.processPayment(paymentOrderData);\n        \n        if (!paymentResponse.success) {\n          throw new Error('Failed to create payment order');\n        }\n\n        // Step 3: Update order with Razorpay order ID immediately\n        await orderService.updateOrder(createdOrder._id, {\n          razorpayOrderId: paymentResponse.razorpayOrder.id\n        });\n\n        // Configure Razorpay options\n        const razorpayOptions = {\n          key: paymentResponse.key_id || 'rzp_test_RAi5uQX3MTrzfi',\n          amount: paymentResponse.razorpayOrder.amount,\n          currency: paymentResponse.currency,\n          order_id: paymentResponse.razorpayOrder.id,\n          name: 'Food Delivery',\n          description: `Order for ${cart.length} items`,\n          image: '/favicon.ico',\n          prefill: {\n            name: user?.name || deliveryAddress.fullName,\n            email: user?.email || '',\n            contact: deliveryAddress.phone\n          },\n          theme: {\n            color: '#F97316'\n          },\n          handler: async function (response) {\n            try {\n              // Verify payment\n              const verifyData = {\n                razorpayOrderId: response.razorpay_order_id,\n                razorpayPaymentId: response.razorpay_payment_id,\n                razorpaySignature: response.razorpay_signature\n              };\n\n              const verifyResponse = await paymentService.verifyPayment(verifyData);\n              \n              if (verifyResponse.message === 'Payment verified successfully') {\n                clearCart();\n                showSuccess('Payment successful! Order placed successfully.');\n                navigate('/order-confirmation', { \n                  state: { \n                    orderData: { \n                      ...createdOrder, \n                      paymentStatus: 'completed',\n                      status: 'confirmed',\n                      paymentId: response.razorpay_payment_id \n                    },\n                    orderId: createdOrder._id \n                  } \n                });\n              } else {\n                throw new Error('Payment verification failed');\n              }\n            } catch (error) {\n              console.error('Payment verification error:', error);\n              showError('Payment verification failed. Please contact support.');\n              // Navigate to orders page so user can see their order status\n              navigate('/orders');\n            } finally {\n              setLoading(false);\n            }\n          },\n          modal: {\n            ondismiss: function () {\n              showError('Payment cancelled. Your order was not placed.');\n              setLoading(false);\n            }\n          }\n        };\n\n        // Initialize Razorpay\n        if (!window.Razorpay) {\n          const script = document.createElement('script');\n          script.src = 'https://checkout.razorpay.com/v1/checkout.js';\n          script.onload = () => {\n            const rzp = new window.Razorpay(razorpayOptions);\n            rzp.open();\n          };\n          script.onerror = () => {\n            showError('Failed to load payment gateway. Please try again.');\n            setLoading(false);\n          };\n          document.body.appendChild(script);\n        } else {\n          const rzp = new window.Razorpay(razorpayOptions);\n          rzp.open();\n        }\n        \n        return;\n      }\n\n    } catch (error) {\n      console.error('Order placement error:', error);\n      if (error.response?.status === 401) {\n        showError('Your session has expired. Please login again.');\n        navigate('/login');\n      } else {\n        showError(error.response?.data?.error || error.message || 'Failed to place order');\n      }\n    } finally {\n      if (paymentMethod === 'cod') {\n        setLoading(false);\n      }\n    }\n  };\n\n  // If cart is empty, redirect\n  if (!cart || cart.length === 0) {\n    return (\n      <div className={`min-h-screen flex items-center justify-center ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'}`}>\n        <div className=\"text-center max-w-md mx-auto p-8\">\n          <div className={`w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center ${isDarkMode ? 'bg-gray-800' : 'bg-gray-200'}`}>\n            <FiTruck size={32} className={isDarkMode ? 'text-gray-400' : 'text-gray-600'} />\n          </div>\n          <h2 className={`text-2xl font-bold mb-4 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n            Your cart is empty\n          </h2>\n          <p className={`mb-6 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n            Add some items to your cart to proceed with checkout\n          </p>\n          <button \n            onClick={() => navigate('/products')}\n            className=\"px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg hover:from-orange-600 hover:to-red-600 transition-all font-semibold shadow-lg\"\n          >\n            Browse Products\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`min-h-screen ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'}`}>\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <button\n            onClick={() => navigate('/cart')}\n            className={`flex items-center mb-4 transition-colors ${\n              isDarkMode ? 'text-gray-400 hover:text-gray-200' : 'text-gray-600 hover:text-gray-800'\n            }`}\n          >\n            <FiArrowLeft className=\"mr-2\" />\n            Back to Cart\n          </button>\n          <h1 className={`text-2xl md:text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n            Secure Checkout\n          </h1>\n          <p className={`text-sm mt-1 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n            Step {currentStep} of 3 â€¢ Powered by Razorpay\n          </p>\n        </div>\n\n        {/* Mobile-friendly Progress Bar */}\n        <div className={`mb-8 p-4 md:p-6 rounded-xl ${isDarkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-200'} shadow-sm`}>\n          <div className=\"flex items-center justify-between\">\n            {/* Step 1 */}\n            <div className=\"flex items-center\">\n              <button\n                onClick={() => currentStep > 1 && setCurrentStep(1)}\n                disabled={currentStep === 1}\n                className={`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${\n                  currentStep >= 1 \n                    ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' \n                    : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'\n                } ${currentStep > 1 ? 'cursor-pointer hover:shadow-xl' : ''}`}\n              >\n                {currentStep > 1 ? <FiCheck size={14} /> : '1'}\n              </button>\n              <div className=\"hidden sm:block\">\n                <p className={`font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Address</p>\n                <p className={`text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Delivery details</p>\n              </div>\n            </div>\n\n            {/* Progress Line */}\n            <div className={`flex-1 mx-2 md:mx-4 h-1 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`}>\n              <div \n                className={`h-1 rounded-full transition-all duration-500 ${\n                  currentStep >= 2 ? 'bg-green-500' : 'bg-transparent'\n                }`} \n                style={{ width: currentStep >= 2 ? '100%' : '0%' }}\n              />\n            </div>\n\n            {/* Step 2 */}\n            <div className=\"flex items-center\">\n              <button\n                onClick={() => currentStep > 2 && setCurrentStep(2)}\n                disabled={currentStep <= 1}\n                className={`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${\n                  currentStep >= 2 \n                    ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' \n                    : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'\n                } ${currentStep > 2 ? 'cursor-pointer hover:shadow-xl' : ''}`}\n              >\n                {currentStep > 2 ? <FiCheck size={14} /> : '2'}\n              </button>\n              <div className=\"hidden sm:block\">\n                <p className={`font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Payment</p>\n                <p className={`text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Choose method</p>\n              </div>\n            </div>\n\n            {/* Progress Line */}\n            <div className={`flex-1 mx-2 md:mx-4 h-1 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`}>\n              <div \n                className={`h-1 rounded-full transition-all duration-500 ${\n                  currentStep >= 3 ? 'bg-green-500' : 'bg-transparent'\n                }`} \n                style={{ width: currentStep >= 3 ? '100%' : '0%' }}\n              />\n            </div>\n\n            {/* Step 3 */}\n            <div className=\"flex items-center\">\n              <div className={`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${\n                currentStep >= 3 \n                  ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' \n                  : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'\n              }`}>\n                3\n              </div>\n              <div className=\"hidden sm:block\">\n                <p className={`font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Review</p>\n                <p className={`text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Place order</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8\">\n          {/* Left Column - Step Forms */}\n          <div className=\"lg:col-span-2\">\n            \n            {/* Step 1: Delivery Address */}\n            {currentStep === 1 && (\n              <div className={`rounded-xl shadow-lg p-4 md:p-6 border transition-all ${\n                isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'\n              }`}>\n                <div className=\"flex items-center mb-6\">\n                  <FiMapPin className=\"w-5 h-5 md:w-6 md:h-6 mr-3 text-orange-500\" />\n                  <h2 className={`text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n                    Delivery Address\n                  </h2>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Full Name *\n                    </label>\n                    <div className=\"relative\">\n                      <FiUser className={`absolute left-3 top-3.5 w-4 h-4 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`} />\n                      <input\n                        type=\"text\"\n                        value={deliveryAddress.fullName}\n                        onChange={(e) => handleAddressChange('fullName', e.target.value)}\n                        className={`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                          isDarkMode \n                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                            : 'bg-white border-gray-300 text-gray-900'\n                        }`}\n                        placeholder=\"Enter your full name\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Phone Number *\n                    </label>\n                    <div className=\"relative\">\n                      <FiPhone className={`absolute left-3 top-3.5 w-4 h-4 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`} />\n                      <input\n                        type=\"tel\"\n                        value={deliveryAddress.phone}\n                        onChange={(e) => handleAddressChange('phone', e.target.value)}\n                        className={`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                          isDarkMode \n                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                            : 'bg-white border-gray-300 text-gray-900'\n                        }`}\n                        placeholder=\"Enter 10-digit phone number\"\n                        maxLength=\"10\"\n                        required\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"md:col-span-2\">\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Address Line 1 *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={deliveryAddress.addressLine1}\n                      onChange={(e) => handleAddressChange('addressLine1', e.target.value)}\n                      placeholder=\"House/Flat No., Street Name\"\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                        isDarkMode \n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                          : 'bg-white border-gray-300 text-gray-900'\n                      }`}\n                      required\n                    />\n                  </div>\n\n                  <div className=\"md:col-span-2\">\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Address Line 2 (Optional)\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={deliveryAddress.addressLine2}\n                      onChange={(e) => handleAddressChange('addressLine2', e.target.value)}\n                      placeholder=\"Apartment, Floor, Building (Optional)\"\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                        isDarkMode \n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                          : 'bg-white border-gray-300 text-gray-900'\n                      }`}\n                    />\n                  </div>\n\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      City *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={deliveryAddress.city}\n                      onChange={(e) => handleAddressChange('city', e.target.value)}\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                        isDarkMode \n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                          : 'bg-white border-gray-300 text-gray-900'\n                      }`}\n                      placeholder=\"Enter city\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      State *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={deliveryAddress.state}\n                      onChange={(e) => handleAddressChange('state', e.target.value)}\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                        isDarkMode \n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                          : 'bg-white border-gray-300 text-gray-900'\n                      }`}\n                      placeholder=\"Enter state\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      PIN Code *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={deliveryAddress.pincode}\n                      onChange={(e) => handleAddressChange('pincode', e.target.value)}\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                        isDarkMode \n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                          : 'bg-white border-gray-300 text-gray-900'\n                      }`}\n                      placeholder=\"Enter 6-digit PIN code\"\n                      maxLength=\"6\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Landmark (Optional)\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={deliveryAddress.landmark}\n                      onChange={(e) => handleAddressChange('landmark', e.target.value)}\n                      placeholder=\"Near bus stop, mall, etc.\"\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                        isDarkMode \n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                          : 'bg-white border-gray-300 text-gray-900'\n                      }`}\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                    Email Address *\n                  </label>\n                  <div className=\"relative\">\n                    <FiShield className={`absolute left-3 top-3.5 w-4 h-4 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`} />\n                    <input\n                      type=\"email\"\n                      value={deliveryAddress.email}\n                      onChange={(e) => handleAddressChange('email', e.target.value)}\n                      className={`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                        isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'\n                      }`}\n                      placeholder=\"Enter your email\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                <button\n                  onClick={handleAddressSubmit}\n                  disabled={!validateAddress() || stepLoading}\n                  className={`w-full py-3 md:py-4 px-6 rounded-xl font-semibold text-white transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${\n                    isDarkMode\n                      ? 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg shadow-orange-500/25'\n                      : 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg hover:shadow-xl'\n                  }`}\n                >\n                  {stepLoading ? (\n                    <div className=\"flex items-center justify-center\">\n                      <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\n                      Validating Address...\n                    </div>\n                  ) : (\n                    <>\n                      Continue to Payment\n                      <FiArrowLeft className=\"ml-2 rotate-180 w-4 h-4 inline\" />\n                    </>\n                  )}\n                </button>\n              </div>\n            )}\n\n            {/* Step 2: Payment Method */}\n            {currentStep === 2 && (\n              <div className={`rounded-xl shadow-lg p-4 md:p-6 border transition-all ${\n                isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'\n              }`}>\n                <div className=\"flex items-center mb-6\">\n                  <FiCreditCard className=\"w-5 h-5 md:w-6 md:h-6 mr-3 text-green-500\" />\n                  <h2 className={`text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n                    Payment Method\n                  </h2>\n                </div>\n\n                <div className=\"space-y-4 mb-6\">\n                  {/* Online Payment */}\n                  <div \n                    className={`p-4 border-2 rounded-xl cursor-pointer transition-all ${\n                      paymentMethod === 'card' \n                        ? 'border-green-500 bg-green-50 dark:bg-green-900/20' \n                        : isDarkMode ? 'border-gray-700 bg-gray-700/50' : 'border-gray-200 bg-gray-50'\n                    }`} \n                    onClick={() => setPaymentMethod('card')}\n                  >\n                    <div className=\"flex items-center\">\n                      <input\n                        type=\"radio\"\n                        name=\"paymentMethod\"\n                        value=\"card\"\n                        checked={paymentMethod === 'card'}\n                        onChange={() => setPaymentMethod('card')}\n                        className=\"mr-3 text-green-500\"\n                      />\n                      <div className=\"flex-1\">\n                        <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                          Online Payment (Recommended)\n                        </h3>\n                        <p className={`text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                          Pay securely with UPI, Cards, Net Banking & Wallets\n                        </p>\n                        <div className=\"flex items-center mt-2 space-x-2\">\n                          <span className=\"text-xs px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded\">Secure</span>\n                          <span className=\"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded\">Instant</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Cash on Delivery */}\n                  <div \n                    className={`p-4 border-2 rounded-xl cursor-pointer transition-all ${\n                      paymentMethod === 'cod' \n                        ? 'border-green-500 bg-green-50 dark:bg-green-900/20' \n                        : isDarkMode ? 'border-gray-700 bg-gray-700/50' : 'border-gray-200 bg-gray-50'\n                    }`} \n                    onClick={() => setPaymentMethod('cod')}\n                  >\n                    <div className=\"flex items-center\">\n                      <input\n                        type=\"radio\"\n                        name=\"paymentMethod\"\n                        value=\"cod\"\n                        checked={paymentMethod === 'cod'}\n                        onChange={() => setPaymentMethod('cod')}\n                        className=\"mr-3 text-green-500\"\n                      />\n                      <div className=\"flex-1\">\n                        <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                          Cash on Delivery\n                        </h3>\n                        <p className={`text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                          Pay with cash when your order arrives\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex flex-col sm:flex-row gap-3\">\n                  <button\n                    onClick={() => setCurrentStep(1)}\n                    className={`px-6 py-3 rounded-xl font-medium transition-all ${\n                      isDarkMode \n                        ? 'bg-gray-700 text-gray-300 hover:bg-gray-600' \n                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                    }`}\n                  >\n                    â† Back to Address\n                  </button>\n                  <button\n                    onClick={handlePaymentMethodSubmit}\n                    disabled={stepLoading}\n                    className={`flex-1 py-3 px-6 rounded-xl font-semibold text-white transition-all disabled:opacity-50 ${\n                      isDarkMode\n                        ? 'bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 shadow-lg shadow-green-500/25'\n                        : 'bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 shadow-lg hover:shadow-xl'\n                    }`}\n                  >\n                    {stepLoading ? (\n                      <div className=\"flex items-center justify-center\">\n                        <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\n                        Processing...\n                      </div>\n                    ) : (\n                      <>\n                        Continue to Review\n                        <FiArrowLeft className=\"ml-2 rotate-180 w-4 h-4 inline\" />\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Step 3: Order Review and Notes */}\n            {currentStep === 3 && (\n              <div className={`rounded-xl shadow-lg p-4 md:p-6 border transition-all ${\n                isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'\n              }`}>\n                <div className=\"flex items-center mb-6\">\n                  <FiCheck className=\"w-5 h-5 md:w-6 md:h-6 mr-3 text-purple-500\" />\n                  <h2 className={`text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n                    Review Your Order\n                  </h2>\n                </div>\n\n                {/* Order Summary Cards */}\n                <div className=\"space-y-4 mb-6\">\n                  {/* Delivery Address Card */}\n                  <div className={`p-4 rounded-lg ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                        Delivery Address\n                      </h3>\n                      <button\n                        onClick={() => setCurrentStep(1)}\n                        className={`text-sm text-orange-500 hover:text-orange-600 flex items-center ${\n                          isDarkMode ? 'hover:text-orange-400' : ''\n                        }`}\n                      >\n                        <FiEdit className=\"w-4 h-4 mr-1\" />\n                        Edit\n                      </button>\n                    </div>\n                    <div className={`text-sm ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      <p className=\"font-medium\">{deliveryAddress.fullName}</p>\n                      <p>{deliveryAddress.phone}</p>\n                      <p>{deliveryAddress.addressLine1}</p>\n                      {deliveryAddress.addressLine2 && <p>{deliveryAddress.addressLine2}</p>}\n                      <p>{deliveryAddress.city}, {deliveryAddress.state} - {deliveryAddress.pincode}</p>\n                      {deliveryAddress.landmark && <p>Landmark: {deliveryAddress.landmark}</p>}\n                    </div>\n                  </div>\n\n                  {/* Payment Method Card */}\n                  <div className={`p-4 rounded-lg ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                        Payment Method\n                      </h3>\n                      <button\n                        onClick={() => setCurrentStep(2)}\n                        className={`text-sm text-orange-500 hover:text-orange-600 flex items-center ${\n                          isDarkMode ? 'hover:text-orange-400' : ''\n                        }`}\n                      >\n                        <FiEdit className=\"w-4 h-4 mr-1\" />\n                        Edit\n                      </button>\n                    </div>\n                    <p className={`text-sm ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                      {paymentMethod === 'cod' ? 'ðŸ’µ Cash on Delivery' : 'ðŸ’³ Online Payment (Razorpay)'}\n                    </p>\n                  </div>\n                </div>\n\n                {/* Order Notes */}\n                <div className=\"mb-6\">\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                    Order Notes (Optional)\n                  </label>\n                  <textarea\n                    value={orderNotes}\n                    onChange={(e) => setOrderNotes(e.target.value)}\n                    placeholder=\"Any special instructions for your order...\"\n                    className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\n                      isDarkMode \n                        ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \n                        : 'bg-white border-gray-300 text-gray-900'\n                    }`}\n                    rows=\"3\"\n                  />\n                </div>\n\n                <div className=\"flex flex-col sm:flex-row gap-3\">\n                  <button\n                    onClick={() => setCurrentStep(2)}\n                    className={`px-6 py-3 rounded-xl font-medium transition-all ${\n                      isDarkMode \n                        ? 'bg-gray-700 text-gray-300 hover:bg-gray-600' \n                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                    }`}\n                  >\n                    â† Back to Payment\n                  </button>\n                  <button\n                    onClick={handlePlaceOrder}\n                    disabled={loading}\n                    className={`flex-1 py-3 md:py-4 px-6 rounded-xl font-bold text-white transition-all disabled:opacity-50 ${\n                      isDarkMode\n                        ? 'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-lg shadow-blue-500/25'\n                        : 'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-lg hover:shadow-xl'\n                    }`}\n                  >\n                    {loading ? (\n                      <div className=\"flex items-center justify-center\">\n                        <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\n                        Placing Order...\n                      </div>\n                    ) : (\n                      <>\n                        <FiShield className=\"w-5 h-5 mr-2 inline\" />\n                        Place Order - â‚¹{total.toFixed(2)}\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Right Column - Order Summary (Sticky Sidebar) */}\n          <div className=\"lg:col-span-1\">\n            <div className={`rounded-xl shadow-lg p-4 md:p-6 border sticky top-4 ${\n              isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'\n            }`}>\n              <h3 className={`text-lg md:text-xl font-bold mb-4 ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\n                Order Summary\n              </h3>\n              \n              {/* Cart Items */}\n              <div className=\"space-y-3 mb-4 max-h-60 overflow-y-auto\">\n                {cart.map((item) => (\n                  <div key={item._id} className=\"flex justify-between items-start\">\n                    <div className=\"flex items-center flex-1 mr-3\">\n                      <div className={`w-10 h-10 md:w-12 md:h-12 rounded-lg border ${isDarkMode ? 'border-gray-600' : 'border-gray-200'} mr-2 md:mr-3 overflow-hidden flex-shrink-0`}>\n                        <img\n                          src={item.product?.imageUrl || item.imageUrl || item.image || '/favicon.ico'}\n                          alt={item.product?.name || item.name}\n                          className=\"w-full h-full object-cover\"\n                          onError={(e) => {\n                            e.target.src = '/favicon.ico';\n                          }}\n                        />\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className={`font-medium text-sm ${isDarkMode ? 'text-white' : 'text-gray-900'} truncate`}>\n                          {item.product?.name || item.name}\n                        </p>\n                        <p className={`text-xs ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                          Qty: {item.quantity || 1}\n                        </p>\n                      </div>\n                    </div>\n                    <p className={`font-semibold text-sm ${isDarkMode ? 'text-white' : 'text-gray-900'} flex-shrink-0`}>\n                      â‚¹{((item.product?.price || item.price || 0) * (item.quantity || 1)).toFixed(2)}\n                    </p>\n                  </div>\n                ))}\n              </div>\n\n              <div className={`border-t pt-4 space-y-2 ${isDarkMode ? 'border-gray-700' : 'border-gray-200'}`}>\n                <div className=\"flex justify-between\">\n                  <span className={isDarkMode ? 'text-gray-400' : 'text-gray-600'}>Subtotal</span>\n                  <span className={isDarkMode ? 'text-white' : 'text-gray-900'}>â‚¹{subtotal.toFixed(2)}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className={isDarkMode ? 'text-gray-400' : 'text-gray-600'}>Delivery Fee</span>\n                  <span className={`${deliveryFee === 0 ? 'text-green-500' : ''} ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\n                    {deliveryFee === 0 ? 'FREE' : `â‚¹${deliveryFee.toFixed(2)}`}\n                  </span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className={isDarkMode ? 'text-gray-400' : 'text-gray-600'}>Tax (5%)</span>\n                  <span className={isDarkMode ? 'text-white' : 'text-gray-900'}>â‚¹{tax.toFixed(2)}</span>\n                </div>\n                <div className={`flex justify-between text-base md:text-lg font-bold pt-2 border-t ${\n                  isDarkMode ? 'border-gray-700 text-white' : 'border-gray-200 text-gray-900'\n                }`}>\n                  <span>Total</span>\n                  <span>â‚¹{total.toFixed(2)}</span>\n                </div>\n              </div>\n\n              {/* Security Badge */}\n              <div className={`mt-4 p-3 rounded-lg text-center ${isDarkMode ? 'bg-green-900/20' : 'bg-green-50'}`}>\n                <FiShield className=\"w-5 h-5 mx-auto mb-1 text-green-500\" />\n                <p className=\"text-xs text-green-600 font-medium\">\n                  Your payment information is encrypted and secure\n                </p>\n              </div>\n\n              {/* Razorpay Branding */}\n              {paymentMethod === 'card' && (\n                <div className={`mt-3 p-2 rounded text-center ${isDarkMode ? 'bg-blue-900/20' : 'bg-blue-50'}`}>\n                  <p className=\"text-xs text-blue-600 font-medium\">\n                    Powered by Razorpay\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Checkout;\n"],"mappings":"gHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAC9D,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,WAAW,KAAQ,2BAA2B,CACvD,OAASC,WAAW,KAAQ,2BAA2B,CACvD,OAASC,WAAW,KAAQ,+BAA+B,CAC3D,OAASC,QAAQ,KAAQ,iCAAiC,CAC1D,OAASC,WAAW,CAAEC,QAAQ,CAAEC,YAAY,CAAEC,OAAO,CAAEC,OAAO,CAAEC,QAAQ,CAAEC,OAAO,CAAEC,MAAM,CAAEC,MAAM,KAAQ,gBAAgB,CACzH,MAAO,CAAAC,YAAY,KAAM,6BAA6B,CACtD,MAAO,CAAAC,cAAc,KAAM,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE3D,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAEC,IAAI,CAAEC,YAAY,CAAEC,SAAU,CAAC,CAAG3B,UAAU,CAACG,WAAW,CAAC,CACjE,KAAM,CAAEyB,IAAK,CAAC,CAAG5B,UAAU,CAACI,WAAW,CAAC,CACxC,KAAM,CAAEyB,UAAW,CAAC,CAAGxB,WAAW,CAAC,CAAC,CACpC,KAAM,CAAEyB,WAAW,CAAEC,SAAU,CAAC,CAAGzB,QAAQ,CAAC,CAAC,CAC7C,KAAM,CAAA0B,QAAQ,CAAG9B,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAC+B,WAAW,CAAEC,cAAc,CAAC,CAAGnC,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACoC,OAAO,CAAEC,UAAU,CAAC,CAAGrC,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACsC,WAAW,CAAEC,cAAc,CAAC,CAAGvC,QAAQ,CAAC,KAAK,CAAC,CAErD;AACA,KAAM,CAACwC,eAAe,CAAEC,kBAAkB,CAAC,CAAGzC,QAAQ,CAAC,CACrD0C,QAAQ,CAAE,CAAAb,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEc,IAAI,GAAI,EAAE,CAC1BC,KAAK,CAAE,CAAAf,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEe,KAAK,GAAI,EAAE,CACxBC,KAAK,CAAE,CAAAhB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEgB,KAAK,GAAI,EAAE,CACxBC,YAAY,CAAE,EAAE,CAChBC,YAAY,CAAE,EAAE,CAChBC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,OAAO,CAAE,EAAE,CACXC,QAAQ,CAAE,EACZ,CAAC,CAAC,CAEF;AACA,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGrD,QAAQ,CAAC,MAAM,CAAC,CAC1D,KAAM,CAACsD,UAAU,CAAEC,aAAa,CAAC,CAAGvD,QAAQ,CAAC,EAAE,CAAC,CAEhD;AACA,KAAM,CAAAwD,QAAQ,CAAG7B,YAAY,CAAGA,YAAY,CAAC,CAAC,CAAGD,IAAI,CAAC+B,MAAM,CAAC,CAACC,GAAG,CAAEC,IAAI,GAAK,KAAAC,aAAA,CAC1E,KAAM,CAAAC,KAAK,CAAG,EAAAD,aAAA,CAAAD,IAAI,CAACG,OAAO,UAAAF,aAAA,iBAAZA,aAAA,CAAcC,KAAK,GAAIF,IAAI,CAACE,KAAK,EAAI,CAAC,CACpD,MAAO,CAAAH,GAAG,CAAIG,KAAK,EAAIF,IAAI,CAACI,QAAQ,EAAI,CAAC,CAAE,CAC7C,CAAC,CAAE,CAAC,CAAC,CACL,KAAM,CAAAC,WAAW,CAAGR,QAAQ,CAAG,GAAG,CAAG,CAAC,CAAG,EAAE,CAC3C,KAAM,CAAAS,GAAG,CAAGC,IAAI,CAACC,KAAK,CAACX,QAAQ,CAAG,IAAI,CAAC,CAAE;AACzC,KAAM,CAAAY,KAAK,CAAGZ,QAAQ,CAAGQ,WAAW,CAAGC,GAAG,CAE1C/D,SAAS,CAAC,IAAM,CACd;AACA,GAAI,CAACwB,IAAI,EAAIA,IAAI,CAAC2C,MAAM,GAAK,CAAC,CAAE,CAC9BpC,QAAQ,CAAC,OAAO,CAAC,CACjB,OACF,CACF,CAAC,CAAE,CAACP,IAAI,CAAEO,QAAQ,CAAC,CAAC,CAEpB,KAAM,CAAAqC,mBAAmB,CAAGA,CAACC,KAAK,CAAEC,KAAK,GAAK,CAC5C/B,kBAAkB,CAACgC,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAClBD,IAAI,MACP,CAACF,KAAK,EAAGC,KAAK,EACd,CAAC,CACL,CAAC,CAED,KAAM,CAAAG,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAAAC,QAAQ,CAAG,CAAC,UAAU,CAAE,OAAO,CAAE,OAAO,CAAE,cAAc,CAAE,MAAM,CAAE,OAAO,CAAE,SAAS,CAAC,CAC3F,MAAO,CAAAA,QAAQ,CAACC,KAAK,CAACN,KAAK,EAAI/B,eAAe,CAAC+B,KAAK,CAAC,CAACO,IAAI,CAAC,CAAC,GAAK,EAAE,CAAC,CACtE,CAAC,CAED,KAAM,CAAAC,aAAa,CAAIlC,KAAK,EAAK,CAC/B,KAAM,CAAAmC,UAAU,CAAG,4BAA4B,CAC/C,MAAO,CAAAA,UAAU,CAACC,IAAI,CAACpC,KAAK,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAqC,mBAAmB,CAAItC,KAAK,EAAK,CACrC,KAAM,CAAAuC,UAAU,CAAG,cAAc,CACjC,MAAO,CAAAA,UAAU,CAACF,IAAI,CAACrC,KAAK,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAwC,eAAe,CAAIlC,OAAO,EAAK,CACnC,KAAM,CAAAmC,YAAY,CAAG,iBAAiB,CACtC,MAAO,CAAAA,YAAY,CAACJ,IAAI,CAAC/B,OAAO,CAAC,CACnC,CAAC,CAED,KAAM,CAAAoC,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CAACX,eAAe,CAAC,CAAC,CAAE,CACtB3C,SAAS,CAAC,yCAAyC,CAAC,CACpD,OACF,CAEA,GAAI,CAACkD,mBAAmB,CAAC1C,eAAe,CAACI,KAAK,CAAC,CAAE,CAC/CZ,SAAS,CAAC,4CAA4C,CAAC,CACvD,OACF,CAEA,GAAI,CAAC+C,aAAa,CAACvC,eAAe,CAACK,KAAK,CAAC,CAAE,CACzCb,SAAS,CAAC,oCAAoC,CAAC,CAC/C,OACF,CAEA,GAAI,CAACoD,eAAe,CAAC5C,eAAe,CAACU,OAAO,CAAC,CAAE,CAC7ClB,SAAS,CAAC,uCAAuC,CAAC,CAClD,OACF,CAEAO,cAAc,CAAC,IAAI,CAAC,CACpB;AACA,KAAM,IAAI,CAAAgD,OAAO,CAACC,OAAO,EAAIC,UAAU,CAACD,OAAO,CAAE,IAAI,CAAC,CAAC,CACvDjD,cAAc,CAAC,KAAK,CAAC,CAErBR,WAAW,CAAC,iCAAiC,CAAC,CAC9CI,cAAc,CAAC,CAAC,CAAC,CACnB,CAAC,CAED,KAAM,CAAAuD,yBAAyB,CAAG,KAAAA,CAAA,GAAY,CAC5CnD,cAAc,CAAC,IAAI,CAAC,CACpB,KAAM,IAAI,CAAAgD,OAAO,CAACC,OAAO,EAAIC,UAAU,CAACD,OAAO,CAAE,GAAG,CAAC,CAAC,CACtDjD,cAAc,CAAC,KAAK,CAAC,CAErBR,WAAW,CAAC,0BAA0B,CAAC,CACvCI,cAAc,CAAC,CAAC,CAAC,CACnB,CAAC,CAED,KAAM,CAAAwD,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CAAChB,eAAe,CAAC,CAAC,CAAE,CACtB3C,SAAS,CAAC,yCAAyC,CAAC,CACpD,OACF,CAEAK,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF;AACA,KAAM,CAAAuD,SAAS,CAAG,CAChBC,KAAK,CAAEnE,IAAI,CAACoE,GAAG,CAACnC,IAAI,OAAAoC,cAAA,CAAAC,cAAA,OAAK,CACvBlC,OAAO,CAAE,EAAAiC,cAAA,CAAApC,IAAI,CAACG,OAAO,UAAAiC,cAAA,iBAAZA,cAAA,CAAcE,GAAG,GAAItC,IAAI,CAACsC,GAAG,CACtClC,QAAQ,CAAEJ,IAAI,CAACI,QAAQ,CACvBF,KAAK,CAAE,EAAAmC,cAAA,CAAArC,IAAI,CAACG,OAAO,UAAAkC,cAAA,iBAAZA,cAAA,CAAcnC,KAAK,GAAIF,IAAI,CAACE,KAAK,EAAI,CAC9C,CAAC,EAAC,CAAC,CACHrB,eAAe,CACf;AACAY,aAAa,CAAEA,aAAa,GAAK,MAAM,CAAG,UAAU,CAAGA,aAAa,CACpEE,UAAU,CACVE,QAAQ,CACRQ,WAAW,CACXC,GAAG,CACHG,KAAK,CACL8B,aAAa,CAAE9C,aAAa,GAAK,KAAK,CAAG,SAAS,CAAG,SACvD,CAAC,CAED,GAAIA,aAAa,GAAK,KAAK,CAAE,CAC3B;AACA,KAAM,CAAA+C,QAAQ,CAAG,KAAM,CAAAlF,YAAY,CAACmF,WAAW,CAACR,SAAS,CAAC,CAE1D,GAAIO,QAAQ,EAAIA,QAAQ,CAACE,OAAO,GAAK,KAAK,CAAE,CAC1C,KAAM,CAAAC,YAAY,CAAGH,QAAQ,CAACI,KAAK,EAAIJ,QAAQ,CAC/CvE,SAAS,CAAC,CAAC,CACXG,WAAW,CAAC,0DAA0D,CAAC,CACvEE,QAAQ,CAAC,qBAAqB,CAAE,CAC9BgB,KAAK,CAAE,CACL2C,SAAS,CAAEU,YAAY,CACvBE,OAAO,CAAEF,YAAY,CAACL,GACxB,CACF,CAAC,CAAC,CACJ,CAAC,IAAM,CACL,KAAM,IAAI,CAAAQ,KAAK,CAAC,CAAAN,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEO,KAAK,GAAI,uBAAuB,CAAC,CAC7D,CACF,CAAC,IAAM,CACL;AACA;AACA,KAAM,CAAAC,gBAAgB,CAAAjC,aAAA,CAAAA,aAAA,IACjBkB,SAAS,MACZM,aAAa,CAAE,SAAS,CACxBU,MAAM,CAAE,SAAS,EAClB,CAED,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAA5F,YAAY,CAACmF,WAAW,CAACO,gBAAgB,CAAC,CAErE,GAAI,CAACE,YAAY,EAAIA,YAAY,CAACR,OAAO,GAAK,KAAK,CAAE,CACnD,KAAM,IAAI,CAAAI,KAAK,CAAC,CAAAI,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEH,KAAK,GAAI,wBAAwB,CAAC,CAClE,CAEA,KAAM,CAAAJ,YAAY,CAAGO,YAAY,CAACN,KAAK,EAAIM,YAAY,CAEvD;AACA,KAAM,CAAAC,gBAAgB,CAAG,CACvBC,MAAM,CAAE3C,KAAK,CACb4C,QAAQ,CAAE,KAAK,CACfnB,KAAK,CAAED,SAAS,CAACC,KAAK,CACtBoB,OAAO,CAAEzE,eAAe,CACxB4B,KAAK,CAAEA,KAAK,CACZoC,OAAO,CAAEF,YAAY,CAACL,GACxB,CAAC,CAED,KAAM,CAAAiB,eAAe,CAAG,KAAM,CAAAhG,cAAc,CAACiG,cAAc,CAACL,gBAAgB,CAAC,CAE7E,GAAI,CAACI,eAAe,CAACb,OAAO,CAAE,CAC5B,KAAM,IAAI,CAAAI,KAAK,CAAC,gCAAgC,CAAC,CACnD,CAEA;AACA,KAAM,CAAAxF,YAAY,CAACmG,WAAW,CAACd,YAAY,CAACL,GAAG,CAAE,CAC/CoB,eAAe,CAAEH,eAAe,CAACI,aAAa,CAACC,EACjD,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,eAAe,CAAG,CACtBC,GAAG,CAAEP,eAAe,CAACQ,MAAM,EAAI,yBAAyB,CACxDX,MAAM,CAAEG,eAAe,CAACI,aAAa,CAACP,MAAM,CAC5CC,QAAQ,CAAEE,eAAe,CAACF,QAAQ,CAClCW,QAAQ,CAAET,eAAe,CAACI,aAAa,CAACC,EAAE,CAC1C5E,IAAI,CAAE,eAAe,CACrBiF,WAAW,cAAAC,MAAA,CAAenG,IAAI,CAAC2C,MAAM,UAAQ,CAC7CyD,KAAK,CAAE,cAAc,CACrBC,OAAO,CAAE,CACPpF,IAAI,CAAE,CAAAd,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEc,IAAI,GAAIH,eAAe,CAACE,QAAQ,CAC5CG,KAAK,CAAE,CAAAhB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEgB,KAAK,GAAI,EAAE,CACxBmF,OAAO,CAAExF,eAAe,CAACI,KAC3B,CAAC,CACDqF,KAAK,CAAE,CACLC,KAAK,CAAE,SACT,CAAC,CACDC,OAAO,CAAE,cAAAA,CAAgBhC,QAAQ,CAAE,CACjC,GAAI,CACF;AACA,KAAM,CAAAiC,UAAU,CAAG,CACjBf,eAAe,CAAElB,QAAQ,CAACkC,iBAAiB,CAC3CC,iBAAiB,CAAEnC,QAAQ,CAACoC,mBAAmB,CAC/CC,iBAAiB,CAAErC,QAAQ,CAACsC,kBAC9B,CAAC,CAED,KAAM,CAAAC,cAAc,CAAG,KAAM,CAAAxH,cAAc,CAACyH,aAAa,CAACP,UAAU,CAAC,CAErE,GAAIM,cAAc,CAACE,OAAO,GAAK,+BAA+B,CAAE,CAC9DhH,SAAS,CAAC,CAAC,CACXG,WAAW,CAAC,gDAAgD,CAAC,CAC7DE,QAAQ,CAAC,qBAAqB,CAAE,CAC9BgB,KAAK,CAAE,CACL2C,SAAS,CAAAlB,aAAA,CAAAA,aAAA,IACJ4B,YAAY,MACfJ,aAAa,CAAE,WAAW,CAC1BU,MAAM,CAAE,WAAW,CACnBiC,SAAS,CAAE1C,QAAQ,CAACoC,mBAAmB,EACxC,CACD/B,OAAO,CAAEF,YAAY,CAACL,GACxB,CACF,CAAC,CAAC,CACJ,CAAC,IAAM,CACL,KAAM,IAAI,CAAAQ,KAAK,CAAC,6BAA6B,CAAC,CAChD,CACF,CAAE,MAAOC,KAAK,CAAE,CACdoC,OAAO,CAACpC,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnD1E,SAAS,CAAC,sDAAsD,CAAC,CACjE;AACAC,QAAQ,CAAC,SAAS,CAAC,CACrB,CAAC,OAAS,CACRI,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CACD0G,KAAK,CAAE,CACLC,SAAS,CAAE,QAAAA,CAAA,CAAY,CACrBhH,SAAS,CAAC,+CAA+C,CAAC,CAC1DK,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CACF,CAAC,CAED;AACA,GAAI,CAAC4G,MAAM,CAACC,QAAQ,CAAE,CACpB,KAAM,CAAAC,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAC/CF,MAAM,CAACG,GAAG,CAAG,8CAA8C,CAC3DH,MAAM,CAACI,MAAM,CAAG,IAAM,CACpB,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAP,MAAM,CAACC,QAAQ,CAAC1B,eAAe,CAAC,CAChDgC,GAAG,CAACC,IAAI,CAAC,CAAC,CACZ,CAAC,CACDN,MAAM,CAACO,OAAO,CAAG,IAAM,CACrB1H,SAAS,CAAC,mDAAmD,CAAC,CAC9DK,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CACD+G,QAAQ,CAACO,IAAI,CAACC,WAAW,CAACT,MAAM,CAAC,CACnC,CAAC,IAAM,CACL,KAAM,CAAAK,GAAG,CAAG,GAAI,CAAAP,MAAM,CAACC,QAAQ,CAAC1B,eAAe,CAAC,CAChDgC,GAAG,CAACC,IAAI,CAAC,CAAC,CACZ,CAEA,OACF,CAEF,CAAE,MAAO/C,KAAK,CAAE,KAAAmD,eAAA,CACdf,OAAO,CAACpC,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9C,GAAI,EAAAmD,eAAA,CAAAnD,KAAK,CAACP,QAAQ,UAAA0D,eAAA,iBAAdA,eAAA,CAAgBjD,MAAM,IAAK,GAAG,CAAE,CAClC5E,SAAS,CAAC,+CAA+C,CAAC,CAC1DC,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,IAAM,KAAA6H,gBAAA,CAAAC,qBAAA,CACL/H,SAAS,CAAC,EAAA8H,gBAAA,CAAApD,KAAK,CAACP,QAAQ,UAAA2D,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBE,IAAI,UAAAD,qBAAA,iBAApBA,qBAAA,CAAsBrD,KAAK,GAAIA,KAAK,CAACkC,OAAO,EAAI,uBAAuB,CAAC,CACpF,CACF,CAAC,OAAS,CACR,GAAIxF,aAAa,GAAK,KAAK,CAAE,CAC3Bf,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CACF,CAAC,CAED;AACA,GAAI,CAACX,IAAI,EAAIA,IAAI,CAAC2C,MAAM,GAAK,CAAC,CAAE,CAC9B,mBACEjD,IAAA,QAAK6I,SAAS,kDAAApC,MAAA,CAAmD/F,UAAU,CAAG,aAAa,CAAG,YAAY,CAAG,CAAAoI,QAAA,cAC3G5I,KAAA,QAAK2I,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C9I,IAAA,QAAK6I,SAAS,yEAAApC,MAAA,CAA0E/F,UAAU,CAAG,aAAa,CAAG,aAAa,CAAG,CAAAoI,QAAA,cACnI9I,IAAA,CAACR,OAAO,EAACuJ,IAAI,CAAE,EAAG,CAACF,SAAS,CAAEnI,UAAU,CAAG,eAAe,CAAG,eAAgB,CAAE,CAAC,CAC7E,CAAC,cACNV,IAAA,OAAI6I,SAAS,4BAAApC,MAAA,CAA6B/F,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,oBAEzF,CAAI,CAAC,cACL9I,IAAA,MAAG6I,SAAS,SAAApC,MAAA,CAAU/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,sDAExE,CAAG,CAAC,cACJ9I,IAAA,WACEgJ,OAAO,CAAEA,CAAA,GAAMnI,QAAQ,CAAC,WAAW,CAAE,CACrCgI,SAAS,CAAC,2JAA2J,CAAAC,QAAA,CACtK,iBAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAEA,mBACE9I,IAAA,QAAK6I,SAAS,iBAAApC,MAAA,CAAkB/F,UAAU,CAAG,aAAa,CAAG,YAAY,CAAG,CAAAoI,QAAA,cAC1E5I,KAAA,QAAK2I,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAE1C5I,KAAA,QAAK2I,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB5I,KAAA,WACE8I,OAAO,CAAEA,CAAA,GAAMnI,QAAQ,CAAC,OAAO,CAAE,CACjCgI,SAAS,6CAAApC,MAAA,CACP/F,UAAU,CAAG,mCAAmC,CAAG,mCAAmC,CACrF,CAAAoI,QAAA,eAEH9I,IAAA,CAACZ,WAAW,EAACyJ,SAAS,CAAC,MAAM,CAAE,CAAC,eAElC,EAAQ,CAAC,cACT7I,IAAA,OAAI6I,SAAS,mCAAApC,MAAA,CAAoC/F,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,iBAEhG,CAAI,CAAC,cACL5I,KAAA,MAAG2I,SAAS,iBAAApC,MAAA,CAAkB/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,EAAC,OACzE,CAAChI,WAAW,CAAC,kCACpB,EAAG,CAAC,EACD,CAAC,cAGNd,IAAA,QAAK6I,SAAS,+BAAApC,MAAA,CAAgC/F,UAAU,CAAG,oCAAoC,CAAG,iCAAiC,cAAa,CAAAoI,QAAA,cAC9I5I,KAAA,QAAK2I,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAEhD5I,KAAA,QAAK2I,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9I,IAAA,WACEgJ,OAAO,CAAEA,CAAA,GAAMlI,WAAW,CAAG,CAAC,EAAIC,cAAc,CAAC,CAAC,CAAE,CACpDkI,QAAQ,CAAEnI,WAAW,GAAK,CAAE,CAC5B+H,SAAS,mIAAApC,MAAA,CACP3F,WAAW,EAAI,CAAC,CACZ,uDAAuD,CACvDJ,UAAU,CAAG,2BAA2B,CAAG,2BAA2B,MAAA+F,MAAA,CACxE3F,WAAW,CAAG,CAAC,CAAG,gCAAgC,CAAG,EAAE,CAAG,CAAAgI,QAAA,CAE7DhI,WAAW,CAAG,CAAC,cAAGd,IAAA,CAACT,OAAO,EAACwJ,IAAI,CAAE,EAAG,CAAE,CAAC,CAAG,GAAG,CACxC,CAAC,cACT7I,KAAA,QAAK2I,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B9I,IAAA,MAAG6I,SAAS,uCAAApC,MAAA,CAAwC/F,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,SAAO,CAAG,CAAC,cAC9G9I,IAAA,MAAG6I,SAAS,uBAAApC,MAAA,CAAwB/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,kBAAgB,CAAG,CAAC,EACvG,CAAC,EACH,CAAC,cAGN9I,IAAA,QAAK6I,SAAS,yCAAApC,MAAA,CAA0C/F,UAAU,CAAG,aAAa,CAAG,aAAa,CAAG,CAAAoI,QAAA,cACnG9I,IAAA,QACE6I,SAAS,iDAAApC,MAAA,CACP3F,WAAW,EAAI,CAAC,CAAG,cAAc,CAAG,gBAAgB,CACnD,CACHoI,KAAK,CAAE,CAAEC,KAAK,CAAErI,WAAW,EAAI,CAAC,CAAG,MAAM,CAAG,IAAK,CAAE,CACpD,CAAC,CACC,CAAC,cAGNZ,KAAA,QAAK2I,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9I,IAAA,WACEgJ,OAAO,CAAEA,CAAA,GAAMlI,WAAW,CAAG,CAAC,EAAIC,cAAc,CAAC,CAAC,CAAE,CACpDkI,QAAQ,CAAEnI,WAAW,EAAI,CAAE,CAC3B+H,SAAS,mIAAApC,MAAA,CACP3F,WAAW,EAAI,CAAC,CACZ,uDAAuD,CACvDJ,UAAU,CAAG,2BAA2B,CAAG,2BAA2B,MAAA+F,MAAA,CACxE3F,WAAW,CAAG,CAAC,CAAG,gCAAgC,CAAG,EAAE,CAAG,CAAAgI,QAAA,CAE7DhI,WAAW,CAAG,CAAC,cAAGd,IAAA,CAACT,OAAO,EAACwJ,IAAI,CAAE,EAAG,CAAE,CAAC,CAAG,GAAG,CACxC,CAAC,cACT7I,KAAA,QAAK2I,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B9I,IAAA,MAAG6I,SAAS,uCAAApC,MAAA,CAAwC/F,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,SAAO,CAAG,CAAC,cAC9G9I,IAAA,MAAG6I,SAAS,uBAAApC,MAAA,CAAwB/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,eAAa,CAAG,CAAC,EACpG,CAAC,EACH,CAAC,cAGN9I,IAAA,QAAK6I,SAAS,yCAAApC,MAAA,CAA0C/F,UAAU,CAAG,aAAa,CAAG,aAAa,CAAG,CAAAoI,QAAA,cACnG9I,IAAA,QACE6I,SAAS,iDAAApC,MAAA,CACP3F,WAAW,EAAI,CAAC,CAAG,cAAc,CAAG,gBAAgB,CACnD,CACHoI,KAAK,CAAE,CAAEC,KAAK,CAAErI,WAAW,EAAI,CAAC,CAAG,MAAM,CAAG,IAAK,CAAE,CACpD,CAAC,CACC,CAAC,cAGNZ,KAAA,QAAK2I,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9I,IAAA,QAAK6I,SAAS,mIAAApC,MAAA,CACZ3F,WAAW,EAAI,CAAC,CACZ,uDAAuD,CACvDJ,UAAU,CAAG,2BAA2B,CAAG,2BAA2B,CACzE,CAAAoI,QAAA,CAAC,GAEJ,CAAK,CAAC,cACN5I,KAAA,QAAK2I,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B9I,IAAA,MAAG6I,SAAS,uCAAApC,MAAA,CAAwC/F,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,QAAM,CAAG,CAAC,cAC7G9I,IAAA,MAAG6I,SAAS,uBAAApC,MAAA,CAAwB/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,aAAW,CAAG,CAAC,EAClG,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,cAEN5I,KAAA,QAAK2I,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAE7D5I,KAAA,QAAK2I,SAAS,CAAC,eAAe,CAAAC,QAAA,EAG3BhI,WAAW,GAAK,CAAC,eAChBZ,KAAA,QAAK2I,SAAS,0DAAApC,MAAA,CACZ/F,UAAU,CAAG,6BAA6B,CAAG,0BAA0B,CACtE,CAAAoI,QAAA,eACD5I,KAAA,QAAK2I,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrC9I,IAAA,CAACX,QAAQ,EAACwJ,SAAS,CAAC,4CAA4C,CAAE,CAAC,cACnE7I,IAAA,OAAI6I,SAAS,iCAAApC,MAAA,CAAkC/F,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,kBAE9F,CAAI,CAAC,EACF,CAAC,cAEN5I,KAAA,QAAK2I,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzD5I,KAAA,QAAA4I,QAAA,eACE9I,IAAA,UAAO6I,SAAS,mCAAApC,MAAA,CAAoC/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,aAEtG,CAAO,CAAC,cACR5I,KAAA,QAAK2I,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB9I,IAAA,CAACL,MAAM,EAACkJ,SAAS,oCAAApC,MAAA,CAAqC/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAE,CAAC,cAC1GV,IAAA,UACEoJ,IAAI,CAAC,MAAM,CACXhG,KAAK,CAAEhC,eAAe,CAACE,QAAS,CAChC+H,QAAQ,CAAGC,CAAC,EAAKpG,mBAAmB,CAAC,UAAU,CAAEoG,CAAC,CAACC,MAAM,CAACnG,KAAK,CAAE,CACjEyF,SAAS,wHAAApC,MAAA,CACP/F,UAAU,CACN,6DAA6D,CAC7D,wCAAwC,CAC3C,CACH8I,WAAW,CAAC,sBAAsB,CAClChG,QAAQ,MACT,CAAC,EACC,CAAC,EACH,CAAC,cAENtD,KAAA,QAAA4I,QAAA,eACE9I,IAAA,UAAO6I,SAAS,mCAAApC,MAAA,CAAoC/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,gBAEtG,CAAO,CAAC,cACR5I,KAAA,QAAK2I,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB9I,IAAA,CAACN,OAAO,EAACmJ,SAAS,oCAAApC,MAAA,CAAqC/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAE,CAAC,cAC3GV,IAAA,UACEoJ,IAAI,CAAC,KAAK,CACVhG,KAAK,CAAEhC,eAAe,CAACI,KAAM,CAC7B6H,QAAQ,CAAGC,CAAC,EAAKpG,mBAAmB,CAAC,OAAO,CAAEoG,CAAC,CAACC,MAAM,CAACnG,KAAK,CAAE,CAC9DyF,SAAS,wHAAApC,MAAA,CACP/F,UAAU,CACN,6DAA6D,CAC7D,wCAAwC,CAC3C,CACH8I,WAAW,CAAC,6BAA6B,CACzCC,SAAS,CAAC,IAAI,CACdjG,QAAQ,MACT,CAAC,EACC,CAAC,EACH,CAAC,cAENtD,KAAA,QAAK2I,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9I,IAAA,UAAO6I,SAAS,mCAAApC,MAAA,CAAoC/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,kBAEtG,CAAO,CAAC,cACR9I,IAAA,UACEoJ,IAAI,CAAC,MAAM,CACXhG,KAAK,CAAEhC,eAAe,CAACM,YAAa,CACpC2H,QAAQ,CAAGC,CAAC,EAAKpG,mBAAmB,CAAC,cAAc,CAAEoG,CAAC,CAACC,MAAM,CAACnG,KAAK,CAAE,CACrEoG,WAAW,CAAC,6BAA6B,CACzCX,SAAS,kHAAApC,MAAA,CACP/F,UAAU,CACN,6DAA6D,CAC7D,wCAAwC,CAC3C,CACH8C,QAAQ,MACT,CAAC,EACC,CAAC,cAENtD,KAAA,QAAK2I,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B9I,IAAA,UAAO6I,SAAS,mCAAApC,MAAA,CAAoC/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,2BAEtG,CAAO,CAAC,cACR9I,IAAA,UACEoJ,IAAI,CAAC,MAAM,CACXhG,KAAK,CAAEhC,eAAe,CAACO,YAAa,CACpC0H,QAAQ,CAAGC,CAAC,EAAKpG,mBAAmB,CAAC,cAAc,CAAEoG,CAAC,CAACC,MAAM,CAACnG,KAAK,CAAE,CACrEoG,WAAW,CAAC,uCAAuC,CACnDX,SAAS,kHAAApC,MAAA,CACP/F,UAAU,CACN,6DAA6D,CAC7D,wCAAwC,CAC3C,CACJ,CAAC,EACC,CAAC,cAENR,KAAA,QAAA4I,QAAA,eACE9I,IAAA,UAAO6I,SAAS,mCAAApC,MAAA,CAAoC/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,QAEtG,CAAO,CAAC,cACR9I,IAAA,UACEoJ,IAAI,CAAC,MAAM,CACXhG,KAAK,CAAEhC,eAAe,CAACQ,IAAK,CAC5ByH,QAAQ,CAAGC,CAAC,EAAKpG,mBAAmB,CAAC,MAAM,CAAEoG,CAAC,CAACC,MAAM,CAACnG,KAAK,CAAE,CAC7DyF,SAAS,kHAAApC,MAAA,CACP/F,UAAU,CACN,6DAA6D,CAC7D,wCAAwC,CAC3C,CACH8I,WAAW,CAAC,YAAY,CACxBhG,QAAQ,MACT,CAAC,EACC,CAAC,cAENtD,KAAA,QAAA4I,QAAA,eACE9I,IAAA,UAAO6I,SAAS,mCAAApC,MAAA,CAAoC/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,SAEtG,CAAO,CAAC,cACR9I,IAAA,UACEoJ,IAAI,CAAC,MAAM,CACXhG,KAAK,CAAEhC,eAAe,CAACS,KAAM,CAC7BwH,QAAQ,CAAGC,CAAC,EAAKpG,mBAAmB,CAAC,OAAO,CAAEoG,CAAC,CAACC,MAAM,CAACnG,KAAK,CAAE,CAC9DyF,SAAS,kHAAApC,MAAA,CACP/F,UAAU,CACN,6DAA6D,CAC7D,wCAAwC,CAC3C,CACH8I,WAAW,CAAC,aAAa,CACzBhG,QAAQ,MACT,CAAC,EACC,CAAC,cAENtD,KAAA,QAAA4I,QAAA,eACE9I,IAAA,UAAO6I,SAAS,mCAAApC,MAAA,CAAoC/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,YAEtG,CAAO,CAAC,cACR9I,IAAA,UACEoJ,IAAI,CAAC,MAAM,CACXhG,KAAK,CAAEhC,eAAe,CAACU,OAAQ,CAC/BuH,QAAQ,CAAGC,CAAC,EAAKpG,mBAAmB,CAAC,SAAS,CAAEoG,CAAC,CAACC,MAAM,CAACnG,KAAK,CAAE,CAChEyF,SAAS,kHAAApC,MAAA,CACP/F,UAAU,CACN,6DAA6D,CAC7D,wCAAwC,CAC3C,CACH8I,WAAW,CAAC,wBAAwB,CACpCC,SAAS,CAAC,GAAG,CACbjG,QAAQ,MACT,CAAC,EACC,CAAC,cAENtD,KAAA,QAAA4I,QAAA,eACE9I,IAAA,UAAO6I,SAAS,mCAAApC,MAAA,CAAoC/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,qBAEtG,CAAO,CAAC,cACR9I,IAAA,UACEoJ,IAAI,CAAC,MAAM,CACXhG,KAAK,CAAEhC,eAAe,CAACW,QAAS,CAChCsH,QAAQ,CAAGC,CAAC,EAAKpG,mBAAmB,CAAC,UAAU,CAAEoG,CAAC,CAACC,MAAM,CAACnG,KAAK,CAAE,CACjEoG,WAAW,CAAC,2BAA2B,CACvCX,SAAS,kHAAApC,MAAA,CACP/F,UAAU,CACN,6DAA6D,CAC7D,wCAAwC,CAC3C,CACJ,CAAC,EACC,CAAC,EACH,CAAC,cAENR,KAAA,QAAA4I,QAAA,eACE9I,IAAA,UAAO6I,SAAS,mCAAApC,MAAA,CAAoC/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,iBAEtG,CAAO,CAAC,cACR5I,KAAA,QAAK2I,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB9I,IAAA,CAACP,QAAQ,EAACoJ,SAAS,oCAAApC,MAAA,CAAqC/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAE,CAAC,cAC5GV,IAAA,UACEoJ,IAAI,CAAC,OAAO,CACZhG,KAAK,CAAEhC,eAAe,CAACK,KAAM,CAC7B4H,QAAQ,CAAGC,CAAC,EAAKpG,mBAAmB,CAAC,OAAO,CAAEoG,CAAC,CAACC,MAAM,CAACnG,KAAK,CAAE,CAC9DyF,SAAS,wHAAApC,MAAA,CACP/F,UAAU,CAAG,6DAA6D,CAAG,wCAAwC,CACpH,CACH8I,WAAW,CAAC,kBAAkB,CAC9BhG,QAAQ,MACT,CAAC,EACC,CAAC,EACH,CAAC,cAENxD,IAAA,WACEgJ,OAAO,CAAE9E,mBAAoB,CAC7B+E,QAAQ,CAAE,CAAC1F,eAAe,CAAC,CAAC,EAAIrC,WAAY,CAC5C2H,SAAS,6IAAApC,MAAA,CACP/F,UAAU,CACN,mHAAmH,CACnH,8GAA8G,CACjH,CAAAoI,QAAA,CAEF5H,WAAW,cACVhB,KAAA,QAAK2I,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C9I,IAAA,QAAK6I,SAAS,CAAC,gEAAgE,CAAM,CAAC,wBAExF,EAAK,CAAC,cAEN3I,KAAA,CAAAE,SAAA,EAAA0I,QAAA,EAAE,qBAEA,cAAA9I,IAAA,CAACZ,WAAW,EAACyJ,SAAS,CAAC,gCAAgC,CAAE,CAAC,EAC1D,CACH,CACK,CAAC,EACN,CACN,CAGA/H,WAAW,GAAK,CAAC,eAChBZ,KAAA,QAAK2I,SAAS,0DAAApC,MAAA,CACZ/F,UAAU,CAAG,6BAA6B,CAAG,0BAA0B,CACtE,CAAAoI,QAAA,eACD5I,KAAA,QAAK2I,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrC9I,IAAA,CAACV,YAAY,EAACuJ,SAAS,CAAC,2CAA2C,CAAE,CAAC,cACtE7I,IAAA,OAAI6I,SAAS,iCAAApC,MAAA,CAAkC/F,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,gBAE9F,CAAI,CAAC,EACF,CAAC,cAEN5I,KAAA,QAAK2I,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAE7B9I,IAAA,QACE6I,SAAS,0DAAApC,MAAA,CACPzE,aAAa,GAAK,MAAM,CACpB,mDAAmD,CACnDtB,UAAU,CAAG,gCAAgC,CAAG,4BAA4B,CAC/E,CACHsI,OAAO,CAAEA,CAAA,GAAM/G,gBAAgB,CAAC,MAAM,CAAE,CAAA6G,QAAA,cAExC5I,KAAA,QAAK2I,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9I,IAAA,UACEoJ,IAAI,CAAC,OAAO,CACZ7H,IAAI,CAAC,eAAe,CACpB6B,KAAK,CAAC,MAAM,CACZsG,OAAO,CAAE1H,aAAa,GAAK,MAAO,CAClCqH,QAAQ,CAAEA,CAAA,GAAMpH,gBAAgB,CAAC,MAAM,CAAE,CACzC4G,SAAS,CAAC,qBAAqB,CAChC,CAAC,cACF3I,KAAA,QAAK2I,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrB9I,IAAA,OAAI6I,SAAS,kBAAApC,MAAA,CAAmB/F,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,8BAE/E,CAAI,CAAC,cACL9I,IAAA,MAAG6I,SAAS,YAAApC,MAAA,CAAa/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,qDAE3E,CAAG,CAAC,cACJ5I,KAAA,QAAK2I,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C9I,IAAA,SAAM6I,SAAS,CAAC,gGAAgG,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,cAC9H9I,IAAA,SAAM6I,SAAS,CAAC,4FAA4F,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,EACxH,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,cAGN9I,IAAA,QACE6I,SAAS,0DAAApC,MAAA,CACPzE,aAAa,GAAK,KAAK,CACnB,mDAAmD,CACnDtB,UAAU,CAAG,gCAAgC,CAAG,4BAA4B,CAC/E,CACHsI,OAAO,CAAEA,CAAA,GAAM/G,gBAAgB,CAAC,KAAK,CAAE,CAAA6G,QAAA,cAEvC5I,KAAA,QAAK2I,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC9I,IAAA,UACEoJ,IAAI,CAAC,OAAO,CACZ7H,IAAI,CAAC,eAAe,CACpB6B,KAAK,CAAC,KAAK,CACXsG,OAAO,CAAE1H,aAAa,GAAK,KAAM,CACjCqH,QAAQ,CAAEA,CAAA,GAAMpH,gBAAgB,CAAC,KAAK,CAAE,CACxC4G,SAAS,CAAC,qBAAqB,CAChC,CAAC,cACF3I,KAAA,QAAK2I,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrB9I,IAAA,OAAI6I,SAAS,kBAAApC,MAAA,CAAmB/F,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,kBAE/E,CAAI,CAAC,cACL9I,IAAA,MAAG6I,SAAS,YAAApC,MAAA,CAAa/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,uCAE3E,CAAG,CAAC,EACD,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,cAEN5I,KAAA,QAAK2I,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9C9I,IAAA,WACEgJ,OAAO,CAAEA,CAAA,GAAMjI,cAAc,CAAC,CAAC,CAAE,CACjC8H,SAAS,oDAAApC,MAAA,CACP/F,UAAU,CACN,6CAA6C,CAC7C,6CAA6C,CAChD,CAAAoI,QAAA,CACJ,wBAED,CAAQ,CAAC,cACT9I,IAAA,WACEgJ,OAAO,CAAE1E,yBAA0B,CACnC2E,QAAQ,CAAE/H,WAAY,CACtB2H,SAAS,4FAAApC,MAAA,CACP/F,UAAU,CACN,kHAAkH,CAClH,8GAA8G,CACjH,CAAAoI,QAAA,CAEF5H,WAAW,cACVhB,KAAA,QAAK2I,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C9I,IAAA,QAAK6I,SAAS,CAAC,gEAAgE,CAAM,CAAC,gBAExF,EAAK,CAAC,cAEN3I,KAAA,CAAAE,SAAA,EAAA0I,QAAA,EAAE,oBAEA,cAAA9I,IAAA,CAACZ,WAAW,EAACyJ,SAAS,CAAC,gCAAgC,CAAE,CAAC,EAC1D,CACH,CACK,CAAC,EACN,CAAC,EACH,CACN,CAGA/H,WAAW,GAAK,CAAC,eAChBZ,KAAA,QAAK2I,SAAS,0DAAApC,MAAA,CACZ/F,UAAU,CAAG,6BAA6B,CAAG,0BAA0B,CACtE,CAAAoI,QAAA,eACD5I,KAAA,QAAK2I,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrC9I,IAAA,CAACT,OAAO,EAACsJ,SAAS,CAAC,4CAA4C,CAAE,CAAC,cAClE7I,IAAA,OAAI6I,SAAS,iCAAApC,MAAA,CAAkC/F,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,mBAE9F,CAAI,CAAC,EACF,CAAC,cAGN5I,KAAA,QAAK2I,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAE7B5I,KAAA,QAAK2I,SAAS,mBAAApC,MAAA,CAAoB/F,UAAU,CAAG,aAAa,CAAG,YAAY,CAAG,CAAAoI,QAAA,eAC5E5I,KAAA,QAAK2I,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD9I,IAAA,OAAI6I,SAAS,kBAAApC,MAAA,CAAmB/F,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,kBAE/E,CAAI,CAAC,cACL5I,KAAA,WACE8I,OAAO,CAAEA,CAAA,GAAMjI,cAAc,CAAC,CAAC,CAAE,CACjC8H,SAAS,oEAAApC,MAAA,CACP/F,UAAU,CAAG,uBAAuB,CAAG,EAAE,CACxC,CAAAoI,QAAA,eAEH9I,IAAA,CAACJ,MAAM,EAACiJ,SAAS,CAAC,cAAc,CAAE,CAAC,OAErC,EAAQ,CAAC,EACN,CAAC,cACN3I,KAAA,QAAK2I,SAAS,YAAApC,MAAA,CAAa/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,eAC1E9I,IAAA,MAAG6I,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAE1H,eAAe,CAACE,QAAQ,CAAI,CAAC,cACzDtB,IAAA,MAAA8I,QAAA,CAAI1H,eAAe,CAACI,KAAK,CAAI,CAAC,cAC9BxB,IAAA,MAAA8I,QAAA,CAAI1H,eAAe,CAACM,YAAY,CAAI,CAAC,CACpCN,eAAe,CAACO,YAAY,eAAI3B,IAAA,MAAA8I,QAAA,CAAI1H,eAAe,CAACO,YAAY,CAAI,CAAC,cACtEzB,KAAA,MAAA4I,QAAA,EAAI1H,eAAe,CAACQ,IAAI,CAAC,IAAE,CAACR,eAAe,CAACS,KAAK,CAAC,KAAG,CAACT,eAAe,CAACU,OAAO,EAAI,CAAC,CACjFV,eAAe,CAACW,QAAQ,eAAI7B,KAAA,MAAA4I,QAAA,EAAG,YAAU,CAAC1H,eAAe,CAACW,QAAQ,EAAI,CAAC,EACrE,CAAC,EACH,CAAC,cAGN7B,KAAA,QAAK2I,SAAS,mBAAApC,MAAA,CAAoB/F,UAAU,CAAG,aAAa,CAAG,YAAY,CAAG,CAAAoI,QAAA,eAC5E5I,KAAA,QAAK2I,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD9I,IAAA,OAAI6I,SAAS,kBAAApC,MAAA,CAAmB/F,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,gBAE/E,CAAI,CAAC,cACL5I,KAAA,WACE8I,OAAO,CAAEA,CAAA,GAAMjI,cAAc,CAAC,CAAC,CAAE,CACjC8H,SAAS,oEAAApC,MAAA,CACP/F,UAAU,CAAG,uBAAuB,CAAG,EAAE,CACxC,CAAAoI,QAAA,eAEH9I,IAAA,CAACJ,MAAM,EAACiJ,SAAS,CAAC,cAAc,CAAE,CAAC,OAErC,EAAQ,CAAC,EACN,CAAC,cACN7I,IAAA,MAAG6I,SAAS,YAAApC,MAAA,CAAa/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CACvE9G,aAAa,GAAK,KAAK,CAAG,qBAAqB,CAAG,8BAA8B,CAChF,CAAC,EACD,CAAC,EACH,CAAC,cAGN9B,KAAA,QAAK2I,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB9I,IAAA,UAAO6I,SAAS,mCAAApC,MAAA,CAAoC/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,wBAEtG,CAAO,CAAC,cACR9I,IAAA,aACEoD,KAAK,CAAElB,UAAW,CAClBmH,QAAQ,CAAGC,CAAC,EAAKnH,aAAa,CAACmH,CAAC,CAACC,MAAM,CAACnG,KAAK,CAAE,CAC/CoG,WAAW,CAAC,4CAA4C,CACxDX,SAAS,kHAAApC,MAAA,CACP/F,UAAU,CACN,6DAA6D,CAC7D,wCAAwC,CAC3C,CACHiJ,IAAI,CAAC,GAAG,CACT,CAAC,EACC,CAAC,cAENzJ,KAAA,QAAK2I,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9C9I,IAAA,WACEgJ,OAAO,CAAEA,CAAA,GAAMjI,cAAc,CAAC,CAAC,CAAE,CACjC8H,SAAS,oDAAApC,MAAA,CACP/F,UAAU,CACN,6CAA6C,CAC7C,6CAA6C,CAChD,CAAAoI,QAAA,CACJ,wBAED,CAAQ,CAAC,cACT9I,IAAA,WACEgJ,OAAO,CAAEzE,gBAAiB,CAC1B0E,QAAQ,CAAEjI,OAAQ,CAClB6H,SAAS,gGAAApC,MAAA,CACP/F,UAAU,CACN,mHAAmH,CACnH,gHAAgH,CACnH,CAAAoI,QAAA,CAEF9H,OAAO,cACNd,KAAA,QAAK2I,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C9I,IAAA,QAAK6I,SAAS,CAAC,gEAAgE,CAAM,CAAC,mBAExF,EAAK,CAAC,cAEN3I,KAAA,CAAAE,SAAA,EAAA0I,QAAA,eACE9I,IAAA,CAACP,QAAQ,EAACoJ,SAAS,CAAC,qBAAqB,CAAE,CAAC,uBAC7B,CAAC7F,KAAK,CAAC4G,OAAO,CAAC,CAAC,CAAC,EAChC,CACH,CACK,CAAC,EACN,CAAC,EACH,CACN,EACE,CAAC,cAGN5J,IAAA,QAAK6I,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5B5I,KAAA,QAAK2I,SAAS,wDAAApC,MAAA,CACZ/F,UAAU,CAAG,6BAA6B,CAAG,0BAA0B,CACtE,CAAAoI,QAAA,eACD9I,IAAA,OAAI6I,SAAS,sCAAApC,MAAA,CAAuC/F,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAAC,eAEnG,CAAI,CAAC,cAGL9I,IAAA,QAAK6I,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CACrDxI,IAAI,CAACoE,GAAG,CAAEnC,IAAI,OAAAsH,cAAA,CAAAC,cAAA,CAAAC,cAAA,CAAAC,cAAA,oBACb9J,KAAA,QAAoB2I,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC9D5I,KAAA,QAAK2I,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC5C9I,IAAA,QAAK6I,SAAS,gDAAApC,MAAA,CAAiD/F,UAAU,CAAG,iBAAiB,CAAG,iBAAiB,+CAA8C,CAAAoI,QAAA,cAC7J9I,IAAA,QACEkI,GAAG,CAAE,EAAA2B,cAAA,CAAAtH,IAAI,CAACG,OAAO,UAAAmH,cAAA,iBAAZA,cAAA,CAAcI,QAAQ,GAAI1H,IAAI,CAAC0H,QAAQ,EAAI1H,IAAI,CAACmE,KAAK,EAAI,cAAe,CAC7EwD,GAAG,CAAE,EAAAJ,cAAA,CAAAvH,IAAI,CAACG,OAAO,UAAAoH,cAAA,iBAAZA,cAAA,CAAcvI,IAAI,GAAIgB,IAAI,CAAChB,IAAK,CACrCsH,SAAS,CAAC,4BAA4B,CACtCsB,OAAO,CAAGb,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACrB,GAAG,CAAG,cAAc,CAC/B,CAAE,CACH,CAAC,CACC,CAAC,cACNhI,KAAA,QAAK2I,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B9I,IAAA,MAAG6I,SAAS,wBAAApC,MAAA,CAAyB/F,UAAU,CAAG,YAAY,CAAG,eAAe,aAAY,CAAAoI,QAAA,CACzF,EAAAiB,cAAA,CAAAxH,IAAI,CAACG,OAAO,UAAAqH,cAAA,iBAAZA,cAAA,CAAcxI,IAAI,GAAIgB,IAAI,CAAChB,IAAI,CAC/B,CAAC,cACJrB,KAAA,MAAG2I,SAAS,YAAApC,MAAA,CAAa/F,UAAU,CAAG,eAAe,CAAG,eAAe,CAAG,CAAAoI,QAAA,EAAC,OACpE,CAACvG,IAAI,CAACI,QAAQ,EAAI,CAAC,EACvB,CAAC,EACD,CAAC,EACH,CAAC,cACNzC,KAAA,MAAG2I,SAAS,0BAAApC,MAAA,CAA2B/F,UAAU,CAAG,YAAY,CAAG,eAAe,kBAAiB,CAAAoI,QAAA,EAAC,QACjG,CAAC,CAAC,CAAC,EAAAkB,cAAA,CAAAzH,IAAI,CAACG,OAAO,UAAAsH,cAAA,iBAAZA,cAAA,CAAcvH,KAAK,GAAIF,IAAI,CAACE,KAAK,EAAI,CAAC,GAAKF,IAAI,CAACI,QAAQ,EAAI,CAAC,CAAC,EAAEiH,OAAO,CAAC,CAAC,CAAC,EAC7E,CAAC,GAvBIrH,IAAI,CAACsC,GAwBV,CAAC,EACP,CAAC,CACC,CAAC,cAEN3E,KAAA,QAAK2I,SAAS,4BAAApC,MAAA,CAA6B/F,UAAU,CAAG,iBAAiB,CAAG,iBAAiB,CAAG,CAAAoI,QAAA,eAC9F5I,KAAA,QAAK2I,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC9I,IAAA,SAAM6I,SAAS,CAAEnI,UAAU,CAAG,eAAe,CAAG,eAAgB,CAAAoI,QAAA,CAAC,UAAQ,CAAM,CAAC,cAChF5I,KAAA,SAAM2I,SAAS,CAAEnI,UAAU,CAAG,YAAY,CAAG,eAAgB,CAAAoI,QAAA,EAAC,QAAC,CAAC1G,QAAQ,CAACwH,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,EACxF,CAAC,cACN1J,KAAA,QAAK2I,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC9I,IAAA,SAAM6I,SAAS,CAAEnI,UAAU,CAAG,eAAe,CAAG,eAAgB,CAAAoI,QAAA,CAAC,cAAY,CAAM,CAAC,cACpF9I,IAAA,SAAM6I,SAAS,IAAApC,MAAA,CAAK7D,WAAW,GAAK,CAAC,CAAG,gBAAgB,CAAG,EAAE,MAAA6D,MAAA,CAAI/F,UAAU,CAAG,YAAY,CAAG,eAAe,CAAG,CAAAoI,QAAA,CAC5GlG,WAAW,GAAK,CAAC,CAAG,MAAM,UAAA6D,MAAA,CAAO7D,WAAW,CAACgH,OAAO,CAAC,CAAC,CAAC,CAAE,CACtD,CAAC,EACJ,CAAC,cACN1J,KAAA,QAAK2I,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnC9I,IAAA,SAAM6I,SAAS,CAAEnI,UAAU,CAAG,eAAe,CAAG,eAAgB,CAAAoI,QAAA,CAAC,UAAQ,CAAM,CAAC,cAChF5I,KAAA,SAAM2I,SAAS,CAAEnI,UAAU,CAAG,YAAY,CAAG,eAAgB,CAAAoI,QAAA,EAAC,QAAC,CAACjG,GAAG,CAAC+G,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,EACnF,CAAC,cACN1J,KAAA,QAAK2I,SAAS,sEAAApC,MAAA,CACZ/F,UAAU,CAAG,4BAA4B,CAAG,+BAA+B,CAC1E,CAAAoI,QAAA,eACD9I,IAAA,SAAA8I,QAAA,CAAM,OAAK,CAAM,CAAC,cAClB5I,KAAA,SAAA4I,QAAA,EAAM,QAAC,CAAC9F,KAAK,CAAC4G,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,EAC7B,CAAC,EACH,CAAC,cAGN1J,KAAA,QAAK2I,SAAS,oCAAApC,MAAA,CAAqC/F,UAAU,CAAG,iBAAiB,CAAG,aAAa,CAAG,CAAAoI,QAAA,eAClG9I,IAAA,CAACP,QAAQ,EAACoJ,SAAS,CAAC,qCAAqC,CAAE,CAAC,cAC5D7I,IAAA,MAAG6I,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,kDAElD,CAAG,CAAC,EACD,CAAC,CAGL9G,aAAa,GAAK,MAAM,eACvBhC,IAAA,QAAK6I,SAAS,iCAAApC,MAAA,CAAkC/F,UAAU,CAAG,gBAAgB,CAAG,YAAY,CAAG,CAAAoI,QAAA,cAC7F9I,IAAA,MAAG6I,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,qBAEjD,CAAG,CAAC,CACD,CACN,EACE,CAAC,CACH,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzI,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}