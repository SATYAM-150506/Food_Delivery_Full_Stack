{"ast":null,"code":"import _objectSpread from\"D:/food_delievery2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useContext}from'react';import{CartContext}from'../../Context/CartContext';import{AuthContext}from'../../Context/AuthContext';import{useToast}from'../../components/ToastContainer';import{getFoodImageSrc,handleImageError}from'../../utils/imageUtils';import{FiSearch,FiFilter,FiTruck,FiClock,FiStar,FiHeart,FiPlus,FiMinus,FiX,FiEye}from'react-icons/fi';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE=process.env.REACT_APP_API_URL||'http://localhost:5000';const Products=()=>{const{addToCart,getCartItemsCount}=useContext(CartContext);const{user}=useContext(AuthContext);const{showSuccess,showError}=useToast();// State management\nconst[products,setProducts]=useState([]);const[filteredProducts,setFilteredProducts]=useState([]);const[selectedCategory,setSelectedCategory]=useState('All');const[searchTerm,setSearchTerm]=useState('');const[sortBy,setSortBy]=useState('name');const[loading,setLoading]=useState(true);const[showFilters,setShowFilters]=useState(false);const[categories,setCategories]=useState(['All']);const[error,setError]=useState(null);const[favorites,setFavorites]=useState([]);const[quantities,setQuantities]=useState({});const[dietaryFilter,setDietaryFilter]=useState('All');const[ratingFilter,setRatingFilter]=useState(0);// Fetch products from backend\nuseEffect(()=>{fetchProducts();},[]);// Apply filters whenever filter states change\nuseEffect(()=>{applyFilters();},[products,selectedCategory,searchTerm,sortBy,dietaryFilter,ratingFilter]);const fetchProducts=async()=>{setLoading(true);setError(null);try{const response=await axios.get(\"\".concat(API_BASE,\"/api/products\"));const productsData=response.data;setProducts(productsData);// Extract unique categories\nconst uniqueCategories=['All',...new Set(productsData.map(product=>product.category))];setCategories(uniqueCategories);console.log(\"\\u2705 Fetched \".concat(productsData.length,\" products from backend\"));}catch(error){console.error('Failed to fetch products:',error);setError('Failed to load products from server');showError&&showError('Failed to load products');setProducts([]);setCategories(['All']);}finally{setLoading(false);}};const applyFilters=()=>{let filtered=[...products];// Category filter\nif(selectedCategory!=='All'){filtered=filtered.filter(product=>product.category===selectedCategory);}// Search filter\nif(searchTerm.trim()){filtered=filtered.filter(product=>product.name.toLowerCase().includes(searchTerm.toLowerCase())||product.description.toLowerCase().includes(searchTerm.toLowerCase()));}// Dietary filter\nif(dietaryFilter==='Vegetarian'){filtered=filtered.filter(product=>product.isVegetarian);}else if(dietaryFilter==='Non-Vegetarian'){filtered=filtered.filter(product=>!product.isVegetarian);}// Rating filter\nif(ratingFilter>0){filtered=filtered.filter(product=>{var _product$rating;const rating=((_product$rating=product.rating)===null||_product$rating===void 0?void 0:_product$rating.average)||product.rating||0;return rating>=ratingFilter;});}// Sort products\nswitch(sortBy){case'price-low':filtered.sort((a,b)=>a.price-b.price);break;case'price-high':filtered.sort((a,b)=>b.price-a.price);break;case'rating':filtered.sort((a,b)=>{var _b$rating,_a$rating;const ratingA=((_b$rating=b.rating)===null||_b$rating===void 0?void 0:_b$rating.average)||b.rating||0;const ratingB=((_a$rating=a.rating)===null||_a$rating===void 0?void 0:_a$rating.average)||a.rating||0;return ratingA-ratingB;});break;case'popular':filtered.sort((a,b)=>{var _b$rating2,_a$rating2;const reviewsA=((_b$rating2=b.rating)===null||_b$rating2===void 0?void 0:_b$rating2.count)||b.reviews||0;const reviewsB=((_a$rating2=a.rating)===null||_a$rating2===void 0?void 0:_a$rating2.count)||a.reviews||0;return reviewsA-reviewsB;});break;default:filtered.sort((a,b)=>a.name.localeCompare(b.name));}setFilteredProducts(filtered);};const handleAddToCart=async function(product){let quantity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;try{await addToCart(product,quantity);showSuccess&&showSuccess(\"\".concat(product.name,\" added to cart!\"));}catch(error){showError&&showError('Failed to add to cart');}};const toggleFavorite=productId=>{setFavorites(prev=>prev.includes(productId)?prev.filter(id=>id!==productId):[...prev,productId]);};const getQuantity=productId=>quantities[productId]||1;const updateQuantity=(productId,newQuantity)=>{if(newQuantity>=1){setQuantities(prev=>_objectSpread(_objectSpread({},prev),{},{[productId]:newQuantity}));}};const clearAllFilters=()=>{setSelectedCategory('All');setSearchTerm('');setSortBy('name');setDietaryFilter('All');setRatingFilter(0);setShowFilters(false);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 border-4 border-orange-200 border-t-orange-500 rounded-full animate-spin mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg\",children:\"Loading delicious menu...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-gradient-to-r from-orange-400 via-red-500 to-pink-600 text-white py-20 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 opacity-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent transform -skew-y-12\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 text-center relative z-10\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl md:text-7xl font-bold mb-6 animate-fadeIn\",children:\"\\uD83C\\uDF7D\\uFE0F Our Menu\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl md:text-2xl opacity-90 mb-8 animate-slideUp delay-200 max-w-3xl mx-auto\",children:\"Discover amazing flavors from around the world, crafted with love and fresh ingredients\"}),getCartItemsCount&&getCartItemsCount()>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white bg-opacity-20 backdrop-blur-sm rounded-xl p-4 mb-6 max-w-md mx-auto animate-slideUp delay-300 border border-white border-opacity-30\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-semibold\",children:[\"\\uD83D\\uDED2 \",getCartItemsCount(),\" items in your cart\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/cart',className:\"mt-2 bg-white text-orange-500 px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors\",children:\"View Cart\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-6 mb-8 border border-gray-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsx(FiSearch,{className:\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-xl\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search for delicious food...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-12 pr-4 py-4 text-lg border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all duration-300\"}),searchTerm&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSearchTerm(''),className:\"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(FiX,{size:20})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFilters(!showFilters),className:\"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg\",children:[/*#__PURE__*/_jsx(FiFilter,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Advanced Filters\"})]}),(selectedCategory!=='All'||searchTerm||dietaryFilter!=='All'||ratingFilter>0)&&/*#__PURE__*/_jsxs(\"button\",{onClick:clearAllFilters,className:\"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors\",children:[/*#__PURE__*/_jsx(FiX,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"Clear Filters\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full\",children:[filteredProducts.length,\" of \",products.length,\" items\"]})]}),showFilters&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl p-6 border border-gray-200 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-3 text-gray-800\",children:\"Categories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:categories.map(category=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedCategory(category),className:\"px-4 py-2 rounded-full transition-all duration-200 \".concat(selectedCategory===category?'bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg transform scale-105':'bg-white text-gray-700 border border-gray-300 hover:border-orange-300 hover:bg-orange-50'),children:category},category))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-3 text-gray-800\",children:\"Dietary Preference\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:['All','Vegetarian','Non-Vegetarian'].map(diet=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setDietaryFilter(diet),className:\"px-4 py-2 rounded-full transition-all duration-200 \".concat(dietaryFilter===diet?'bg-gradient-to-r from-green-500 to-blue-500 text-white shadow-lg':'bg-white text-gray-700 border border-gray-300 hover:border-green-300 hover:bg-green-50'),children:[diet==='Vegetarian'?'ü•¨ ':diet==='Non-Vegetarian'?'üçó ':'üçΩÔ∏è ',diet]},diet))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-3 text-gray-800\",children:\"Minimum Rating\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:[0,3,4,4.5].map(rating=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setRatingFilter(rating),className:\"flex items-center space-x-1 px-4 py-2 rounded-full transition-all duration-200 \".concat(ratingFilter===rating?'bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg':'bg-white text-gray-700 border border-gray-300 hover:border-yellow-300 hover:bg-yellow-50'),children:[/*#__PURE__*/_jsx(FiStar,{className:rating>0?'fill-current':''}),/*#__PURE__*/_jsx(\"span\",{children:rating===0?'Any':\"\".concat(rating,\"+\")})]},rating))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-3 text-gray-800\",children:\"Sort By\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:[{value:'name',label:'Name'},{value:'price-low',label:'Price: Low to High'},{value:'price-high',label:'Price: High to Low'},{value:'rating',label:'Highest Rated'},{value:'popular',label:'Most Popular'}].map(sort=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSortBy(sort.value),className:\"px-4 py-2 rounded-full transition-all duration-200 \".concat(sortBy===sort.value?'bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg':'bg-white text-gray-700 border border-gray-300 hover:border-purple-300 hover:bg-purple-50'),children:sort.label},sort.value))})]})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchProducts,className:\"ml-auto px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors\",children:\"Retry\"})]})}),filteredProducts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83C\\uDF7D\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-semibold text-gray-800 mb-2\",children:\"No items found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Try adjusting your filters or search terms\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearAllFilters,className:\"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors\",children:\"Clear All Filters\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\",children:filteredProducts.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product,onAddToCart:handleAddToCart,isFavorite:favorites.includes(product._id),onToggleFavorite:toggleFavorite,quantity:getQuantity(product._id),onUpdateQuantity:updateQuantity},product._id))})]})]});};// Enhanced Product Card Component\nconst ProductCard=_ref=>{var _product$rating2,_product$rating3;let{product,onAddToCart,isFavorite,onToggleFavorite,quantity,onUpdateQuantity}=_ref;const[imageLoaded,setImageLoaded]=useState(false);const rating=((_product$rating2=product.rating)===null||_product$rating2===void 0?void 0:_product$rating2.average)||product.rating||0;const reviewCount=((_product$rating3=product.rating)===null||_product$rating3===void 0?void 0:_product$rating3.count)||product.reviews||0;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-48 overflow-hidden\",children:[!imageLoaded&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 animate-pulse\"}),/*#__PURE__*/_jsx(\"img\",{src:getFoodImageSrc(product),alt:product.name,className:\"w-full h-full object-cover transition-opacity duration-300 \".concat(imageLoaded?'opacity-100':'opacity-0'),onLoad:()=>setImageLoaded(true),onError:e=>handleImageError(e,product)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onToggleFavorite(product._id),className:\"absolute top-3 right-3 p-2 rounded-full transition-all duration-200 \".concat(isFavorite?'bg-red-500 text-white transform scale-110':'bg-white bg-opacity-80 text-gray-600 hover:bg-opacity-100'),children:/*#__PURE__*/_jsx(FiHeart,{className:isFavorite?'fill-current':'',size:18})}),product.isVegetarian&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-3 left-3 bg-green-500 text-white text-xs px-2 py-1 rounded-full\",children:\"\\uD83E\\uDD6C Veg\"}),!product.inStock&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bg-red-500 text-white px-4 py-2 rounded-lg font-semibold\",children:\"Out of Stock\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-1 line-clamp-1\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(FiStar,{className:\"text-yellow-400 fill-current\",size:16}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:rating.toFixed(1)})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"(\",reviewCount,\" reviews)\"]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4 line-clamp-2\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mb-4 text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(FiClock,{size:14}),/*#__PURE__*/_jsx(\"span\",{children:\"25-30 min\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(FiTruck,{size:14}),/*#__PURE__*/_jsx(\"span\",{children:\"Free delivery\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-gray-900\",children:[\"\\u20B9\",product.price]}),product.originalPrice&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500 line-through\",children:[\"\\u20B9\",product.originalPrice]})]}),product.inStock?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center bg-gray-100 rounded-lg\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onUpdateQuantity(product._id,quantity-1),className:\"p-2 hover:bg-gray-200 rounded-l-lg transition-colors\",disabled:quantity<=1,children:/*#__PURE__*/_jsx(FiMinus,{size:14})}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-2 text-sm font-medium\",children:quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onUpdateQuantity(product._id,quantity+1),className:\"p-2 hover:bg-gray-200 rounded-r-lg transition-colors\",children:/*#__PURE__*/_jsx(FiPlus,{size:14})})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onAddToCart(product,quantity),className:\"bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 transform hover:scale-105 shadow-lg flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(FiPlus,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"Add\"})]})]}):/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"bg-gray-300 text-gray-500 px-4 py-2 rounded-lg cursor-not-allowed\",children:\"Out of Stock\"})]})]})]});};export default Products;","map":{"version":3,"names":["React","useEffect","useState","useContext","CartContext","AuthContext","useToast","getFoodImageSrc","handleImageError","FiSearch","FiFilter","FiTruck","FiClock","FiStar","FiHeart","FiPlus","FiMinus","FiX","FiEye","axios","jsx","_jsx","jsxs","_jsxs","API_BASE","process","env","REACT_APP_API_URL","Products","addToCart","getCartItemsCount","user","showSuccess","showError","products","setProducts","filteredProducts","setFilteredProducts","selectedCategory","setSelectedCategory","searchTerm","setSearchTerm","sortBy","setSortBy","loading","setLoading","showFilters","setShowFilters","categories","setCategories","error","setError","favorites","setFavorites","quantities","setQuantities","dietaryFilter","setDietaryFilter","ratingFilter","setRatingFilter","fetchProducts","applyFilters","response","get","concat","productsData","data","uniqueCategories","Set","map","product","category","console","log","length","filtered","filter","trim","name","toLowerCase","includes","description","isVegetarian","_product$rating","rating","average","sort","a","b","price","_b$rating","_a$rating","ratingA","ratingB","_b$rating2","_a$rating2","reviewsA","count","reviews","reviewsB","localeCompare","handleAddToCart","quantity","arguments","undefined","toggleFavorite","productId","prev","id","getQuantity","updateQuantity","newQuantity","_objectSpread","clearAllFilters","className","children","onClick","window","location","href","type","placeholder","value","onChange","e","target","size","diet","label","ProductCard","onAddToCart","isFavorite","_id","onToggleFavorite","onUpdateQuantity","_ref","_product$rating2","_product$rating3","imageLoaded","setImageLoaded","reviewCount","src","alt","onLoad","onError","inStock","toFixed","originalPrice","disabled"],"sources":["D:/food_delievery2/frontend/src/assets/pages/Products/Products.jsx"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { CartContext } from '../../Context/CartContext';\nimport { AuthContext } from '../../Context/AuthContext';\nimport { useToast } from '../../components/ToastContainer';\nimport { getFoodImageSrc, handleImageError } from '../../utils/imageUtils';\nimport { FiSearch, FiFilter, FiTruck, FiClock, FiStar, FiHeart, FiPlus, FiMinus, FiX, FiEye } from 'react-icons/fi';\nimport axios from 'axios';\n\nconst API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\nconst Products = () => {\n  const { addToCart, getCartItemsCount } = useContext(CartContext);\n  const { user } = useContext(AuthContext);\n  const { showSuccess, showError } = useToast();\n  \n  // State management\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortBy, setSortBy] = useState('name');\n  const [loading, setLoading] = useState(true);\n  const [showFilters, setShowFilters] = useState(false);\n  const [categories, setCategories] = useState(['All']);\n  const [error, setError] = useState(null);\n  const [favorites, setFavorites] = useState([]);\n  const [quantities, setQuantities] = useState({});\n  const [dietaryFilter, setDietaryFilter] = useState('All');\n  const [ratingFilter, setRatingFilter] = useState(0);\n\n  // Fetch products from backend\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  // Apply filters whenever filter states change\n  useEffect(() => {\n    applyFilters();\n  }, [products, selectedCategory, searchTerm, sortBy, dietaryFilter, ratingFilter]);\n\n  const fetchProducts = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(`${API_BASE}/api/products`);\n      const productsData = response.data;\n      \n      setProducts(productsData);\n      \n      // Extract unique categories\n      const uniqueCategories = ['All', ...new Set(productsData.map(product => product.category))];\n      setCategories(uniqueCategories);\n      \n      console.log(`‚úÖ Fetched ${productsData.length} products from backend`);\n    } catch (error) {\n      console.error('Failed to fetch products:', error);\n      setError('Failed to load products from server');\n      showError && showError('Failed to load products');\n      setProducts([]);\n      setCategories(['All']);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const applyFilters = () => {\n    let filtered = [...products];\n\n    // Category filter\n    if (selectedCategory !== 'All') {\n      filtered = filtered.filter(product => product.category === selectedCategory);\n    }\n\n    // Search filter\n    if (searchTerm.trim()) {\n      filtered = filtered.filter(product =>\n        product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        product.description.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n\n    // Dietary filter\n    if (dietaryFilter === 'Vegetarian') {\n      filtered = filtered.filter(product => product.isVegetarian);\n    } else if (dietaryFilter === 'Non-Vegetarian') {\n      filtered = filtered.filter(product => !product.isVegetarian);\n    }\n\n    // Rating filter\n    if (ratingFilter > 0) {\n      filtered = filtered.filter(product => {\n        const rating = product.rating?.average || product.rating || 0;\n        return rating >= ratingFilter;\n      });\n    }\n\n    // Sort products\n    switch (sortBy) {\n      case 'price-low':\n        filtered.sort((a, b) => a.price - b.price);\n        break;\n      case 'price-high':\n        filtered.sort((a, b) => b.price - a.price);\n        break;\n      case 'rating':\n        filtered.sort((a, b) => {\n          const ratingA = b.rating?.average || b.rating || 0;\n          const ratingB = a.rating?.average || a.rating || 0;\n          return ratingA - ratingB;\n        });\n        break;\n      case 'popular':\n        filtered.sort((a, b) => {\n          const reviewsA = b.rating?.count || b.reviews || 0;\n          const reviewsB = a.rating?.count || a.reviews || 0;\n          return reviewsA - reviewsB;\n        });\n        break;\n      default:\n        filtered.sort((a, b) => a.name.localeCompare(b.name));\n    }\n\n    setFilteredProducts(filtered);\n  };\n\n  const handleAddToCart = async (product, quantity = 1) => {\n    try {\n      await addToCart(product, quantity);\n      showSuccess && showSuccess(`${product.name} added to cart!`);\n    } catch (error) {\n      showError && showError('Failed to add to cart');\n    }\n  };\n\n  const toggleFavorite = (productId) => {\n    setFavorites(prev =>\n      prev.includes(productId)\n        ? prev.filter(id => id !== productId)\n        : [...prev, productId]\n    );\n  };\n\n  const getQuantity = (productId) => quantities[productId] || 1;\n\n  const updateQuantity = (productId, newQuantity) => {\n    if (newQuantity >= 1) {\n      setQuantities(prev => ({ ...prev, [productId]: newQuantity }));\n    }\n  };\n\n  const clearAllFilters = () => {\n    setSelectedCategory('All');\n    setSearchTerm('');\n    setSortBy('name');\n    setDietaryFilter('All');\n    setRatingFilter(0);\n    setShowFilters(false);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-orange-200 border-t-orange-500 rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-gray-600 text-lg\">Loading delicious menu...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50\">\n      {/* Enhanced Hero Section */}\n      <div className=\"relative bg-gradient-to-r from-orange-400 via-red-500 to-pink-600 text-white py-20 overflow-hidden\">\n        {/* Background Pattern */}\n        <div className=\"absolute inset-0 opacity-10\">\n          <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent transform -skew-y-12\"></div>\n        </div>\n        \n        <div className=\"container mx-auto px-4 text-center relative z-10\">\n          <h1 className=\"text-5xl md:text-7xl font-bold mb-6 animate-fadeIn\">\n            üçΩÔ∏è Our Menu\n          </h1>\n          <p className=\"text-xl md:text-2xl opacity-90 mb-8 animate-slideUp delay-200 max-w-3xl mx-auto\">\n            Discover amazing flavors from around the world, crafted with love and fresh ingredients\n          </p>\n          \n          {/* Cart Status */}\n          {getCartItemsCount && getCartItemsCount() > 0 && (\n            <div className=\"bg-white bg-opacity-20 backdrop-blur-sm rounded-xl p-4 mb-6 max-w-md mx-auto animate-slideUp delay-300 border border-white border-opacity-30\">\n              <p className=\"text-lg font-semibold\">\n                üõí {getCartItemsCount()} items in your cart\n              </p>\n              <button\n                onClick={() => window.location.href = '/cart'}\n                className=\"mt-2 bg-white text-orange-500 px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors\"\n              >\n                View Cart\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Search and Filter Controls */}\n        <div className=\"bg-white rounded-2xl shadow-xl p-6 mb-8 border border-gray-100\">\n          {/* Search Bar */}\n          <div className=\"mb-6\">\n            <div className=\"relative max-w-2xl mx-auto\">\n              <FiSearch className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-xl\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search for delicious food...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-12 pr-4 py-4 text-lg border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all duration-300\"\n              />\n              {searchTerm && (\n                <button\n                  onClick={() => setSearchTerm('')}\n                  className=\"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors\"\n                >\n                  <FiX size={20} />\n                </button>\n              )}\n            </div>\n          </div>\n\n          {/* Filter Toggle */}\n          <div className=\"flex justify-between items-center mb-4\">\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={() => setShowFilters(!showFilters)}\n                className=\"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg\"\n              >\n                <FiFilter />\n                <span>Advanced Filters</span>\n              </button>\n              \n              {(selectedCategory !== 'All' || searchTerm || dietaryFilter !== 'All' || ratingFilter > 0) && (\n                <button\n                  onClick={clearAllFilters}\n                  className=\"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors\"\n                >\n                  <FiX size={16} />\n                  <span>Clear Filters</span>\n                </button>\n              )}\n            </div>\n            \n            <div className=\"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full\">\n              {filteredProducts.length} of {products.length} items\n            </div>\n          </div>\n\n          {/* Advanced Filters Panel */}\n          {showFilters && (\n            <div className=\"bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl p-6 border border-gray-200 space-y-6\">\n              {/* Categories */}\n              <div>\n                <h3 className=\"text-lg font-semibold mb-3 text-gray-800\">Categories</h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {categories.map(category => (\n                    <button\n                      key={category}\n                      onClick={() => setSelectedCategory(category)}\n                      className={`px-4 py-2 rounded-full transition-all duration-200 ${\n                        selectedCategory === category\n                          ? 'bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg transform scale-105'\n                          : 'bg-white text-gray-700 border border-gray-300 hover:border-orange-300 hover:bg-orange-50'\n                      }`}\n                    >\n                      {category}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Dietary Preferences */}\n              <div>\n                <h3 className=\"text-lg font-semibold mb-3 text-gray-800\">Dietary Preference</h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {['All', 'Vegetarian', 'Non-Vegetarian'].map(diet => (\n                    <button\n                      key={diet}\n                      onClick={() => setDietaryFilter(diet)}\n                      className={`px-4 py-2 rounded-full transition-all duration-200 ${\n                        dietaryFilter === diet\n                          ? 'bg-gradient-to-r from-green-500 to-blue-500 text-white shadow-lg'\n                          : 'bg-white text-gray-700 border border-gray-300 hover:border-green-300 hover:bg-green-50'\n                      }`}\n                    >\n                      {diet === 'Vegetarian' ? 'ü•¨ ' : diet === 'Non-Vegetarian' ? 'üçó ' : 'üçΩÔ∏è '}\n                      {diet}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Rating Filter */}\n              <div>\n                <h3 className=\"text-lg font-semibold mb-3 text-gray-800\">Minimum Rating</h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {[0, 3, 4, 4.5].map(rating => (\n                    <button\n                      key={rating}\n                      onClick={() => setRatingFilter(rating)}\n                      className={`flex items-center space-x-1 px-4 py-2 rounded-full transition-all duration-200 ${\n                        ratingFilter === rating\n                          ? 'bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg'\n                          : 'bg-white text-gray-700 border border-gray-300 hover:border-yellow-300 hover:bg-yellow-50'\n                      }`}\n                    >\n                      <FiStar className={rating > 0 ? 'fill-current' : ''} />\n                      <span>{rating === 0 ? 'Any' : `${rating}+`}</span>\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Sort Options */}\n              <div>\n                <h3 className=\"text-lg font-semibold mb-3 text-gray-800\">Sort By</h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {[\n                    { value: 'name', label: 'Name' },\n                    { value: 'price-low', label: 'Price: Low to High' },\n                    { value: 'price-high', label: 'Price: High to Low' },\n                    { value: 'rating', label: 'Highest Rated' },\n                    { value: 'popular', label: 'Most Popular' }\n                  ].map(sort => (\n                    <button\n                      key={sort.value}\n                      onClick={() => setSortBy(sort.value)}\n                      className={`px-4 py-2 rounded-full transition-all duration-200 ${\n                        sortBy === sort.value\n                          ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg'\n                          : 'bg-white text-gray-700 border border-gray-300 hover:border-purple-300 hover:bg-purple-50'\n                      }`}\n                    >\n                      {sort.label}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Error State */}\n        {error && (\n          <div className=\"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl mb-8\">\n            <div className=\"flex items-center space-x-2\">\n              <span>‚ö†Ô∏è</span>\n              <span>{error}</span>\n              <button\n                onClick={fetchProducts}\n                className=\"ml-auto px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors\"\n              >\n                Retry\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Products Grid */}\n        {filteredProducts.length === 0 ? (\n          <div className=\"text-center py-16\">\n            <div className=\"text-6xl mb-4\">üçΩÔ∏è</div>\n            <h3 className=\"text-2xl font-semibold text-gray-800 mb-2\">No items found</h3>\n            <p className=\"text-gray-600 mb-4\">Try adjusting your filters or search terms</p>\n            <button\n              onClick={clearAllFilters}\n              className=\"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors\"\n            >\n              Clear All Filters\n            </button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\n            {filteredProducts.map(product => (\n              <ProductCard\n                key={product._id}\n                product={product}\n                onAddToCart={handleAddToCart}\n                isFavorite={favorites.includes(product._id)}\n                onToggleFavorite={toggleFavorite}\n                quantity={getQuantity(product._id)}\n                onUpdateQuantity={updateQuantity}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Enhanced Product Card Component\nconst ProductCard = ({ product, onAddToCart, isFavorite, onToggleFavorite, quantity, onUpdateQuantity }) => {\n  const [imageLoaded, setImageLoaded] = useState(false);\n  \n  const rating = product.rating?.average || product.rating || 0;\n  const reviewCount = product.rating?.count || product.reviews || 0;\n\n  return (\n    <div className=\"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 overflow-hidden\">\n      {/* Image */}\n      <div className=\"relative h-48 overflow-hidden\">\n        {!imageLoaded && (\n          <div className=\"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 animate-pulse\"></div>\n        )}\n        <img\n          src={getFoodImageSrc(product)}\n          alt={product.name}\n          className={`w-full h-full object-cover transition-opacity duration-300 ${imageLoaded ? 'opacity-100' : 'opacity-0'}`}\n          onLoad={() => setImageLoaded(true)}\n          onError={(e) => handleImageError(e, product)}\n        />\n        \n        {/* Favorite Button */}\n        <button\n          onClick={() => onToggleFavorite(product._id)}\n          className={`absolute top-3 right-3 p-2 rounded-full transition-all duration-200 ${\n            isFavorite\n              ? 'bg-red-500 text-white transform scale-110'\n              : 'bg-white bg-opacity-80 text-gray-600 hover:bg-opacity-100'\n          }`}\n        >\n          <FiHeart className={isFavorite ? 'fill-current' : ''} size={18} />\n        </button>\n\n        {/* Dietary Badge */}\n        {product.isVegetarian && (\n          <div className=\"absolute top-3 left-3 bg-green-500 text-white text-xs px-2 py-1 rounded-full\">\n            ü•¨ Veg\n          </div>\n        )}\n\n        {/* Stock Status */}\n        {!product.inStock && (\n          <div className=\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\n            <span className=\"bg-red-500 text-white px-4 py-2 rounded-lg font-semibold\">\n              Out of Stock\n            </span>\n          </div>\n        )}\n      </div>\n\n      {/* Content */}\n      <div className=\"p-5\">\n        {/* Title and Rating */}\n        <div className=\"mb-3\">\n          <h3 className=\"text-lg font-bold text-gray-900 mb-1 line-clamp-1\">{product.name}</h3>\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"flex items-center space-x-1\">\n              <FiStar className=\"text-yellow-400 fill-current\" size={16} />\n              <span className=\"text-sm font-medium text-gray-700\">{rating.toFixed(1)}</span>\n            </div>\n            <span className=\"text-sm text-gray-500\">({reviewCount} reviews)</span>\n          </div>\n        </div>\n\n        {/* Description */}\n        <p className=\"text-gray-600 text-sm mb-4 line-clamp-2\">{product.description}</p>\n\n        {/* Delivery Info */}\n        <div className=\"flex items-center space-x-4 mb-4 text-sm text-gray-500\">\n          <div className=\"flex items-center space-x-1\">\n            <FiClock size={14} />\n            <span>25-30 min</span>\n          </div>\n          <div className=\"flex items-center space-x-1\">\n            <FiTruck size={14} />\n            <span>Free delivery</span>\n          </div>\n        </div>\n\n        {/* Price and Actions */}\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"text-2xl font-bold text-gray-900\">‚Çπ{product.price}</span>\n            {product.originalPrice && (\n              <span className=\"text-sm text-gray-500 line-through\">‚Çπ{product.originalPrice}</span>\n            )}\n          </div>\n\n          {product.inStock ? (\n            <div className=\"flex items-center space-x-2\">\n              {/* Quantity Selector */}\n              <div className=\"flex items-center bg-gray-100 rounded-lg\">\n                <button\n                  onClick={() => onUpdateQuantity(product._id, quantity - 1)}\n                  className=\"p-2 hover:bg-gray-200 rounded-l-lg transition-colors\"\n                  disabled={quantity <= 1}\n                >\n                  <FiMinus size={14} />\n                </button>\n                <span className=\"px-3 py-2 text-sm font-medium\">{quantity}</span>\n                <button\n                  onClick={() => onUpdateQuantity(product._id, quantity + 1)}\n                  className=\"p-2 hover:bg-gray-200 rounded-r-lg transition-colors\"\n                >\n                  <FiPlus size={14} />\n                </button>\n              </div>\n\n              {/* Add to Cart Button */}\n              <button\n                onClick={() => onAddToCart(product, quantity)}\n                className=\"bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 rounded-lg hover:from-orange-600 hover:to-red-600 transition-all duration-200 transform hover:scale-105 shadow-lg flex items-center space-x-2\"\n              >\n                <FiPlus size={16} />\n                <span>Add</span>\n              </button>\n            </div>\n          ) : (\n            <button\n              disabled\n              className=\"bg-gray-300 text-gray-500 px-4 py-2 rounded-lg cursor-not-allowed\"\n            >\n              Out of Stock\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Products;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}