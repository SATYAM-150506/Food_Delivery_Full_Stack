{"ast":null,"code":"var _jsxFileName = \"D:\\\\food_delievery2\\\\frontend\\\\src\\\\assets\\\\pages\\\\Payment\\\\Checkout.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { CartContext } from '../../Context/CartContext';\nimport { AuthContext } from '../../Context/AuthContext';\nimport { useDarkMode } from '../../Context/DarkModeContext';\nimport { useToast } from '../../components/ToastContainer';\nimport { FiArrowLeft, FiMapPin, FiCreditCard, FiCheck, FiTruck, FiShield, FiPhone, FiUser, FiEdit } from 'react-icons/fi';\nimport orderService from '../../services/orderService';\nimport paymentService from '../../services/paymentService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Checkout = () => {\n  _s();\n  const {\n    cart,\n    getCartTotal,\n    clearCart\n  } = useContext(CartContext);\n  const {\n    user\n  } = useContext(AuthContext);\n  const {\n    isDarkMode\n  } = useDarkMode();\n  const {\n    showSuccess,\n    showError\n  } = useToast();\n  const navigate = useNavigate();\n\n  // State for checkout steps\n  const [currentStep, setCurrentStep] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [stepLoading, setStepLoading] = useState(false);\n\n  // Address form state\n  const [deliveryAddress, setDeliveryAddress] = useState({\n    fullName: (user === null || user === void 0 ? void 0 : user.name) || '',\n    phone: (user === null || user === void 0 ? void 0 : user.phone) || '',\n    addressLine1: '',\n    addressLine2: '',\n    city: '',\n    state: '',\n    pincode: '',\n    landmark: ''\n  });\n\n  // Payment state\n  const [paymentMethod, setPaymentMethod] = useState('card');\n  const [orderNotes, setOrderNotes] = useState('');\n\n  // Pricing calculations\n  const subtotal = getCartTotal ? getCartTotal() : cart.reduce((sum, item) => {\n    var _item$product;\n    const price = ((_item$product = item.product) === null || _item$product === void 0 ? void 0 : _item$product.price) || item.price || 0;\n    return sum + price * (item.quantity || 1);\n  }, 0);\n  const deliveryFee = subtotal > 299 ? 0 : 49;\n  const tax = Math.round(subtotal * 0.05); // 5% tax\n  const total = subtotal + deliveryFee + tax;\n  useEffect(() => {\n    // Only redirect if cart is empty\n    if (!cart || cart.length === 0) {\n      navigate('/cart');\n      return;\n    }\n  }, [cart, navigate]);\n  const handleAddressChange = (field, value) => {\n    setDeliveryAddress(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const validateAddress = () => {\n    const required = ['fullName', 'phone', 'addressLine1', 'city', 'state', 'pincode'];\n    return required.every(field => deliveryAddress[field].trim() !== '');\n  };\n  const validatePhoneNumber = phone => {\n    const phoneRegex = /^[6-9]\\d{9}$/;\n    return phoneRegex.test(phone);\n  };\n  const validatePincode = pincode => {\n    const pincodeRegex = /^[1-9][0-9]{5}$/;\n    return pincodeRegex.test(pincode);\n  };\n  const handleAddressSubmit = async () => {\n    if (!validateAddress()) {\n      showError('Please fill all required address fields');\n      return;\n    }\n    if (!validatePhoneNumber(deliveryAddress.phone)) {\n      showError('Please enter a valid 10-digit phone number');\n      return;\n    }\n    if (!validatePincode(deliveryAddress.pincode)) {\n      showError('Please enter a valid 6-digit PIN code');\n      return;\n    }\n    setStepLoading(true);\n    // Simulate API call for address validation\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    setStepLoading(false);\n    showSuccess('Address validated successfully!');\n    setCurrentStep(2);\n  };\n  const handlePaymentMethodSubmit = async () => {\n    setStepLoading(true);\n    await new Promise(resolve => setTimeout(resolve, 500));\n    setStepLoading(false);\n    showSuccess('Payment method selected!');\n    setCurrentStep(3);\n  };\n  const handlePlaceOrder = async () => {\n    if (!validateAddress()) {\n      showError('Please fill all required address fields');\n      return;\n    }\n    setLoading(true);\n    try {\n      // Prepare order data\n      const orderData = {\n        items: cart.map(item => {\n          var _item$product2, _item$product3;\n          return {\n            product: ((_item$product2 = item.product) === null || _item$product2 === void 0 ? void 0 : _item$product2._id) || item._id,\n            quantity: item.quantity,\n            price: ((_item$product3 = item.product) === null || _item$product3 === void 0 ? void 0 : _item$product3.price) || item.price || 0\n          };\n        }),\n        deliveryAddress,\n        paymentMethod,\n        orderNotes,\n        subtotal,\n        deliveryFee,\n        tax,\n        total,\n        paymentStatus: paymentMethod === 'cod' ? 'pending' : 'pending'\n      };\n      if (paymentMethod === 'cod') {\n        // Cash on Delivery - Direct order placement\n        const response = await orderService.createOrder(orderData);\n        if (response && response.success !== false) {\n          clearCart();\n          showSuccess('Order placed successfully! You can pay cash on delivery.');\n          navigate('/orders');\n        } else {\n          throw new Error((response === null || response === void 0 ? void 0 : response.error) || 'Failed to place order');\n        }\n      } else {\n        // Online Payment - Razorpay Integration\n        const paymentOrderData = {\n          amount: total,\n          currency: 'INR',\n          items: orderData.items,\n          address: deliveryAddress,\n          total: total\n        };\n\n        // Create Razorpay order\n        const paymentResponse = await paymentService.processPayment(paymentOrderData);\n        if (!paymentResponse.success) {\n          throw new Error('Failed to create payment order');\n        }\n\n        // Configure Razorpay options\n        const razorpayOptions = {\n          key: paymentResponse.key_id || 'rzp_test_RAi5uQX3MTrzfi',\n          amount: paymentResponse.razorpayOrder.amount,\n          currency: paymentResponse.currency,\n          order_id: paymentResponse.razorpayOrder.id,\n          name: 'Food Delivery',\n          description: `Order for ${cart.length} items`,\n          image: '/favicon.ico',\n          prefill: {\n            name: (user === null || user === void 0 ? void 0 : user.name) || deliveryAddress.fullName,\n            email: (user === null || user === void 0 ? void 0 : user.email) || '',\n            contact: deliveryAddress.phone\n          },\n          theme: {\n            color: '#F97316'\n          },\n          handler: async function (response) {\n            try {\n              // Verify payment\n              const verifyData = {\n                razorpayOrderId: response.razorpay_order_id,\n                razorpayPaymentId: response.razorpay_payment_id,\n                razorpaySignature: response.razorpay_signature\n              };\n              const verifyResponse = await paymentService.verifyPayment(verifyData);\n              if (verifyResponse.message === 'Payment verified successfully') {\n                const finalOrderData = {\n                  ...orderData,\n                  paymentStatus: 'completed',\n                  paymentId: response.razorpay_payment_id,\n                  razorpayOrderId: response.razorpay_order_id\n                };\n                const orderResponse = await orderService.createOrder(finalOrderData);\n                if (orderResponse && orderResponse.success !== false) {\n                  clearCart();\n                  showSuccess('Payment successful! Order placed successfully.');\n                  navigate('/orders');\n                } else {\n                  throw new Error('Order creation failed after payment');\n                }\n              } else {\n                throw new Error('Payment verification failed');\n              }\n            } catch (error) {\n              console.error('Payment verification error:', error);\n              showError('Payment verification failed. Please contact support.');\n            } finally {\n              setLoading(false);\n            }\n          },\n          modal: {\n            ondismiss: function () {\n              showError('Payment cancelled. Your order was not placed.');\n              setLoading(false);\n            }\n          }\n        };\n\n        // Initialize Razorpay\n        if (!window.Razorpay) {\n          const script = document.createElement('script');\n          script.src = 'https://checkout.razorpay.com/v1/checkout.js';\n          script.onload = () => {\n            const rzp = new window.Razorpay(razorpayOptions);\n            rzp.open();\n          };\n          script.onerror = () => {\n            showError('Failed to load payment gateway. Please try again.');\n            setLoading(false);\n          };\n          document.body.appendChild(script);\n        } else {\n          const rzp = new window.Razorpay(razorpayOptions);\n          rzp.open();\n        }\n        return;\n      }\n    } catch (error) {\n      var _error$response;\n      console.error('Order placement error:', error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        showError('Your session has expired. Please login again.');\n        navigate('/login');\n      } else {\n        var _error$response2, _error$response2$data;\n        showError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message || 'Failed to place order');\n      }\n    } finally {\n      if (paymentMethod === 'cod') {\n        setLoading(false);\n      }\n    }\n  };\n\n  // If cart is empty, redirect\n  if (!cart || cart.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `min-h-screen flex items-center justify-center ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center max-w-md mx-auto p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center ${isDarkMode ? 'bg-gray-800' : 'bg-gray-200'}`,\n          children: /*#__PURE__*/_jsxDEV(FiTruck, {\n            size: 32,\n            className: isDarkMode ? 'text-gray-400' : 'text-gray-600'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: `text-2xl font-bold mb-4 ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n          children: \"Your cart is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `mb-6 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: \"Add some items to your cart to proceed with checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/products'),\n          className: \"px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg hover:from-orange-600 hover:to-red-600 transition-all font-semibold shadow-lg\",\n          children: \"Browse Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/cart'),\n          className: `flex items-center mb-4 transition-colors ${isDarkMode ? 'text-gray-400 hover:text-gray-200' : 'text-gray-600 hover:text-gray-800'}`,\n          children: [/*#__PURE__*/_jsxDEV(FiArrowLeft, {\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), \"Back to Cart\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: `text-2xl md:text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`,\n          children: \"Secure Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-sm mt-1 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n          children: [\"Step \", currentStep, \" of 3 \\u2022 Powered by Razorpay\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mb-8 p-4 md:p-6 rounded-xl ${isDarkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-200'} shadow-sm`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => currentStep > 1 && setCurrentStep(1),\n              disabled: currentStep === 1,\n              className: `w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${currentStep >= 1 ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'} ${currentStep > 1 ? 'cursor-pointer hover:shadow-xl' : ''}`,\n              children: currentStep > 1 ? /*#__PURE__*/_jsxDEV(FiCheck, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 36\n              }, this) : '1'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hidden sm:block\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: `font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                children: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n                children: \"Delivery details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex-1 mx-2 md:mx-4 h-1 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `h-1 rounded-full transition-all duration-500 ${currentStep >= 2 ? 'bg-green-500' : 'bg-transparent'}`,\n              style: {\n                width: currentStep >= 2 ? '100%' : '0%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => currentStep > 2 && setCurrentStep(2),\n              disabled: currentStep <= 1,\n              className: `w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${currentStep >= 2 ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'} ${currentStep > 2 ? 'cursor-pointer hover:shadow-xl' : ''}`,\n              children: currentStep > 2 ? /*#__PURE__*/_jsxDEV(FiCheck, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 36\n              }, this) : '2'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hidden sm:block\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: `font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                children: \"Payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n                children: \"Choose method\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex-1 mx-2 md:mx-4 h-1 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `h-1 rounded-full transition-all duration-500 ${currentStep >= 3 ? 'bg-green-500' : 'bg-transparent'}`,\n              style: {\n                width: currentStep >= 3 ? '100%' : '0%'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${currentStep >= 3 ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'}`,\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hidden sm:block\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: `font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                children: \"Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n                children: \"Place order\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: [currentStep === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `rounded-xl shadow-lg p-4 md:p-6 border transition-all ${isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(FiMapPin, {\n                className: \"w-5 h-5 md:w-6 md:h-6 mr-3 text-orange-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: `text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`,\n                children: \"Delivery Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Full Name *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative\",\n                  children: [/*#__PURE__*/_jsxDEV(FiUser, {\n                    className: `absolute left-3 top-3.5 w-4 h-4 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 411,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: deliveryAddress.fullName,\n                    onChange: e => handleAddressChange('fullName', e.target.value),\n                    className: `w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`,\n                    placeholder: \"Enter your full name\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Phone Number *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative\",\n                  children: [/*#__PURE__*/_jsxDEV(FiPhone, {\n                    className: `absolute left-3 top-3.5 w-4 h-4 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"tel\",\n                    value: deliveryAddress.phone,\n                    onChange: e => handleAddressChange('phone', e.target.value),\n                    className: `w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`,\n                    placeholder: \"Enter 10-digit phone number\",\n                    maxLength: \"10\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"md:col-span-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Address Line 1 *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: deliveryAddress.addressLine1,\n                  onChange: e => handleAddressChange('addressLine1', e.target.value),\n                  placeholder: \"House/Flat No., Street Name\",\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"md:col-span-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Address Line 2 (Optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: deliveryAddress.addressLine2,\n                  onChange: e => handleAddressChange('addressLine2', e.target.value),\n                  placeholder: \"Apartment, Floor, Building (Optional)\",\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"City *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: deliveryAddress.city,\n                  onChange: e => handleAddressChange('city', e.target.value),\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`,\n                  placeholder: \"Enter city\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"State *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: deliveryAddress.state,\n                  onChange: e => handleAddressChange('state', e.target.value),\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`,\n                  placeholder: \"Enter state\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"PIN Code *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: deliveryAddress.pincode,\n                  onChange: e => handleAddressChange('pincode', e.target.value),\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`,\n                  placeholder: \"Enter 6-digit PIN code\",\n                  maxLength: \"6\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Landmark (Optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 540,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: deliveryAddress.landmark,\n                  onChange: e => handleAddressChange('landmark', e.target.value),\n                  placeholder: \"Near bus stop, mall, etc.\",\n                  className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAddressSubmit,\n              disabled: !validateAddress() || stepLoading,\n              className: `w-full py-3 md:py-4 px-6 rounded-xl font-semibold text-white transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${isDarkMode ? 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg shadow-orange-500/25' : 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg hover:shadow-xl'}`,\n              children: stepLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 568,\n                  columnNumber: 23\n                }, this), \"Validating Address...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [\"Continue to Payment\", /*#__PURE__*/_jsxDEV(FiArrowLeft, {\n                  className: \"ml-2 rotate-180 w-4 h-4 inline\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this), currentStep === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `rounded-xl shadow-lg p-4 md:p-6 border transition-all ${isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(FiCreditCard, {\n                className: \"w-5 h-5 md:w-6 md:h-6 mr-3 text-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 587,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: `text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`,\n                children: \"Payment Method\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 border-2 rounded-xl cursor-pointer transition-all ${paymentMethod === 'card' ? 'border-green-500 bg-green-50 dark:bg-green-900/20' : isDarkMode ? 'border-gray-700 bg-gray-700/50' : 'border-gray-200 bg-gray-50'}`,\n                onClick: () => setPaymentMethod('card'),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    name: \"paymentMethod\",\n                    value: \"card\",\n                    checked: paymentMethod === 'card',\n                    onChange: () => setPaymentMethod('card'),\n                    className: \"mr-3 text-green-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 604,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: `font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                      children: \"Online Payment (Recommended)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 613,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: `text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n                      children: \"Pay securely with UPI, Cards, Net Banking & Wallets\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 616,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center mt-2 space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded\",\n                        children: \"Secure\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 620,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded\",\n                        children: \"Instant\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 621,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 619,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 612,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 border-2 rounded-xl cursor-pointer transition-all ${paymentMethod === 'cod' ? 'border-green-500 bg-green-50 dark:bg-green-900/20' : isDarkMode ? 'border-gray-700 bg-gray-700/50' : 'border-gray-200 bg-gray-50'}`,\n                onClick: () => setPaymentMethod('cod'),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    name: \"paymentMethod\",\n                    value: \"cod\",\n                    checked: paymentMethod === 'cod',\n                    onChange: () => setPaymentMethod('cod'),\n                    className: \"mr-3 text-green-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: `font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                      children: \"Cash on Delivery\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 646,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: `text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n                      children: \"Pay with cash when your order arrives\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 649,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 645,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 636,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col sm:flex-row gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentStep(1),\n                className: `px-6 py-3 rounded-xl font-medium transition-all ${isDarkMode ? 'bg-gray-700 text-gray-300 hover:bg-gray-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n                children: \"\\u2190 Back to Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handlePaymentMethodSubmit,\n                disabled: stepLoading,\n                className: `flex-1 py-3 px-6 rounded-xl font-semibold text-white transition-all disabled:opacity-50 ${isDarkMode ? 'bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 shadow-lg shadow-green-500/25' : 'bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 shadow-lg hover:shadow-xl'}`,\n                children: stepLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 679,\n                    columnNumber: 25\n                  }, this), \"Processing...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 678,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\"Continue to Review\", /*#__PURE__*/_jsxDEV(FiArrowLeft, {\n                    className: \"ml-2 rotate-180 w-4 h-4 inline\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 685,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 15\n          }, this), currentStep === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `rounded-xl shadow-lg p-4 md:p-6 border transition-all ${isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(FiCheck, {\n                className: \"w-5 h-5 md:w-6 md:h-6 mr-3 text-purple-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: `text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`,\n                children: \"Review Your Order\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 700,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 rounded-lg ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: `font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                    children: \"Delivery Address\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 710,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setCurrentStep(1),\n                    className: `text-sm text-orange-500 hover:text-orange-600 flex items-center ${isDarkMode ? 'hover:text-orange-400' : ''}`,\n                    children: [/*#__PURE__*/_jsxDEV(FiEdit, {\n                      className: \"w-4 h-4 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 719,\n                      columnNumber: 25\n                    }, this), \"Edit\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 713,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 709,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `text-sm ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-medium\",\n                    children: deliveryAddress.fullName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 724,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: deliveryAddress.phone\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 725,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: deliveryAddress.addressLine1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 726,\n                    columnNumber: 23\n                  }, this), deliveryAddress.addressLine2 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: deliveryAddress.addressLine2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 727,\n                    columnNumber: 56\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [deliveryAddress.city, \", \", deliveryAddress.state, \" - \", deliveryAddress.pincode]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 728,\n                    columnNumber: 23\n                  }, this), deliveryAddress.landmark && /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Landmark: \", deliveryAddress.landmark]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 729,\n                    columnNumber: 52\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 723,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 rounded-lg ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: `font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                    children: \"Payment Method\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 736,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setCurrentStep(2),\n                    className: `text-sm text-orange-500 hover:text-orange-600 flex items-center ${isDarkMode ? 'hover:text-orange-400' : ''}`,\n                    children: [/*#__PURE__*/_jsxDEV(FiEdit, {\n                      className: \"w-4 h-4 mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 745,\n                      columnNumber: 25\n                    }, this), \"Edit\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 739,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 735,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `text-sm ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: paymentMethod === 'cod' ? ' Cash on Delivery' : ' Online Payment (Razorpay)'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 749,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 734,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: `block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`,\n                children: \"Order Notes (Optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 757,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: orderNotes,\n                onChange: e => setOrderNotes(e.target.value),\n                placeholder: \"Any special instructions for your order...\",\n                className: `w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${isDarkMode ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'}`,\n                rows: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 760,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 756,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col sm:flex-row gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCurrentStep(2),\n                className: `px-6 py-3 rounded-xl font-medium transition-all ${isDarkMode ? 'bg-gray-700 text-gray-300 hover:bg-gray-600' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n                children: \"\\u2190 Back to Payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 774,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handlePlaceOrder,\n                disabled: loading,\n                className: `flex-1 py-3 md:py-4 px-6 rounded-xl font-bold text-white transition-all disabled:opacity-50 ${isDarkMode ? 'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-lg shadow-blue-500/25' : 'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-lg hover:shadow-xl'}`,\n                children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 795,\n                    columnNumber: 25\n                  }, this), \"Placing Order...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 794,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(FiShield, {\n                    className: \"w-5 h-5 mr-2 inline\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 800,\n                    columnNumber: 25\n                  }, this), \"Place Order - \\u20B9\", total.toFixed(2)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 784,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 773,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `rounded-xl shadow-lg p-4 md:p-6 border sticky top-4 ${isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: `text-lg md:text-xl font-bold mb-4 ${isDarkMode ? 'text-white' : 'text-gray-800'}`,\n              children: \"Order Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 815,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3 mb-4 max-h-60 overflow-y-auto\",\n              children: cart.map(item => {\n                var _item$product4, _item$product5, _item$product6, _item$product7;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center flex-1 mr-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `w-10 h-10 md:w-12 md:h-12 rounded-lg border ${isDarkMode ? 'border-gray-600' : 'border-gray-200'} mr-2 md:mr-3 overflow-hidden flex-shrink-0`,\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: ((_item$product4 = item.product) === null || _item$product4 === void 0 ? void 0 : _item$product4.imageUrl) || item.imageUrl || item.image || '/favicon.ico',\n                        alt: ((_item$product5 = item.product) === null || _item$product5 === void 0 ? void 0 : _item$product5.name) || item.name,\n                        className: \"w-full h-full object-cover\",\n                        onError: e => {\n                          e.target.src = '/favicon.ico';\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 825,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 824,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1 min-w-0\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: `font-medium text-sm ${isDarkMode ? 'text-white' : 'text-gray-900'} truncate`,\n                        children: ((_item$product6 = item.product) === null || _item$product6 === void 0 ? void 0 : _item$product6.name) || item.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 835,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: `text-xs ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`,\n                        children: [\"Qty: \", item.quantity || 1]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 838,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 834,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 823,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: `font-semibold text-sm ${isDarkMode ? 'text-white' : 'text-gray-900'} flex-shrink-0`,\n                    children: [\"\\u20B9\", ((((_item$product7 = item.product) === null || _item$product7 === void 0 ? void 0 : _item$product7.price) || item.price || 0) * (item.quantity || 1)).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 843,\n                    columnNumber: 21\n                  }, this)]\n                }, item._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 19\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 820,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `border-t pt-4 space-y-2 ${isDarkMode ? 'border-gray-700' : 'border-gray-200'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: isDarkMode ? 'text-gray-400' : 'text-gray-600',\n                  children: \"Subtotal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 852,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: isDarkMode ? 'text-white' : 'text-gray-900',\n                  children: [\"\\u20B9\", subtotal.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 853,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 851,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: isDarkMode ? 'text-gray-400' : 'text-gray-600',\n                  children: \"Delivery Fee\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 856,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `${deliveryFee === 0 ? 'text-green-500' : ''} ${isDarkMode ? 'text-white' : 'text-gray-900'}`,\n                  children: deliveryFee === 0 ? 'FREE' : `${deliveryFee.toFixed(2)}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 857,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 855,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: isDarkMode ? 'text-gray-400' : 'text-gray-600',\n                  children: \"Tax (5%)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 862,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: isDarkMode ? 'text-white' : 'text-gray-900',\n                  children: [\"\\u20B9\", tax.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 863,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex justify-between text-base md:text-lg font-bold pt-2 border-t ${isDarkMode ? 'border-gray-700 text-white' : 'border-gray-200 text-gray-900'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 868,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"\\u20B9\", total.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 869,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 865,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 850,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `mt-4 p-3 rounded-lg text-center ${isDarkMode ? 'bg-green-900/20' : 'bg-green-50'}`,\n              children: [/*#__PURE__*/_jsxDEV(FiShield, {\n                className: \"w-5 h-5 mx-auto mb-1 text-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 875,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-green-600 font-medium\",\n                children: \"Your payment information is encrypted and secure\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 876,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 874,\n              columnNumber: 15\n            }, this), paymentMethod === 'card' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `mt-3 p-2 rounded text-center ${isDarkMode ? 'bg-blue-900/20' : 'bg-blue-50'}`,\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-blue-600 font-medium\",\n                children: \"Powered by Razorpay\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 884,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 883,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 812,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 811,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 290,\n    columnNumber: 5\n  }, this);\n};\n_s(Checkout, \"8+DUEbB3GKjGB+UfzhmqTcG4RvE=\", false, function () {\n  return [useDarkMode, useToast, useNavigate];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useState","useContext","useEffect","useNavigate","CartContext","AuthContext","useDarkMode","useToast","FiArrowLeft","FiMapPin","FiCreditCard","FiCheck","FiTruck","FiShield","FiPhone","FiUser","FiEdit","orderService","paymentService","jsxDEV","_jsxDEV","Fragment","_Fragment","Checkout","_s","cart","getCartTotal","clearCart","user","isDarkMode","showSuccess","showError","navigate","currentStep","setCurrentStep","loading","setLoading","stepLoading","setStepLoading","deliveryAddress","setDeliveryAddress","fullName","name","phone","addressLine1","addressLine2","city","state","pincode","landmark","paymentMethod","setPaymentMethod","orderNotes","setOrderNotes","subtotal","reduce","sum","item","_item$product","price","product","quantity","deliveryFee","tax","Math","round","total","length","handleAddressChange","field","value","prev","validateAddress","required","every","trim","validatePhoneNumber","phoneRegex","test","validatePincode","pincodeRegex","handleAddressSubmit","Promise","resolve","setTimeout","handlePaymentMethodSubmit","handlePlaceOrder","orderData","items","map","_item$product2","_item$product3","_id","paymentStatus","response","createOrder","success","Error","error","paymentOrderData","amount","currency","address","paymentResponse","processPayment","razorpayOptions","key","key_id","razorpayOrder","order_id","id","description","image","prefill","email","contact","theme","color","handler","verifyData","razorpayOrderId","razorpay_order_id","razorpayPaymentId","razorpay_payment_id","razorpaySignature","razorpay_signature","verifyResponse","verifyPayment","message","finalOrderData","paymentId","orderResponse","console","modal","ondismiss","window","Razorpay","script","document","createElement","src","onload","rzp","open","onerror","body","appendChild","_error$response","status","_error$response2","_error$response2$data","data","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","style","width","type","onChange","e","target","placeholder","maxLength","checked","rows","toFixed","_item$product4","_item$product5","_item$product6","_item$product7","imageUrl","alt","onError","_c","$RefreshReg$"],"sources":["D:/food_delievery2/frontend/src/assets/pages/Payment/Checkout.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { CartContext } from '../../Context/CartContext';\r\nimport { AuthContext } from '../../Context/AuthContext';\r\nimport { useDarkMode } from '../../Context/DarkModeContext';\r\nimport { useToast } from '../../components/ToastContainer';\r\nimport { FiArrowLeft, FiMapPin, FiCreditCard, FiCheck, FiTruck, FiShield, FiPhone, FiUser, FiEdit } from 'react-icons/fi';\r\nimport orderService from '../../services/orderService';\r\nimport paymentService from '../../services/paymentService';\r\n\r\nconst Checkout = () => {\r\n  const { cart, getCartTotal, clearCart } = useContext(CartContext);\r\n  const { user } = useContext(AuthContext);\r\n  const { isDarkMode } = useDarkMode();\r\n  const { showSuccess, showError } = useToast();\r\n  const navigate = useNavigate();\r\n\r\n  // State for checkout steps\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [stepLoading, setStepLoading] = useState(false);\r\n\r\n  // Address form state\r\n  const [deliveryAddress, setDeliveryAddress] = useState({\r\n    fullName: user?.name || '',\r\n    phone: user?.phone || '',\r\n    addressLine1: '',\r\n    addressLine2: '',\r\n    city: '',\r\n    state: '',\r\n    pincode: '',\r\n    landmark: ''\r\n  });\r\n\r\n  // Payment state\r\n  const [paymentMethod, setPaymentMethod] = useState('card');\r\n  const [orderNotes, setOrderNotes] = useState('');\r\n\r\n  // Pricing calculations\r\n  const subtotal = getCartTotal ? getCartTotal() : cart.reduce((sum, item) => {\r\n    const price = item.product?.price || item.price || 0;\r\n    return sum + (price * (item.quantity || 1));\r\n  }, 0);\r\n  const deliveryFee = subtotal > 299 ? 0 : 49;\r\n  const tax = Math.round(subtotal * 0.05); // 5% tax\r\n  const total = subtotal + deliveryFee + tax;\r\n\r\n  useEffect(() => {\r\n    // Only redirect if cart is empty\r\n    if (!cart || cart.length === 0) {\r\n      navigate('/cart');\r\n      return;\r\n    }\r\n  }, [cart, navigate]);\r\n\r\n  const handleAddressChange = (field, value) => {\r\n    setDeliveryAddress(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const validateAddress = () => {\r\n    const required = ['fullName', 'phone', 'addressLine1', 'city', 'state', 'pincode'];\r\n    return required.every(field => deliveryAddress[field].trim() !== '');\r\n  };\r\n\r\n  const validatePhoneNumber = (phone) => {\r\n    const phoneRegex = /^[6-9]\\d{9}$/;\r\n    return phoneRegex.test(phone);\r\n  };\r\n\r\n  const validatePincode = (pincode) => {\r\n    const pincodeRegex = /^[1-9][0-9]{5}$/;\r\n    return pincodeRegex.test(pincode);\r\n  };\r\n\r\n  const handleAddressSubmit = async () => {\r\n    if (!validateAddress()) {\r\n      showError('Please fill all required address fields');\r\n      return;\r\n    }\r\n\r\n    if (!validatePhoneNumber(deliveryAddress.phone)) {\r\n      showError('Please enter a valid 10-digit phone number');\r\n      return;\r\n    }\r\n\r\n    if (!validatePincode(deliveryAddress.pincode)) {\r\n      showError('Please enter a valid 6-digit PIN code');\r\n      return;\r\n    }\r\n    \r\n    setStepLoading(true);\r\n    // Simulate API call for address validation\r\n    await new Promise(resolve => setTimeout(resolve, 1000));\r\n    setStepLoading(false);\r\n    \r\n    showSuccess('Address validated successfully!');\r\n    setCurrentStep(2);\r\n  };\r\n\r\n  const handlePaymentMethodSubmit = async () => {\r\n    setStepLoading(true);\r\n    await new Promise(resolve => setTimeout(resolve, 500));\r\n    setStepLoading(false);\r\n    \r\n    showSuccess('Payment method selected!');\r\n    setCurrentStep(3);\r\n  };\r\n\r\n  const handlePlaceOrder = async () => {\r\n    if (!validateAddress()) {\r\n      showError('Please fill all required address fields');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      // Prepare order data\r\n      const orderData = {\r\n        items: cart.map(item => ({\r\n          product: item.product?._id || item._id,\r\n          quantity: item.quantity,\r\n          price: item.product?.price || item.price || 0\r\n        })),\r\n        deliveryAddress,\r\n        paymentMethod,\r\n        orderNotes,\r\n        subtotal,\r\n        deliveryFee,\r\n        tax,\r\n        total,\r\n        paymentStatus: paymentMethod === 'cod' ? 'pending' : 'pending'\r\n      };\r\n\r\n      if (paymentMethod === 'cod') {\r\n        // Cash on Delivery - Direct order placement\r\n        const response = await orderService.createOrder(orderData);\r\n        \r\n        if (response && response.success !== false) {\r\n          clearCart();\r\n          showSuccess('Order placed successfully! You can pay cash on delivery.');\r\n          navigate('/orders');\r\n        } else {\r\n          throw new Error(response?.error || 'Failed to place order');\r\n        }\r\n      } else {\r\n        // Online Payment - Razorpay Integration\r\n        const paymentOrderData = {\r\n          amount: total,\r\n          currency: 'INR',\r\n          items: orderData.items,\r\n          address: deliveryAddress,\r\n          total: total\r\n        };\r\n\r\n        // Create Razorpay order\r\n        const paymentResponse = await paymentService.processPayment(paymentOrderData);\r\n        \r\n        if (!paymentResponse.success) {\r\n          throw new Error('Failed to create payment order');\r\n        }\r\n\r\n        // Configure Razorpay options\r\n        const razorpayOptions = {\r\n          key: paymentResponse.key_id || 'rzp_test_RAi5uQX3MTrzfi',\r\n          amount: paymentResponse.razorpayOrder.amount,\r\n          currency: paymentResponse.currency,\r\n          order_id: paymentResponse.razorpayOrder.id,\r\n          name: 'Food Delivery',\r\n          description: `Order for ${cart.length} items`,\r\n          image: '/favicon.ico',\r\n          prefill: {\r\n            name: user?.name || deliveryAddress.fullName,\r\n            email: user?.email || '',\r\n            contact: deliveryAddress.phone\r\n          },\r\n          theme: {\r\n            color: '#F97316'\r\n          },\r\n          handler: async function (response) {\r\n            try {\r\n              // Verify payment\r\n              const verifyData = {\r\n                razorpayOrderId: response.razorpay_order_id,\r\n                razorpayPaymentId: response.razorpay_payment_id,\r\n                razorpaySignature: response.razorpay_signature\r\n              };\r\n\r\n              const verifyResponse = await paymentService.verifyPayment(verifyData);\r\n              \r\n              if (verifyResponse.message === 'Payment verified successfully') {\r\n                const finalOrderData = {\r\n                  ...orderData,\r\n                  paymentStatus: 'completed',\r\n                  paymentId: response.razorpay_payment_id,\r\n                  razorpayOrderId: response.razorpay_order_id\r\n                };\r\n\r\n                const orderResponse = await orderService.createOrder(finalOrderData);\r\n                \r\n                if (orderResponse && orderResponse.success !== false) {\r\n                  clearCart();\r\n                  showSuccess('Payment successful! Order placed successfully.');\r\n                  navigate('/orders');\r\n                } else {\r\n                  throw new Error('Order creation failed after payment');\r\n                }\r\n              } else {\r\n                throw new Error('Payment verification failed');\r\n              }\r\n            } catch (error) {\r\n              console.error('Payment verification error:', error);\r\n              showError('Payment verification failed. Please contact support.');\r\n            } finally {\r\n              setLoading(false);\r\n            }\r\n          },\r\n          modal: {\r\n            ondismiss: function () {\r\n              showError('Payment cancelled. Your order was not placed.');\r\n              setLoading(false);\r\n            }\r\n          }\r\n        };\r\n\r\n        // Initialize Razorpay\r\n        if (!window.Razorpay) {\r\n          const script = document.createElement('script');\r\n          script.src = 'https://checkout.razorpay.com/v1/checkout.js';\r\n          script.onload = () => {\r\n            const rzp = new window.Razorpay(razorpayOptions);\r\n            rzp.open();\r\n          };\r\n          script.onerror = () => {\r\n            showError('Failed to load payment gateway. Please try again.');\r\n            setLoading(false);\r\n          };\r\n          document.body.appendChild(script);\r\n        } else {\r\n          const rzp = new window.Razorpay(razorpayOptions);\r\n          rzp.open();\r\n        }\r\n        \r\n        return;\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Order placement error:', error);\r\n      if (error.response?.status === 401) {\r\n        showError('Your session has expired. Please login again.');\r\n        navigate('/login');\r\n      } else {\r\n        showError(error.response?.data?.error || error.message || 'Failed to place order');\r\n      }\r\n    } finally {\r\n      if (paymentMethod === 'cod') {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  // If cart is empty, redirect\r\n  if (!cart || cart.length === 0) {\r\n    return (\r\n      <div className={`min-h-screen flex items-center justify-center ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n        <div className=\"text-center max-w-md mx-auto p-8\">\r\n          <div className={`w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center ${isDarkMode ? 'bg-gray-800' : 'bg-gray-200'}`}>\r\n            <FiTruck size={32} className={isDarkMode ? 'text-gray-400' : 'text-gray-600'} />\r\n          </div>\r\n          <h2 className={`text-2xl font-bold mb-4 ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\r\n            Your cart is empty\r\n          </h2>\r\n          <p className={`mb-6 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\r\n            Add some items to your cart to proceed with checkout\r\n          </p>\r\n          <button \r\n            onClick={() => navigate('/products')}\r\n            className=\"px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg hover:from-orange-600 hover:to-red-600 transition-all font-semibold shadow-lg\"\r\n          >\r\n            Browse Products\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`min-h-screen ${isDarkMode ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <button\r\n            onClick={() => navigate('/cart')}\r\n            className={`flex items-center mb-4 transition-colors ${\r\n              isDarkMode ? 'text-gray-400 hover:text-gray-200' : 'text-gray-600 hover:text-gray-800'\r\n            }`}\r\n          >\r\n            <FiArrowLeft className=\"mr-2\" />\r\n            Back to Cart\r\n          </button>\r\n          <h1 className={`text-2xl md:text-3xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\r\n            Secure Checkout\r\n          </h1>\r\n          <p className={`text-sm mt-1 ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\r\n            Step {currentStep} of 3  Powered by Razorpay\r\n          </p>\r\n        </div>\r\n\r\n        {/* Mobile-friendly Progress Bar */}\r\n        <div className={`mb-8 p-4 md:p-6 rounded-xl ${isDarkMode ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-200'} shadow-sm`}>\r\n          <div className=\"flex items-center justify-between\">\r\n            {/* Step 1 */}\r\n            <div className=\"flex items-center\">\r\n              <button\r\n                onClick={() => currentStep > 1 && setCurrentStep(1)}\r\n                disabled={currentStep === 1}\r\n                className={`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${\r\n                  currentStep >= 1 \r\n                    ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' \r\n                    : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'\r\n                } ${currentStep > 1 ? 'cursor-pointer hover:shadow-xl' : ''}`}\r\n              >\r\n                {currentStep > 1 ? <FiCheck size={14} /> : '1'}\r\n              </button>\r\n              <div className=\"hidden sm:block\">\r\n                <p className={`font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Address</p>\r\n                <p className={`text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Delivery details</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Progress Line */}\r\n            <div className={`flex-1 mx-2 md:mx-4 h-1 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`}>\r\n              <div \r\n                className={`h-1 rounded-full transition-all duration-500 ${\r\n                  currentStep >= 2 ? 'bg-green-500' : 'bg-transparent'\r\n                }`} \r\n                style={{ width: currentStep >= 2 ? '100%' : '0%' }}\r\n              />\r\n            </div>\r\n\r\n            {/* Step 2 */}\r\n            <div className=\"flex items-center\">\r\n              <button\r\n                onClick={() => currentStep > 2 && setCurrentStep(2)}\r\n                disabled={currentStep <= 1}\r\n                className={`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${\r\n                  currentStep >= 2 \r\n                    ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' \r\n                    : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'\r\n                } ${currentStep > 2 ? 'cursor-pointer hover:shadow-xl' : ''}`}\r\n              >\r\n                {currentStep > 2 ? <FiCheck size={14} /> : '2'}\r\n              </button>\r\n              <div className=\"hidden sm:block\">\r\n                <p className={`font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Payment</p>\r\n                <p className={`text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Choose method</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Progress Line */}\r\n            <div className={`flex-1 mx-2 md:mx-4 h-1 rounded-full ${isDarkMode ? 'bg-gray-700' : 'bg-gray-200'}`}>\r\n              <div \r\n                className={`h-1 rounded-full transition-all duration-500 ${\r\n                  currentStep >= 3 ? 'bg-green-500' : 'bg-transparent'\r\n                }`} \r\n                style={{ width: currentStep >= 3 ? '100%' : '0%' }}\r\n              />\r\n            </div>\r\n\r\n            {/* Step 3 */}\r\n            <div className=\"flex items-center\">\r\n              <div className={`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-bold mr-2 md:mr-3 transition-all ${\r\n                currentStep >= 3 \r\n                  ? 'bg-green-500 text-white shadow-lg shadow-green-500/25' \r\n                  : isDarkMode ? 'bg-gray-700 text-gray-400' : 'bg-gray-200 text-gray-600'\r\n              }`}>\r\n                3\r\n              </div>\r\n              <div className=\"hidden sm:block\">\r\n                <p className={`font-semibold text-sm md:text-base ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>Review</p>\r\n                <p className={`text-xs md:text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>Place order</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8\">\r\n          {/* Left Column - Step Forms */}\r\n          <div className=\"lg:col-span-2\">\r\n            \r\n            {/* Step 1: Delivery Address */}\r\n            {currentStep === 1 && (\r\n              <div className={`rounded-xl shadow-lg p-4 md:p-6 border transition-all ${\r\n                isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'\r\n              }`}>\r\n                <div className=\"flex items-center mb-6\">\r\n                  <FiMapPin className=\"w-5 h-5 md:w-6 md:h-6 mr-3 text-orange-500\" />\r\n                  <h2 className={`text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\r\n                    Delivery Address\r\n                  </h2>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n                  <div>\r\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                      Full Name *\r\n                    </label>\r\n                    <div className=\"relative\">\r\n                      <FiUser className={`absolute left-3 top-3.5 w-4 h-4 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`} />\r\n                      <input\r\n                        type=\"text\"\r\n                        value={deliveryAddress.fullName}\r\n                        onChange={(e) => handleAddressChange('fullName', e.target.value)}\r\n                        className={`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\r\n                          isDarkMode \r\n                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                            : 'bg-white border-gray-300 text-gray-900'\r\n                        }`}\r\n                        placeholder=\"Enter your full name\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                      Phone Number *\r\n                    </label>\r\n                    <div className=\"relative\">\r\n                      <FiPhone className={`absolute left-3 top-3.5 w-4 h-4 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`} />\r\n                      <input\r\n                        type=\"tel\"\r\n                        value={deliveryAddress.phone}\r\n                        onChange={(e) => handleAddressChange('phone', e.target.value)}\r\n                        className={`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\r\n                          isDarkMode \r\n                            ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                            : 'bg-white border-gray-300 text-gray-900'\r\n                        }`}\r\n                        placeholder=\"Enter 10-digit phone number\"\r\n                        maxLength=\"10\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"md:col-span-2\">\r\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                      Address Line 1 *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={deliveryAddress.addressLine1}\r\n                      onChange={(e) => handleAddressChange('addressLine1', e.target.value)}\r\n                      placeholder=\"House/Flat No., Street Name\"\r\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\r\n                        isDarkMode \r\n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                          : 'bg-white border-gray-300 text-gray-900'\r\n                      }`}\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"md:col-span-2\">\r\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                      Address Line 2 (Optional)\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={deliveryAddress.addressLine2}\r\n                      onChange={(e) => handleAddressChange('addressLine2', e.target.value)}\r\n                      placeholder=\"Apartment, Floor, Building (Optional)\"\r\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\r\n                        isDarkMode \r\n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                          : 'bg-white border-gray-300 text-gray-900'\r\n                      }`}\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                      City *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={deliveryAddress.city}\r\n                      onChange={(e) => handleAddressChange('city', e.target.value)}\r\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\r\n                        isDarkMode \r\n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                          : 'bg-white border-gray-300 text-gray-900'\r\n                      }`}\r\n                      placeholder=\"Enter city\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                      State *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={deliveryAddress.state}\r\n                      onChange={(e) => handleAddressChange('state', e.target.value)}\r\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\r\n                        isDarkMode \r\n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                          : 'bg-white border-gray-300 text-gray-900'\r\n                      }`}\r\n                      placeholder=\"Enter state\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                      PIN Code *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={deliveryAddress.pincode}\r\n                      onChange={(e) => handleAddressChange('pincode', e.target.value)}\r\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\r\n                        isDarkMode \r\n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                          : 'bg-white border-gray-300 text-gray-900'\r\n                      }`}\r\n                      placeholder=\"Enter 6-digit PIN code\"\r\n                      maxLength=\"6\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                      Landmark (Optional)\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={deliveryAddress.landmark}\r\n                      onChange={(e) => handleAddressChange('landmark', e.target.value)}\r\n                      placeholder=\"Near bus stop, mall, etc.\"\r\n                      className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\r\n                        isDarkMode \r\n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                          : 'bg-white border-gray-300 text-gray-900'\r\n                      }`}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <button\r\n                  onClick={handleAddressSubmit}\r\n                  disabled={!validateAddress() || stepLoading}\r\n                  className={`w-full py-3 md:py-4 px-6 rounded-xl font-semibold text-white transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${\r\n                    isDarkMode\r\n                      ? 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg shadow-orange-500/25'\r\n                      : 'bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-lg hover:shadow-xl'\r\n                  }`}\r\n                >\r\n                  {stepLoading ? (\r\n                    <div className=\"flex items-center justify-center\">\r\n                      <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\r\n                      Validating Address...\r\n                    </div>\r\n                  ) : (\r\n                    <>\r\n                      Continue to Payment\r\n                      <FiArrowLeft className=\"ml-2 rotate-180 w-4 h-4 inline\" />\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {/* Step 2: Payment Method */}\r\n            {currentStep === 2 && (\r\n              <div className={`rounded-xl shadow-lg p-4 md:p-6 border transition-all ${\r\n                isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'\r\n              }`}>\r\n                <div className=\"flex items-center mb-6\">\r\n                  <FiCreditCard className=\"w-5 h-5 md:w-6 md:h-6 mr-3 text-green-500\" />\r\n                  <h2 className={`text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\r\n                    Payment Method\r\n                  </h2>\r\n                </div>\r\n\r\n                <div className=\"space-y-4 mb-6\">\r\n                  {/* Online Payment */}\r\n                  <div \r\n                    className={`p-4 border-2 rounded-xl cursor-pointer transition-all ${\r\n                      paymentMethod === 'card' \r\n                        ? 'border-green-500 bg-green-50 dark:bg-green-900/20' \r\n                        : isDarkMode ? 'border-gray-700 bg-gray-700/50' : 'border-gray-200 bg-gray-50'\r\n                    }`} \r\n                    onClick={() => setPaymentMethod('card')}\r\n                  >\r\n                    <div className=\"flex items-center\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"paymentMethod\"\r\n                        value=\"card\"\r\n                        checked={paymentMethod === 'card'}\r\n                        onChange={() => setPaymentMethod('card')}\r\n                        className=\"mr-3 text-green-500\"\r\n                      />\r\n                      <div className=\"flex-1\">\r\n                        <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                          Online Payment (Recommended)\r\n                        </h3>\r\n                        <p className={`text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\r\n                          Pay securely with UPI, Cards, Net Banking & Wallets\r\n                        </p>\r\n                        <div className=\"flex items-center mt-2 space-x-2\">\r\n                          <span className=\"text-xs px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded\">Secure</span>\r\n                          <span className=\"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded\">Instant</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Cash on Delivery */}\r\n                  <div \r\n                    className={`p-4 border-2 rounded-xl cursor-pointer transition-all ${\r\n                      paymentMethod === 'cod' \r\n                        ? 'border-green-500 bg-green-50 dark:bg-green-900/20' \r\n                        : isDarkMode ? 'border-gray-700 bg-gray-700/50' : 'border-gray-200 bg-gray-50'\r\n                    }`} \r\n                    onClick={() => setPaymentMethod('cod')}\r\n                  >\r\n                    <div className=\"flex items-center\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"paymentMethod\"\r\n                        value=\"cod\"\r\n                        checked={paymentMethod === 'cod'}\r\n                        onChange={() => setPaymentMethod('cod')}\r\n                        className=\"mr-3 text-green-500\"\r\n                      />\r\n                      <div className=\"flex-1\">\r\n                        <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                          Cash on Delivery\r\n                        </h3>\r\n                        <p className={`text-sm ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\r\n                          Pay with cash when your order arrives\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                  <button\r\n                    onClick={() => setCurrentStep(1)}\r\n                    className={`px-6 py-3 rounded-xl font-medium transition-all ${\r\n                      isDarkMode \r\n                        ? 'bg-gray-700 text-gray-300 hover:bg-gray-600' \r\n                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n                    }`}\r\n                  >\r\n                     Back to Address\r\n                  </button>\r\n                  <button\r\n                    onClick={handlePaymentMethodSubmit}\r\n                    disabled={stepLoading}\r\n                    className={`flex-1 py-3 px-6 rounded-xl font-semibold text-white transition-all disabled:opacity-50 ${\r\n                      isDarkMode\r\n                        ? 'bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 shadow-lg shadow-green-500/25'\r\n                        : 'bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 shadow-lg hover:shadow-xl'\r\n                    }`}\r\n                  >\r\n                    {stepLoading ? (\r\n                      <div className=\"flex items-center justify-center\">\r\n                        <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\r\n                        Processing...\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        Continue to Review\r\n                        <FiArrowLeft className=\"ml-2 rotate-180 w-4 h-4 inline\" />\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Step 3: Order Review and Notes */}\r\n            {currentStep === 3 && (\r\n              <div className={`rounded-xl shadow-lg p-4 md:p-6 border transition-all ${\r\n                isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'\r\n              }`}>\r\n                <div className=\"flex items-center mb-6\">\r\n                  <FiCheck className=\"w-5 h-5 md:w-6 md:h-6 mr-3 text-purple-500\" />\r\n                  <h2 className={`text-lg md:text-xl font-bold ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\r\n                    Review Your Order\r\n                  </h2>\r\n                </div>\r\n\r\n                {/* Order Summary Cards */}\r\n                <div className=\"space-y-4 mb-6\">\r\n                  {/* Delivery Address Card */}\r\n                  <div className={`p-4 rounded-lg ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                        Delivery Address\r\n                      </h3>\r\n                      <button\r\n                        onClick={() => setCurrentStep(1)}\r\n                        className={`text-sm text-orange-500 hover:text-orange-600 flex items-center ${\r\n                          isDarkMode ? 'hover:text-orange-400' : ''\r\n                        }`}\r\n                      >\r\n                        <FiEdit className=\"w-4 h-4 mr-1\" />\r\n                        Edit\r\n                      </button>\r\n                    </div>\r\n                    <div className={`text-sm ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                      <p className=\"font-medium\">{deliveryAddress.fullName}</p>\r\n                      <p>{deliveryAddress.phone}</p>\r\n                      <p>{deliveryAddress.addressLine1}</p>\r\n                      {deliveryAddress.addressLine2 && <p>{deliveryAddress.addressLine2}</p>}\r\n                      <p>{deliveryAddress.city}, {deliveryAddress.state} - {deliveryAddress.pincode}</p>\r\n                      {deliveryAddress.landmark && <p>Landmark: {deliveryAddress.landmark}</p>}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Payment Method Card */}\r\n                  <div className={`p-4 rounded-lg ${isDarkMode ? 'bg-gray-700' : 'bg-gray-50'}`}>\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <h3 className={`font-semibold ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                        Payment Method\r\n                      </h3>\r\n                      <button\r\n                        onClick={() => setCurrentStep(2)}\r\n                        className={`text-sm text-orange-500 hover:text-orange-600 flex items-center ${\r\n                          isDarkMode ? 'hover:text-orange-400' : ''\r\n                        }`}\r\n                      >\r\n                        <FiEdit className=\"w-4 h-4 mr-1\" />\r\n                        Edit\r\n                      </button>\r\n                    </div>\r\n                    <p className={`text-sm ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                      {paymentMethod === 'cod' ? ' Cash on Delivery' : ' Online Payment (Razorpay)'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Order Notes */}\r\n                <div className=\"mb-6\">\r\n                  <label className={`block text-sm font-medium mb-2 ${isDarkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                    Order Notes (Optional)\r\n                  </label>\r\n                  <textarea\r\n                    value={orderNotes}\r\n                    onChange={(e) => setOrderNotes(e.target.value)}\r\n                    placeholder=\"Any special instructions for your order...\"\r\n                    className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all ${\r\n                      isDarkMode \r\n                        ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                        : 'bg-white border-gray-300 text-gray-900'\r\n                    }`}\r\n                    rows=\"3\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                  <button\r\n                    onClick={() => setCurrentStep(2)}\r\n                    className={`px-6 py-3 rounded-xl font-medium transition-all ${\r\n                      isDarkMode \r\n                        ? 'bg-gray-700 text-gray-300 hover:bg-gray-600' \r\n                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n                    }`}\r\n                  >\r\n                     Back to Payment\r\n                  </button>\r\n                  <button\r\n                    onClick={handlePlaceOrder}\r\n                    disabled={loading}\r\n                    className={`flex-1 py-3 md:py-4 px-6 rounded-xl font-bold text-white transition-all disabled:opacity-50 ${\r\n                      isDarkMode\r\n                        ? 'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-lg shadow-blue-500/25'\r\n                        : 'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-lg hover:shadow-xl'\r\n                    }`}\r\n                  >\r\n                    {loading ? (\r\n                      <div className=\"flex items-center justify-center\">\r\n                        <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\r\n                        Placing Order...\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        <FiShield className=\"w-5 h-5 mr-2 inline\" />\r\n                        Place Order - {total.toFixed(2)}\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Right Column - Order Summary (Sticky Sidebar) */}\r\n          <div className=\"lg:col-span-1\">\r\n            <div className={`rounded-xl shadow-lg p-4 md:p-6 border sticky top-4 ${\r\n              isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-100'\r\n            }`}>\r\n              <h3 className={`text-lg md:text-xl font-bold mb-4 ${isDarkMode ? 'text-white' : 'text-gray-800'}`}>\r\n                Order Summary\r\n              </h3>\r\n              \r\n              {/* Cart Items */}\r\n              <div className=\"space-y-3 mb-4 max-h-60 overflow-y-auto\">\r\n                {cart.map((item) => (\r\n                  <div key={item._id} className=\"flex justify-between items-start\">\r\n                    <div className=\"flex items-center flex-1 mr-3\">\r\n                      <div className={`w-10 h-10 md:w-12 md:h-12 rounded-lg border ${isDarkMode ? 'border-gray-600' : 'border-gray-200'} mr-2 md:mr-3 overflow-hidden flex-shrink-0`}>\r\n                        <img\r\n                          src={item.product?.imageUrl || item.imageUrl || item.image || '/favicon.ico'}\r\n                          alt={item.product?.name || item.name}\r\n                          className=\"w-full h-full object-cover\"\r\n                          onError={(e) => {\r\n                            e.target.src = '/favicon.ico';\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className={`font-medium text-sm ${isDarkMode ? 'text-white' : 'text-gray-900'} truncate`}>\r\n                          {item.product?.name || item.name}\r\n                        </p>\r\n                        <p className={`text-xs ${isDarkMode ? 'text-gray-400' : 'text-gray-600'}`}>\r\n                          Qty: {item.quantity || 1}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                    <p className={`font-semibold text-sm ${isDarkMode ? 'text-white' : 'text-gray-900'} flex-shrink-0`}>\r\n                      {((item.product?.price || item.price || 0) * (item.quantity || 1)).toFixed(2)}\r\n                    </p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              <div className={`border-t pt-4 space-y-2 ${isDarkMode ? 'border-gray-700' : 'border-gray-200'}`}>\r\n                <div className=\"flex justify-between\">\r\n                  <span className={isDarkMode ? 'text-gray-400' : 'text-gray-600'}>Subtotal</span>\r\n                  <span className={isDarkMode ? 'text-white' : 'text-gray-900'}>{subtotal.toFixed(2)}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className={isDarkMode ? 'text-gray-400' : 'text-gray-600'}>Delivery Fee</span>\r\n                  <span className={`${deliveryFee === 0 ? 'text-green-500' : ''} ${isDarkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                    {deliveryFee === 0 ? 'FREE' : `${deliveryFee.toFixed(2)}`}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className={isDarkMode ? 'text-gray-400' : 'text-gray-600'}>Tax (5%)</span>\r\n                  <span className={isDarkMode ? 'text-white' : 'text-gray-900'}>{tax.toFixed(2)}</span>\r\n                </div>\r\n                <div className={`flex justify-between text-base md:text-lg font-bold pt-2 border-t ${\r\n                  isDarkMode ? 'border-gray-700 text-white' : 'border-gray-200 text-gray-900'\r\n                }`}>\r\n                  <span>Total</span>\r\n                  <span>{total.toFixed(2)}</span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Security Badge */}\r\n              <div className={`mt-4 p-3 rounded-lg text-center ${isDarkMode ? 'bg-green-900/20' : 'bg-green-50'}`}>\r\n                <FiShield className=\"w-5 h-5 mx-auto mb-1 text-green-500\" />\r\n                <p className=\"text-xs text-green-600 font-medium\">\r\n                  Your payment information is encrypted and secure\r\n                </p>\r\n              </div>\r\n\r\n              {/* Razorpay Branding */}\r\n              {paymentMethod === 'card' && (\r\n                <div className={`mt-3 p-2 rounded text-center ${isDarkMode ? 'bg-blue-900/20' : 'bg-blue-50'}`}>\r\n                  <p className=\"text-xs text-blue-600 font-medium\">\r\n                    Powered by Razorpay\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}