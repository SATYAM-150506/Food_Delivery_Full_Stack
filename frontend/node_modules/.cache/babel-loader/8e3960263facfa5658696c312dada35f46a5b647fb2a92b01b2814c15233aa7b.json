{"ast":null,"code":"import _objectSpread from\"D:/food_delievery2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useState,useEffect,useContext}from'react';import{AuthContext}from'./AuthContext';import cartService from'../services/cartService';import{jsx as _jsx}from\"react/jsx-runtime\";export const CartContext=/*#__PURE__*/createContext();export const CartProvider=_ref=>{let{children}=_ref;const[cart,setCart]=useState([]);const[loading,setLoading]=useState(false);const{user,isAuthenticated}=useContext(AuthContext);useEffect(()=>{fetchCart();},[user,isAuthenticated]);// eslint-disable-line react-hooks/exhaustive-deps\nconst fetchCart=async()=>{setLoading(true);try{if(isAuthenticated&&user){console.log('ðŸ”„ Loading cart from backend for user:',user._id);// For authenticated users, fetch from backend\nconst cartData=await cartService.getCart();// Check for guest cart to merge\nconst guestCartKey='guestCart';const localGuestCart=JSON.parse(localStorage.getItem(guestCartKey)||'[]');if(localGuestCart.length>0){console.log('ðŸ”„ Merging guest cart with user cart...');// Merge guest cart with backend cart\nconst mergedCart=mergeGuestCartWithBackend(localGuestCart,cartData.items||[]);// Save merged cart to backend\nawait cartService.updateCart(mergedCart);setCart(mergedCart);// Clear guest cart after merging\nlocalStorage.removeItem(guestCartKey);console.log('âœ… Guest cart merged and saved to backend');}else{var _cartData$items;setCart(cartData.items||[]);console.log('âœ… User cart loaded from backend:',((_cartData$items=cartData.items)===null||_cartData$items===void 0?void 0:_cartData$items.length)||0,'items');}}else{console.log('ðŸ”„ Loading guest cart from localStorage');// For guests, load from localStorage with user-specific key\nconst guestCartKey='guestCart';const localCart=JSON.parse(localStorage.getItem(guestCartKey)||'[]');setCart(localCart);console.log('âœ… Guest cart loaded:',localCart.length,'items');}}catch(error){console.error('âŒ Failed to fetch cart:',error);// Fallback to localStorage\nconst fallbackKey=isAuthenticated&&user?\"userCart_\".concat(user._id):'guestCart';const localCart=JSON.parse(localStorage.getItem(fallbackKey)||'[]');setCart(localCart);console.log('âš ï¸ Using fallback cart from localStorage');}finally{setLoading(false);}};const mergeGuestCartWithBackend=(guestCart,backendCart)=>{const mergedCart=[...backendCart];guestCart.forEach(guestItem=>{const existingIndex=mergedCart.findIndex(backendItem=>{var _backendItem$product;return((_backendItem$product=backendItem.product)===null||_backendItem$product===void 0?void 0:_backendItem$product._id)===guestItem._id||backendItem._id===guestItem._id;});if(existingIndex>-1){// Item exists, add quantities\nmergedCart[existingIndex].quantity+=guestItem.quantity;}else{// New item, add to cart\nmergedCart.push({product:guestItem,quantity:guestItem.quantity,_id:guestItem._id});}});return mergedCart;};const saveToLocalStorage=cartData=>{const cartKey=isAuthenticated&&user?\"userCart_\".concat(user._id):'guestCart';localStorage.setItem(cartKey,JSON.stringify(cartData));console.log('ðŸ’¾ Cart saved to localStorage with key:',cartKey);};const addToCart=async function(product){let quantity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;try{console.log('ðŸ›’ Adding to cart:',product.name,'x',quantity);if(isAuthenticated&&user){// For authenticated users, use backend\nconst updatedCart=await cartService.addToCart(product._id,quantity);setCart(updatedCart.items||updatedCart);console.log('âœ… Added to backend cart');}else{// For guests, use localStorage\nconst currentCart=[...cart];const existingItemIndex=currentCart.findIndex(item=>{var _item$product;const itemId=((_item$product=item.product)===null||_item$product===void 0?void 0:_item$product._id)||item._id;return itemId===product._id;});if(existingItemIndex>-1){currentCart[existingItemIndex].quantity+=quantity;}else{currentCart.push({product:product,quantity,_id:product._id});}setCart(currentCart);saveToLocalStorage(currentCart);console.log('âœ… Added to guest cart');}}catch(error){console.error('âŒ Failed to add to cart:',error);// Fallback to localStorage even for authenticated users if backend fails\nconst currentCart=[...cart];const existingItemIndex=currentCart.findIndex(item=>{var _item$product2;const itemId=((_item$product2=item.product)===null||_item$product2===void 0?void 0:_item$product2._id)||item._id;return itemId===product._id;});if(existingItemIndex>-1){currentCart[existingItemIndex].quantity+=quantity;}else{currentCart.push({product:product,quantity,_id:product._id});}setCart(currentCart);saveToLocalStorage(currentCart);console.log('âš ï¸ Added to fallback cart');}};const updateQuantity=async(productId,quantity)=>{try{console.log('ðŸ”„ Updating quantity:',productId,'to',quantity);if(isAuthenticated&&user){// For authenticated users, use backend\nconst updatedCart=await cartService.updateCartItem(productId,quantity);setCart(updatedCart.items||updatedCart);console.log('âœ… Quantity updated in backend');}else{// For guests, use localStorage\nconst currentCart=cart.map(item=>{var _item$product3;const itemId=((_item$product3=item.product)===null||_item$product3===void 0?void 0:_item$product3._id)||item._id;return itemId===productId?_objectSpread(_objectSpread({},item),{},{quantity}):item;}).filter(item=>item.quantity>0);setCart(currentCart);saveToLocalStorage(currentCart);console.log('âœ… Quantity updated in guest cart');}}catch(error){console.error('âŒ Failed to update quantity:',error);// Fallback to localStorage\nconst currentCart=cart.map(item=>{var _item$product4;const itemId=((_item$product4=item.product)===null||_item$product4===void 0?void 0:_item$product4._id)||item._id;return itemId===productId?_objectSpread(_objectSpread({},item),{},{quantity}):item;}).filter(item=>item.quantity>0);setCart(currentCart);saveToLocalStorage(currentCart);console.log('âš ï¸ Quantity updated in fallback cart');}};const removeFromCart=async productId=>{try{console.log('ðŸ—‘ï¸ Removing from cart:',productId);if(isAuthenticated&&user){// For authenticated users, use backend\nconst updatedCart=await cartService.removeFromCart(productId);setCart(updatedCart.items||updatedCart);console.log('âœ… Removed from backend cart');}else{// For guests, use localStorage\nconst currentCart=cart.filter(item=>{var _item$product5;const itemId=((_item$product5=item.product)===null||_item$product5===void 0?void 0:_item$product5._id)||item._id;return itemId!==productId;});setCart(currentCart);saveToLocalStorage(currentCart);console.log('âœ… Removed from guest cart');}}catch(error){console.error('âŒ Failed to remove from cart:',error);// Fallback to localStorage\nconst currentCart=cart.filter(item=>{var _item$product6;const itemId=((_item$product6=item.product)===null||_item$product6===void 0?void 0:_item$product6._id)||item._id;return itemId!==productId;});setCart(currentCart);saveToLocalStorage(currentCart);console.log('âš ï¸ Removed from fallback cart');}};const clearCart=async()=>{try{console.log('ðŸ§¹ Clearing cart...');if(isAuthenticated&&user){await cartService.clearCart();console.log('âœ… Backend cart cleared');}setCart([]);// Clear all possible cart keys\nlocalStorage.removeItem('guestCart');if(user){localStorage.removeItem(\"userCart_\".concat(user._id));}console.log('âœ… All carts cleared');}catch(error){console.error('âŒ Failed to clear cart:',error);setCart([]);localStorage.removeItem('guestCart');if(user){localStorage.removeItem(\"userCart_\".concat(user._id));}console.log('âš ï¸ Fallback cart clear completed');}};const getCartTotal=()=>{return cart.reduce((total,item)=>{var _item$product7;const price=((_item$product7=item.product)===null||_item$product7===void 0?void 0:_item$product7.price)||item.price;return total+price*item.quantity;},0);};const getCartItemsCount=()=>{return cart.reduce((total,item)=>total+item.quantity,0);};// Additional methods for better cart management\nconst updateCartItemQuantity=async(productId,quantity)=>{if(quantity<=0){await removeFromCart(productId);}else{await updateQuantity(productId,quantity);}};const getCartItem=productId=>{return cart.find(item=>{var _item$product8;const itemId=((_item$product8=item.product)===null||_item$product8===void 0?void 0:_item$product8._id)||item._id;return itemId===productId;});};const isInCart=productId=>{return cart.some(item=>{var _item$product9;const itemId=((_item$product9=item.product)===null||_item$product9===void 0?void 0:_item$product9._id)||item._id;return itemId===productId;});};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart,cartItems:cart,// For backward compatibility\nloading,addToCart,updateQuantity,updateCartItemQuantity,removeFromCart,clearCart,fetchCart,getCartTotal,getCartItemsCount,getCartItem,isInCart,cartTotal:getCartTotal(),cartCount:getCartItemsCount()},children:children});};","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","AuthContext","cartService","jsx","_jsx","CartContext","CartProvider","_ref","children","cart","setCart","loading","setLoading","user","isAuthenticated","fetchCart","console","log","_id","cartData","getCart","guestCartKey","localGuestCart","JSON","parse","localStorage","getItem","length","mergedCart","mergeGuestCartWithBackend","items","updateCart","removeItem","_cartData$items","localCart","error","fallbackKey","concat","guestCart","backendCart","forEach","guestItem","existingIndex","findIndex","backendItem","_backendItem$product","product","quantity","push","saveToLocalStorage","cartKey","setItem","stringify","addToCart","arguments","undefined","name","updatedCart","currentCart","existingItemIndex","item","_item$product","itemId","_item$product2","updateQuantity","productId","updateCartItem","map","_item$product3","_objectSpread","filter","_item$product4","removeFromCart","_item$product5","_item$product6","clearCart","getCartTotal","reduce","total","_item$product7","price","getCartItemsCount","updateCartItemQuantity","getCartItem","find","_item$product8","isInCart","some","_item$product9","Provider","value","cartItems","cartTotal","cartCount"],"sources":["D:/food_delievery2/frontend/src/assets/Context/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from './AuthContext';\r\nimport cartService from '../services/cartService';\r\n\r\nexport const CartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [cart, setCart] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const { user, isAuthenticated } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    fetchCart();\r\n  }, [user, isAuthenticated]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const fetchCart = async () => {\r\n    setLoading(true);\r\n    try {\r\n      if (isAuthenticated && user) {\r\n        console.log('ðŸ”„ Loading cart from backend for user:', user._id);\r\n        // For authenticated users, fetch from backend\r\n        const cartData = await cartService.getCart();\r\n        \r\n        // Check for guest cart to merge\r\n        const guestCartKey = 'guestCart';\r\n        const localGuestCart = JSON.parse(localStorage.getItem(guestCartKey) || '[]');\r\n        \r\n        if (localGuestCart.length > 0) {\r\n          console.log('ðŸ”„ Merging guest cart with user cart...');\r\n          // Merge guest cart with backend cart\r\n          const mergedCart = mergeGuestCartWithBackend(localGuestCart, cartData.items || []);\r\n          \r\n          // Save merged cart to backend\r\n          await cartService.updateCart(mergedCart);\r\n          setCart(mergedCart);\r\n          \r\n          // Clear guest cart after merging\r\n          localStorage.removeItem(guestCartKey);\r\n          console.log('âœ… Guest cart merged and saved to backend');\r\n        } else {\r\n          setCart(cartData.items || []);\r\n          console.log('âœ… User cart loaded from backend:', cartData.items?.length || 0, 'items');\r\n        }\r\n      } else {\r\n        console.log('ðŸ”„ Loading guest cart from localStorage');\r\n        // For guests, load from localStorage with user-specific key\r\n        const guestCartKey = 'guestCart';\r\n        const localCart = JSON.parse(localStorage.getItem(guestCartKey) || '[]');\r\n        setCart(localCart);\r\n        console.log('âœ… Guest cart loaded:', localCart.length, 'items');\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Failed to fetch cart:', error);\r\n      // Fallback to localStorage\r\n      const fallbackKey = isAuthenticated && user ? `userCart_${user._id}` : 'guestCart';\r\n      const localCart = JSON.parse(localStorage.getItem(fallbackKey) || '[]');\r\n      setCart(localCart);\r\n      console.log('âš ï¸ Using fallback cart from localStorage');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const mergeGuestCartWithBackend = (guestCart, backendCart) => {\r\n    const mergedCart = [...backendCart];\r\n    \r\n    guestCart.forEach(guestItem => {\r\n      const existingIndex = mergedCart.findIndex(\r\n        backendItem => backendItem.product?._id === guestItem._id || backendItem._id === guestItem._id\r\n      );\r\n      \r\n      if (existingIndex > -1) {\r\n        // Item exists, add quantities\r\n        mergedCart[existingIndex].quantity += guestItem.quantity;\r\n      } else {\r\n        // New item, add to cart\r\n        mergedCart.push({\r\n          product: guestItem,\r\n          quantity: guestItem.quantity,\r\n          _id: guestItem._id\r\n        });\r\n      }\r\n    });\r\n    \r\n    return mergedCart;\r\n  };\r\n\r\n  const saveToLocalStorage = (cartData) => {\r\n    const cartKey = isAuthenticated && user ? `userCart_${user._id}` : 'guestCart';\r\n    localStorage.setItem(cartKey, JSON.stringify(cartData));\r\n    console.log('ðŸ’¾ Cart saved to localStorage with key:', cartKey);\r\n  };\r\n\r\n  const addToCart = async (product, quantity = 1) => {\r\n    try {\r\n      console.log('ðŸ›’ Adding to cart:', product.name, 'x', quantity);\r\n      \r\n      if (isAuthenticated && user) {\r\n        // For authenticated users, use backend\r\n        const updatedCart = await cartService.addToCart(product._id, quantity);\r\n        setCart(updatedCart.items || updatedCart);\r\n        console.log('âœ… Added to backend cart');\r\n      } else {\r\n        // For guests, use localStorage\r\n        const currentCart = [...cart];\r\n        const existingItemIndex = currentCart.findIndex(item => {\r\n          const itemId = item.product?._id || item._id;\r\n          return itemId === product._id;\r\n        });\r\n        \r\n        if (existingItemIndex > -1) {\r\n          currentCart[existingItemIndex].quantity += quantity;\r\n        } else {\r\n          currentCart.push({ \r\n            product: product, \r\n            quantity,\r\n            _id: product._id \r\n          });\r\n        }\r\n        \r\n        setCart(currentCart);\r\n        saveToLocalStorage(currentCart);\r\n        console.log('âœ… Added to guest cart');\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Failed to add to cart:', error);\r\n      // Fallback to localStorage even for authenticated users if backend fails\r\n      const currentCart = [...cart];\r\n      const existingItemIndex = currentCart.findIndex(item => {\r\n        const itemId = item.product?._id || item._id;\r\n        return itemId === product._id;\r\n      });\r\n      \r\n      if (existingItemIndex > -1) {\r\n        currentCart[existingItemIndex].quantity += quantity;\r\n      } else {\r\n        currentCart.push({ \r\n          product: product, \r\n          quantity,\r\n          _id: product._id \r\n        });\r\n      }\r\n      \r\n      setCart(currentCart);\r\n      saveToLocalStorage(currentCart);\r\n      console.log('âš ï¸ Added to fallback cart');\r\n    }\r\n  };\r\n\r\n  const updateQuantity = async (productId, quantity) => {\r\n    try {\r\n      console.log('ðŸ”„ Updating quantity:', productId, 'to', quantity);\r\n      \r\n      if (isAuthenticated && user) {\r\n        // For authenticated users, use backend\r\n        const updatedCart = await cartService.updateCartItem(productId, quantity);\r\n        setCart(updatedCart.items || updatedCart);\r\n        console.log('âœ… Quantity updated in backend');\r\n      } else {\r\n        // For guests, use localStorage\r\n        const currentCart = cart.map(item => {\r\n          const itemId = item.product?._id || item._id;\r\n          return itemId === productId ? { ...item, quantity } : item;\r\n        }).filter(item => item.quantity > 0);\r\n        \r\n        setCart(currentCart);\r\n        saveToLocalStorage(currentCart);\r\n        console.log('âœ… Quantity updated in guest cart');\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Failed to update quantity:', error);\r\n      // Fallback to localStorage\r\n      const currentCart = cart.map(item => {\r\n        const itemId = item.product?._id || item._id;\r\n        return itemId === productId ? { ...item, quantity } : item;\r\n      }).filter(item => item.quantity > 0);\r\n      \r\n      setCart(currentCart);\r\n      saveToLocalStorage(currentCart);\r\n      console.log('âš ï¸ Quantity updated in fallback cart');\r\n    }\r\n  };\r\n\r\n  const removeFromCart = async (productId) => {\r\n    try {\r\n      console.log('ðŸ—‘ï¸ Removing from cart:', productId);\r\n      \r\n      if (isAuthenticated && user) {\r\n        // For authenticated users, use backend\r\n        const updatedCart = await cartService.removeFromCart(productId);\r\n        setCart(updatedCart.items || updatedCart);\r\n        console.log('âœ… Removed from backend cart');\r\n      } else {\r\n        // For guests, use localStorage\r\n        const currentCart = cart.filter(item => {\r\n          const itemId = item.product?._id || item._id;\r\n          return itemId !== productId;\r\n        });\r\n        setCart(currentCart);\r\n        saveToLocalStorage(currentCart);\r\n        console.log('âœ… Removed from guest cart');\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Failed to remove from cart:', error);\r\n      // Fallback to localStorage\r\n      const currentCart = cart.filter(item => {\r\n        const itemId = item.product?._id || item._id;\r\n        return itemId !== productId;\r\n      });\r\n      setCart(currentCart);\r\n      saveToLocalStorage(currentCart);\r\n      console.log('âš ï¸ Removed from fallback cart');\r\n    }\r\n  };\r\n\r\n  const clearCart = async () => {\r\n    try {\r\n      console.log('ðŸ§¹ Clearing cart...');\r\n      \r\n      if (isAuthenticated && user) {\r\n        await cartService.clearCart();\r\n        console.log('âœ… Backend cart cleared');\r\n      }\r\n      \r\n      setCart([]);\r\n      \r\n      // Clear all possible cart keys\r\n      localStorage.removeItem('guestCart');\r\n      if (user) {\r\n        localStorage.removeItem(`userCart_${user._id}`);\r\n      }\r\n      \r\n      console.log('âœ… All carts cleared');\r\n    } catch (error) {\r\n      console.error('âŒ Failed to clear cart:', error);\r\n      setCart([]);\r\n      localStorage.removeItem('guestCart');\r\n      if (user) {\r\n        localStorage.removeItem(`userCart_${user._id}`);\r\n      }\r\n      console.log('âš ï¸ Fallback cart clear completed');\r\n    }\r\n  };\r\n\r\n  const getCartTotal = () => {\r\n    return cart.reduce((total, item) => {\r\n      const price = item.product?.price || item.price;\r\n      return total + (price * item.quantity);\r\n    }, 0);\r\n  };\r\n\r\n  const getCartItemsCount = () => {\r\n    return cart.reduce((total, item) => total + item.quantity, 0);\r\n  };\r\n\r\n  // Additional methods for better cart management\r\n  const updateCartItemQuantity = async (productId, quantity) => {\r\n    if (quantity <= 0) {\r\n      await removeFromCart(productId);\r\n    } else {\r\n      await updateQuantity(productId, quantity);\r\n    }\r\n  };\r\n\r\n  const getCartItem = (productId) => {\r\n    return cart.find(item => {\r\n      const itemId = item.product?._id || item._id;\r\n      return itemId === productId;\r\n    });\r\n  };\r\n\r\n  const isInCart = (productId) => {\r\n    return cart.some(item => {\r\n      const itemId = item.product?._id || item._id;\r\n      return itemId === productId;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={{\r\n      cart,\r\n      cartItems: cart, // For backward compatibility\r\n      loading,\r\n      addToCart,\r\n      updateQuantity,\r\n      updateCartItemQuantity,\r\n      removeFromCart,\r\n      clearCart,\r\n      fetchCart,\r\n      getCartTotal,\r\n      getCartItemsCount,\r\n      getCartItem,\r\n      isInCart,\r\n      cartTotal: getCartTotal(),\r\n      cartCount: getCartItemsCount()\r\n    }}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"gHAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC7E,OAASC,WAAW,KAAQ,eAAe,CAC3C,MAAO,CAAAC,WAAW,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElD,MAAO,MAAM,CAAAC,WAAW,cAAGR,aAAa,CAAC,CAAC,CAE1C,MAAO,MAAM,CAAAS,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAEe,IAAI,CAAEC,eAAgB,CAAC,CAAGd,UAAU,CAACC,WAAW,CAAC,CAEzDF,SAAS,CAAC,IAAM,CACdgB,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACF,IAAI,CAAEC,eAAe,CAAC,CAAC,CAAE;AAE7B,KAAM,CAAAC,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5BH,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,GAAIE,eAAe,EAAID,IAAI,CAAE,CAC3BG,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAEJ,IAAI,CAACK,GAAG,CAAC,CAC/D;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAjB,WAAW,CAACkB,OAAO,CAAC,CAAC,CAE5C;AACA,KAAM,CAAAC,YAAY,CAAG,WAAW,CAChC,KAAM,CAAAC,cAAc,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACL,YAAY,CAAC,EAAI,IAAI,CAAC,CAE7E,GAAIC,cAAc,CAACK,MAAM,CAAG,CAAC,CAAE,CAC7BX,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAC,CACtD;AACA,KAAM,CAAAW,UAAU,CAAGC,yBAAyB,CAACP,cAAc,CAAEH,QAAQ,CAACW,KAAK,EAAI,EAAE,CAAC,CAElF;AACA,KAAM,CAAA5B,WAAW,CAAC6B,UAAU,CAACH,UAAU,CAAC,CACxClB,OAAO,CAACkB,UAAU,CAAC,CAEnB;AACAH,YAAY,CAACO,UAAU,CAACX,YAAY,CAAC,CACrCL,OAAO,CAACC,GAAG,CAAC,0CAA0C,CAAC,CACzD,CAAC,IAAM,KAAAgB,eAAA,CACLvB,OAAO,CAACS,QAAQ,CAACW,KAAK,EAAI,EAAE,CAAC,CAC7Bd,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAE,EAAAgB,eAAA,CAAAd,QAAQ,CAACW,KAAK,UAAAG,eAAA,iBAAdA,eAAA,CAAgBN,MAAM,GAAI,CAAC,CAAE,OAAO,CAAC,CACvF,CACF,CAAC,IAAM,CACLX,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAC,CACtD;AACA,KAAM,CAAAI,YAAY,CAAG,WAAW,CAChC,KAAM,CAAAa,SAAS,CAAGX,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACL,YAAY,CAAC,EAAI,IAAI,CAAC,CACxEX,OAAO,CAACwB,SAAS,CAAC,CAClBlB,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEiB,SAAS,CAACP,MAAM,CAAE,OAAO,CAAC,CAChE,CACF,CAAE,MAAOQ,KAAK,CAAE,CACdnB,OAAO,CAACmB,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/C;AACA,KAAM,CAAAC,WAAW,CAAGtB,eAAe,EAAID,IAAI,aAAAwB,MAAA,CAAexB,IAAI,CAACK,GAAG,EAAK,WAAW,CAClF,KAAM,CAAAgB,SAAS,CAAGX,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACU,WAAW,CAAC,EAAI,IAAI,CAAC,CACvE1B,OAAO,CAACwB,SAAS,CAAC,CAClBlB,OAAO,CAACC,GAAG,CAAC,0CAA0C,CAAC,CACzD,CAAC,OAAS,CACRL,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAiB,yBAAyB,CAAGA,CAACS,SAAS,CAAEC,WAAW,GAAK,CAC5D,KAAM,CAAAX,UAAU,CAAG,CAAC,GAAGW,WAAW,CAAC,CAEnCD,SAAS,CAACE,OAAO,CAACC,SAAS,EAAI,CAC7B,KAAM,CAAAC,aAAa,CAAGd,UAAU,CAACe,SAAS,CACxCC,WAAW,OAAAC,oBAAA,OAAI,EAAAA,oBAAA,CAAAD,WAAW,CAACE,OAAO,UAAAD,oBAAA,iBAAnBA,oBAAA,CAAqB3B,GAAG,IAAKuB,SAAS,CAACvB,GAAG,EAAI0B,WAAW,CAAC1B,GAAG,GAAKuB,SAAS,CAACvB,GAAG,EAChG,CAAC,CAED,GAAIwB,aAAa,CAAG,CAAC,CAAC,CAAE,CACtB;AACAd,UAAU,CAACc,aAAa,CAAC,CAACK,QAAQ,EAAIN,SAAS,CAACM,QAAQ,CAC1D,CAAC,IAAM,CACL;AACAnB,UAAU,CAACoB,IAAI,CAAC,CACdF,OAAO,CAAEL,SAAS,CAClBM,QAAQ,CAAEN,SAAS,CAACM,QAAQ,CAC5B7B,GAAG,CAAEuB,SAAS,CAACvB,GACjB,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CAEF,MAAO,CAAAU,UAAU,CACnB,CAAC,CAED,KAAM,CAAAqB,kBAAkB,CAAI9B,QAAQ,EAAK,CACvC,KAAM,CAAA+B,OAAO,CAAGpC,eAAe,EAAID,IAAI,aAAAwB,MAAA,CAAexB,IAAI,CAACK,GAAG,EAAK,WAAW,CAC9EO,YAAY,CAAC0B,OAAO,CAACD,OAAO,CAAE3B,IAAI,CAAC6B,SAAS,CAACjC,QAAQ,CAAC,CAAC,CACvDH,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAEiC,OAAO,CAAC,CACjE,CAAC,CAED,KAAM,CAAAG,SAAS,CAAG,cAAAA,CAAOP,OAAO,CAAmB,IAAjB,CAAAC,QAAQ,CAAAO,SAAA,CAAA3B,MAAA,IAAA2B,SAAA,MAAAC,SAAA,CAAAD,SAAA,IAAG,CAAC,CAC5C,GAAI,CACFtC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAE6B,OAAO,CAACU,IAAI,CAAE,GAAG,CAAET,QAAQ,CAAC,CAE9D,GAAIjC,eAAe,EAAID,IAAI,CAAE,CAC3B;AACA,KAAM,CAAA4C,WAAW,CAAG,KAAM,CAAAvD,WAAW,CAACmD,SAAS,CAACP,OAAO,CAAC5B,GAAG,CAAE6B,QAAQ,CAAC,CACtErC,OAAO,CAAC+C,WAAW,CAAC3B,KAAK,EAAI2B,WAAW,CAAC,CACzCzC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC,CACxC,CAAC,IAAM,CACL;AACA,KAAM,CAAAyC,WAAW,CAAG,CAAC,GAAGjD,IAAI,CAAC,CAC7B,KAAM,CAAAkD,iBAAiB,CAAGD,WAAW,CAACf,SAAS,CAACiB,IAAI,EAAI,KAAAC,aAAA,CACtD,KAAM,CAAAC,MAAM,CAAG,EAAAD,aAAA,CAAAD,IAAI,CAACd,OAAO,UAAAe,aAAA,iBAAZA,aAAA,CAAc3C,GAAG,GAAI0C,IAAI,CAAC1C,GAAG,CAC5C,MAAO,CAAA4C,MAAM,GAAKhB,OAAO,CAAC5B,GAAG,CAC/B,CAAC,CAAC,CAEF,GAAIyC,iBAAiB,CAAG,CAAC,CAAC,CAAE,CAC1BD,WAAW,CAACC,iBAAiB,CAAC,CAACZ,QAAQ,EAAIA,QAAQ,CACrD,CAAC,IAAM,CACLW,WAAW,CAACV,IAAI,CAAC,CACfF,OAAO,CAAEA,OAAO,CAChBC,QAAQ,CACR7B,GAAG,CAAE4B,OAAO,CAAC5B,GACf,CAAC,CAAC,CACJ,CAEAR,OAAO,CAACgD,WAAW,CAAC,CACpBT,kBAAkB,CAACS,WAAW,CAAC,CAC/B1C,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC,CACtC,CACF,CAAE,MAAOkB,KAAK,CAAE,CACdnB,OAAO,CAACmB,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChD;AACA,KAAM,CAAAuB,WAAW,CAAG,CAAC,GAAGjD,IAAI,CAAC,CAC7B,KAAM,CAAAkD,iBAAiB,CAAGD,WAAW,CAACf,SAAS,CAACiB,IAAI,EAAI,KAAAG,cAAA,CACtD,KAAM,CAAAD,MAAM,CAAG,EAAAC,cAAA,CAAAH,IAAI,CAACd,OAAO,UAAAiB,cAAA,iBAAZA,cAAA,CAAc7C,GAAG,GAAI0C,IAAI,CAAC1C,GAAG,CAC5C,MAAO,CAAA4C,MAAM,GAAKhB,OAAO,CAAC5B,GAAG,CAC/B,CAAC,CAAC,CAEF,GAAIyC,iBAAiB,CAAG,CAAC,CAAC,CAAE,CAC1BD,WAAW,CAACC,iBAAiB,CAAC,CAACZ,QAAQ,EAAIA,QAAQ,CACrD,CAAC,IAAM,CACLW,WAAW,CAACV,IAAI,CAAC,CACfF,OAAO,CAAEA,OAAO,CAChBC,QAAQ,CACR7B,GAAG,CAAE4B,OAAO,CAAC5B,GACf,CAAC,CAAC,CACJ,CAEAR,OAAO,CAACgD,WAAW,CAAC,CACpBT,kBAAkB,CAACS,WAAW,CAAC,CAC/B1C,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC,CAC1C,CACF,CAAC,CAED,KAAM,CAAA+C,cAAc,CAAG,KAAAA,CAAOC,SAAS,CAAElB,QAAQ,GAAK,CACpD,GAAI,CACF/B,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAEgD,SAAS,CAAE,IAAI,CAAElB,QAAQ,CAAC,CAE/D,GAAIjC,eAAe,EAAID,IAAI,CAAE,CAC3B;AACA,KAAM,CAAA4C,WAAW,CAAG,KAAM,CAAAvD,WAAW,CAACgE,cAAc,CAACD,SAAS,CAAElB,QAAQ,CAAC,CACzErC,OAAO,CAAC+C,WAAW,CAAC3B,KAAK,EAAI2B,WAAW,CAAC,CACzCzC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC,CAC9C,CAAC,IAAM,CACL;AACA,KAAM,CAAAyC,WAAW,CAAGjD,IAAI,CAAC0D,GAAG,CAACP,IAAI,EAAI,KAAAQ,cAAA,CACnC,KAAM,CAAAN,MAAM,CAAG,EAAAM,cAAA,CAAAR,IAAI,CAACd,OAAO,UAAAsB,cAAA,iBAAZA,cAAA,CAAclD,GAAG,GAAI0C,IAAI,CAAC1C,GAAG,CAC5C,MAAO,CAAA4C,MAAM,GAAKG,SAAS,CAAAI,aAAA,CAAAA,aAAA,IAAQT,IAAI,MAAEb,QAAQ,GAAKa,IAAI,CAC5D,CAAC,CAAC,CAACU,MAAM,CAACV,IAAI,EAAIA,IAAI,CAACb,QAAQ,CAAG,CAAC,CAAC,CAEpCrC,OAAO,CAACgD,WAAW,CAAC,CACpBT,kBAAkB,CAACS,WAAW,CAAC,CAC/B1C,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC,CACjD,CACF,CAAE,MAAOkB,KAAK,CAAE,CACdnB,OAAO,CAACmB,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpD;AACA,KAAM,CAAAuB,WAAW,CAAGjD,IAAI,CAAC0D,GAAG,CAACP,IAAI,EAAI,KAAAW,cAAA,CACnC,KAAM,CAAAT,MAAM,CAAG,EAAAS,cAAA,CAAAX,IAAI,CAACd,OAAO,UAAAyB,cAAA,iBAAZA,cAAA,CAAcrD,GAAG,GAAI0C,IAAI,CAAC1C,GAAG,CAC5C,MAAO,CAAA4C,MAAM,GAAKG,SAAS,CAAAI,aAAA,CAAAA,aAAA,IAAQT,IAAI,MAAEb,QAAQ,GAAKa,IAAI,CAC5D,CAAC,CAAC,CAACU,MAAM,CAACV,IAAI,EAAIA,IAAI,CAACb,QAAQ,CAAG,CAAC,CAAC,CAEpCrC,OAAO,CAACgD,WAAW,CAAC,CACpBT,kBAAkB,CAACS,WAAW,CAAC,CAC/B1C,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC,CACrD,CACF,CAAC,CAED,KAAM,CAAAuD,cAAc,CAAG,KAAO,CAAAP,SAAS,EAAK,CAC1C,GAAI,CACFjD,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAEgD,SAAS,CAAC,CAEjD,GAAInD,eAAe,EAAID,IAAI,CAAE,CAC3B;AACA,KAAM,CAAA4C,WAAW,CAAG,KAAM,CAAAvD,WAAW,CAACsE,cAAc,CAACP,SAAS,CAAC,CAC/DvD,OAAO,CAAC+C,WAAW,CAAC3B,KAAK,EAAI2B,WAAW,CAAC,CACzCzC,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC,CAC5C,CAAC,IAAM,CACL;AACA,KAAM,CAAAyC,WAAW,CAAGjD,IAAI,CAAC6D,MAAM,CAACV,IAAI,EAAI,KAAAa,cAAA,CACtC,KAAM,CAAAX,MAAM,CAAG,EAAAW,cAAA,CAAAb,IAAI,CAACd,OAAO,UAAA2B,cAAA,iBAAZA,cAAA,CAAcvD,GAAG,GAAI0C,IAAI,CAAC1C,GAAG,CAC5C,MAAO,CAAA4C,MAAM,GAAKG,SAAS,CAC7B,CAAC,CAAC,CACFvD,OAAO,CAACgD,WAAW,CAAC,CACpBT,kBAAkB,CAACS,WAAW,CAAC,CAC/B1C,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC,CAC1C,CACF,CAAE,MAAOkB,KAAK,CAAE,CACdnB,OAAO,CAACmB,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACrD;AACA,KAAM,CAAAuB,WAAW,CAAGjD,IAAI,CAAC6D,MAAM,CAACV,IAAI,EAAI,KAAAc,cAAA,CACtC,KAAM,CAAAZ,MAAM,CAAG,EAAAY,cAAA,CAAAd,IAAI,CAACd,OAAO,UAAA4B,cAAA,iBAAZA,cAAA,CAAcxD,GAAG,GAAI0C,IAAI,CAAC1C,GAAG,CAC5C,MAAO,CAAA4C,MAAM,GAAKG,SAAS,CAC7B,CAAC,CAAC,CACFvD,OAAO,CAACgD,WAAW,CAAC,CACpBT,kBAAkB,CAACS,WAAW,CAAC,CAC/B1C,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC,CAC9C,CACF,CAAC,CAED,KAAM,CAAA0D,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF3D,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAElC,GAAIH,eAAe,EAAID,IAAI,CAAE,CAC3B,KAAM,CAAAX,WAAW,CAACyE,SAAS,CAAC,CAAC,CAC7B3D,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACvC,CAEAP,OAAO,CAAC,EAAE,CAAC,CAEX;AACAe,YAAY,CAACO,UAAU,CAAC,WAAW,CAAC,CACpC,GAAInB,IAAI,CAAE,CACRY,YAAY,CAACO,UAAU,aAAAK,MAAA,CAAaxB,IAAI,CAACK,GAAG,CAAE,CAAC,CACjD,CAEAF,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CACpC,CAAE,MAAOkB,KAAK,CAAE,CACdnB,OAAO,CAACmB,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CzB,OAAO,CAAC,EAAE,CAAC,CACXe,YAAY,CAACO,UAAU,CAAC,WAAW,CAAC,CACpC,GAAInB,IAAI,CAAE,CACRY,YAAY,CAACO,UAAU,aAAAK,MAAA,CAAaxB,IAAI,CAACK,GAAG,CAAE,CAAC,CACjD,CACAF,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAA2D,YAAY,CAAGA,CAAA,GAAM,CACzB,MAAO,CAAAnE,IAAI,CAACoE,MAAM,CAAC,CAACC,KAAK,CAAElB,IAAI,GAAK,KAAAmB,cAAA,CAClC,KAAM,CAAAC,KAAK,CAAG,EAAAD,cAAA,CAAAnB,IAAI,CAACd,OAAO,UAAAiC,cAAA,iBAAZA,cAAA,CAAcC,KAAK,GAAIpB,IAAI,CAACoB,KAAK,CAC/C,MAAO,CAAAF,KAAK,CAAIE,KAAK,CAAGpB,IAAI,CAACb,QAAS,CACxC,CAAC,CAAE,CAAC,CAAC,CACP,CAAC,CAED,KAAM,CAAAkC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,MAAO,CAAAxE,IAAI,CAACoE,MAAM,CAAC,CAACC,KAAK,CAAElB,IAAI,GAAKkB,KAAK,CAAGlB,IAAI,CAACb,QAAQ,CAAE,CAAC,CAAC,CAC/D,CAAC,CAED;AACA,KAAM,CAAAmC,sBAAsB,CAAG,KAAAA,CAAOjB,SAAS,CAAElB,QAAQ,GAAK,CAC5D,GAAIA,QAAQ,EAAI,CAAC,CAAE,CACjB,KAAM,CAAAyB,cAAc,CAACP,SAAS,CAAC,CACjC,CAAC,IAAM,CACL,KAAM,CAAAD,cAAc,CAACC,SAAS,CAAElB,QAAQ,CAAC,CAC3C,CACF,CAAC,CAED,KAAM,CAAAoC,WAAW,CAAIlB,SAAS,EAAK,CACjC,MAAO,CAAAxD,IAAI,CAAC2E,IAAI,CAACxB,IAAI,EAAI,KAAAyB,cAAA,CACvB,KAAM,CAAAvB,MAAM,CAAG,EAAAuB,cAAA,CAAAzB,IAAI,CAACd,OAAO,UAAAuC,cAAA,iBAAZA,cAAA,CAAcnE,GAAG,GAAI0C,IAAI,CAAC1C,GAAG,CAC5C,MAAO,CAAA4C,MAAM,GAAKG,SAAS,CAC7B,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAqB,QAAQ,CAAIrB,SAAS,EAAK,CAC9B,MAAO,CAAAxD,IAAI,CAAC8E,IAAI,CAAC3B,IAAI,EAAI,KAAA4B,cAAA,CACvB,KAAM,CAAA1B,MAAM,CAAG,EAAA0B,cAAA,CAAA5B,IAAI,CAACd,OAAO,UAAA0C,cAAA,iBAAZA,cAAA,CAActE,GAAG,GAAI0C,IAAI,CAAC1C,GAAG,CAC5C,MAAO,CAAA4C,MAAM,GAAKG,SAAS,CAC7B,CAAC,CAAC,CACJ,CAAC,CAED,mBACE7D,IAAA,CAACC,WAAW,CAACoF,QAAQ,EAACC,KAAK,CAAE,CAC3BjF,IAAI,CACJkF,SAAS,CAAElF,IAAI,CAAE;AACjBE,OAAO,CACP0C,SAAS,CACTW,cAAc,CACdkB,sBAAsB,CACtBV,cAAc,CACdG,SAAS,CACT5D,SAAS,CACT6D,YAAY,CACZK,iBAAiB,CACjBE,WAAW,CACXG,QAAQ,CACRM,SAAS,CAAEhB,YAAY,CAAC,CAAC,CACzBiB,SAAS,CAAEZ,iBAAiB,CAAC,CAC/B,CAAE,CAAAzE,QAAA,CACCA,QAAQ,CACW,CAAC,CAE3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}