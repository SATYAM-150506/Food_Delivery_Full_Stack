{"ast":null,"code":"var _jsxFileName = \"D:\\\\food_delievery2\\\\frontend\\\\src\\\\assets\\\\Context\\\\OrderContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext, useEffect } from 'react';\nimport { AuthContext } from './AuthContext';\nimport orderService from '../services/orderService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const OrderContext = /*#__PURE__*/createContext();\nexport const useOrder = () => {\n  _s();\n  const context = useContext(OrderContext);\n  if (!context) {\n    throw new Error('useOrder must be used within an OrderProvider');\n  }\n  return context;\n};\n_s(useOrder, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const OrderProvider = ({\n  children\n}) => {\n  _s2();\n  const [orders, setOrders] = useState([]);\n  const [currentOrder, setCurrentOrder] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const {\n    user,\n    isAuthenticated\n  } = useContext(AuthContext);\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n  // Helper function to get auth headers\n  const getAuthHeaders = () => {\n    const token = localStorage.getItem('token') || sessionStorage.getItem('token');\n    return {\n      'Content-Type': 'application/json',\n      'Authorization': token ? `Bearer ${token}` : ''\n    };\n  };\n\n  // Legacy method - keeping for backwards compatibility\n  const fetchOrders = async () => {\n    return await fetchUserOrders();\n  };\n\n  // Legacy method - keeping for backwards compatibility\n  const placeOrder = async orderData => {\n    return await createOrder(orderData);\n  };\n\n  // Create new order\n  const createOrder = async orderData => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Try API first\n      try {\n        const newOrder = await orderService.placeOrder({\n          ...orderData,\n          userId: user === null || user === void 0 ? void 0 : user._id,\n          status: 'pending',\n          createdAt: new Date().toISOString()\n        });\n        setOrders(prevOrders => [newOrder, ...prevOrders]);\n        setCurrentOrder(newOrder);\n        return newOrder;\n      } catch (apiError) {\n        console.warn('API unavailable, using fallback:', apiError);\n\n        // Fallback to local storage\n        const mockOrder = {\n          _id: `order_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n          userId: user === null || user === void 0 ? void 0 : user._id,\n          items: orderData.items || [],\n          totalAmount: orderData.totalAmount || 0,\n          status: 'pending',\n          deliveryAddress: orderData.deliveryAddress,\n          paymentMethod: orderData.paymentMethod,\n          createdAt: new Date().toISOString(),\n          estimatedDeliveryTime: new Date(Date.now() + 30 * 60 * 1000).toISOString(),\n          trackingUpdates: [{\n            status: 'pending',\n            timestamp: new Date().toISOString(),\n            message: 'Order placed successfully'\n          }]\n        };\n        setOrders(prevOrders => [mockOrder, ...prevOrders]);\n        setCurrentOrder(mockOrder);\n\n        // Store in localStorage\n        const userOrders = JSON.parse(localStorage.getItem(`orders_${user === null || user === void 0 ? void 0 : user._id}`) || '[]');\n        userOrders.unshift(mockOrder);\n        localStorage.setItem(`orders_${user === null || user === void 0 ? void 0 : user._id}`, JSON.stringify(userOrders));\n        return mockOrder;\n      }\n    } catch (error) {\n      console.error('Error creating order:', error);\n      setError(error.message);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch user orders\n  const fetchUserOrders = async () => {\n    if (!isAuthenticated || !(user !== null && user !== void 0 && user._id)) {\n      setOrders([]);\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Try API first\n      try {\n        const userOrders = await orderService.getOrders();\n        setOrders(Array.isArray(userOrders) ? userOrders : []);\n        return userOrders;\n      } catch (apiError) {\n        console.warn('API unavailable, using fallback data:', apiError);\n\n        // Fallback to localStorage and mock data\n        const storedOrders = JSON.parse(localStorage.getItem(`orders_${user._id}`) || '[]');\n        const mockOrders = storedOrders.length > 0 ? storedOrders : generateMockOrders(user._id);\n        setOrders(mockOrders);\n        return mockOrders;\n      }\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n      setError(error.message);\n      setOrders([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Get order by ID\n  const getOrder = async orderId => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Check existing orders first\n      const existingOrder = orders.find(o => o._id === orderId);\n      if (existingOrder) {\n        setCurrentOrder(existingOrder);\n        return existingOrder;\n      }\n\n      // Try API\n      try {\n        const response = await fetch(`${API_BASE_URL}/orders/${orderId}`, {\n          method: 'GET',\n          headers: getAuthHeaders()\n        });\n        if (!response.ok) {\n          throw new Error('Order not found');\n        }\n        const order = await response.json();\n        setCurrentOrder(order);\n        return order;\n      } catch (apiError) {\n        console.warn('API unavailable, generating mock order:', apiError);\n        const mockOrder = generateMockOrder(orderId);\n        setCurrentOrder(mockOrder);\n        return mockOrder;\n      }\n    } catch (error) {\n      console.error('Error fetching order:', error);\n      setError(error.message);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Track order\n  const trackOrder = async orderId => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Update local order with tracking info\n      const trackingInfo = {\n        status: 'confirmed',\n        trackingUpdates: [{\n          status: 'pending',\n          timestamp: new Date(Date.now() - 10 * 60 * 1000).toISOString(),\n          message: 'Order placed successfully'\n        }, {\n          status: 'confirmed',\n          timestamp: new Date().toISOString(),\n          message: 'Order confirmed by restaurant'\n        }]\n      };\n      setOrders(prevOrders => prevOrders.map(order => order._id === orderId ? {\n        ...order,\n        ...trackingInfo\n      } : order));\n      return trackingInfo;\n    } catch (error) {\n      console.error('Error tracking order:', error);\n      setError(error.message);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Generate mock orders for development\n  const generateMockOrders = userId => {\n    const mockItems = [{\n      product: {\n        _id: 'product1',\n        name: 'Margherita Pizza',\n        imageUrl: '/favicon.ico',\n        category: 'Pizza'\n      },\n      quantity: 2,\n      price: 299\n    }, {\n      product: {\n        _id: 'product2',\n        name: 'Chicken Burger',\n        imageUrl: '/favicon.ico',\n        category: 'Burger'\n      },\n      quantity: 1,\n      price: 199\n    }, {\n      product: {\n        _id: 'product3',\n        name: 'Pasta Alfredo',\n        imageUrl: '/favicon.ico',\n        category: 'Pasta'\n      },\n      quantity: 1,\n      price: 249\n    }];\n    const statuses = ['pending', 'confirmed', 'preparing', 'ready', 'out_for_delivery', 'delivered'];\n    const mockOrders = [];\n    for (let i = 0; i < 5; i++) {\n      const randomStatus = statuses[Math.floor(Math.random() * statuses.length)];\n      const orderDate = new Date();\n      orderDate.setDate(orderDate.getDate() - i);\n      mockOrders.push({\n        _id: `order_${Date.now()}_${i}`,\n        userId,\n        items: mockItems.slice(0, Math.floor(Math.random() * 2) + 1),\n        totalAmount: 497 + i * 50,\n        status: randomStatus,\n        deliveryAddress: {\n          street: `${123 + i} Main Street`,\n          city: 'Mumbai',\n          state: 'Maharashtra',\n          pincode: '400001',\n          landmark: 'Near City Mall'\n        },\n        deliveryPartner: randomStatus === 'out_for_delivery' || randomStatus === 'delivered' ? {\n          name: `Delivery Partner ${i + 1}`,\n          phone: `+91 98765 4321${i}`,\n          vehicle: 'Bike'\n        } : null,\n        createdAt: orderDate.toISOString(),\n        estimatedDeliveryTime: new Date(Date.now() + 30 * 60 * 1000).toISOString(),\n        trackingUpdates: [{\n          status: 'pending',\n          timestamp: orderDate.toISOString(),\n          message: 'Order placed successfully'\n        }]\n      });\n    }\n    return mockOrders;\n  };\n  const generateMockOrder = orderId => {\n    return {\n      _id: orderId,\n      userId: user === null || user === void 0 ? void 0 : user._id,\n      items: [{\n        product: {\n          _id: 'product1',\n          name: 'Margherita Pizza',\n          imageUrl: '/favicon.ico',\n          category: 'Pizza'\n        },\n        quantity: 2,\n        price: 299\n      }],\n      totalAmount: 598,\n      status: 'confirmed',\n      deliveryAddress: {\n        street: '123 Main Street',\n        city: 'Mumbai',\n        state: 'Maharashtra',\n        pincode: '400001',\n        landmark: 'Near City Mall'\n      },\n      createdAt: new Date().toISOString(),\n      estimatedDeliveryTime: new Date(Date.now() + 30 * 60 * 1000).toISOString(),\n      trackingUpdates: [{\n        status: 'pending',\n        timestamp: new Date().toISOString(),\n        message: 'Order placed successfully'\n      }, {\n        status: 'confirmed',\n        timestamp: new Date().toISOString(),\n        message: 'Order confirmed by restaurant'\n      }]\n    };\n  };\n\n  // Clear orders on logout\n  useEffect(() => {\n    if (!isAuthenticated) {\n      setOrders([]);\n      setCurrentOrder(null);\n      setError(null);\n    }\n  }, [isAuthenticated]);\n  const value = {\n    orders,\n    currentOrder,\n    loading,\n    error,\n    fetchOrders,\n    // Legacy\n    placeOrder,\n    // Legacy\n    createOrder,\n    fetchUserOrders,\n    getOrder,\n    trackOrder,\n    setError,\n    setCurrentOrder\n  };\n  return /*#__PURE__*/_jsxDEV(OrderContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 363,\n    columnNumber: 5\n  }, this);\n};\n_s2(OrderProvider, \"cGgwOBHr2zJt0NOKgCB2svA5Uno=\");\n_c = OrderProvider;\nvar _c;\n$RefreshReg$(_c, \"OrderProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","AuthContext","orderService","jsxDEV","_jsxDEV","OrderContext","useOrder","_s","context","Error","OrderProvider","children","_s2","orders","setOrders","currentOrder","setCurrentOrder","loading","setLoading","error","setError","user","isAuthenticated","API_BASE_URL","process","env","REACT_APP_API_URL","getAuthHeaders","token","localStorage","getItem","sessionStorage","fetchOrders","fetchUserOrders","placeOrder","orderData","createOrder","newOrder","userId","_id","status","createdAt","Date","toISOString","prevOrders","apiError","console","warn","mockOrder","now","Math","random","toString","substr","items","totalAmount","deliveryAddress","paymentMethod","estimatedDeliveryTime","trackingUpdates","timestamp","message","userOrders","JSON","parse","unshift","setItem","stringify","getOrders","Array","isArray","storedOrders","mockOrders","length","generateMockOrders","getOrder","orderId","existingOrder","find","o","response","fetch","method","headers","ok","order","json","generateMockOrder","trackOrder","trackingInfo","map","mockItems","product","name","imageUrl","category","quantity","price","statuses","i","randomStatus","floor","orderDate","setDate","getDate","push","slice","street","city","state","pincode","landmark","deliveryPartner","phone","vehicle","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/food_delievery2/frontend/src/assets/Context/OrderContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\r\nimport { AuthContext } from './AuthContext';\r\nimport orderService from '../services/orderService';\r\n\r\nexport const OrderContext = createContext();\r\n\r\nexport const useOrder = () => {\r\n  const context = useContext(OrderContext);\r\n  if (!context) {\r\n    throw new Error('useOrder must be used within an OrderProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const OrderProvider = ({ children }) => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [currentOrder, setCurrentOrder] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const { user, isAuthenticated } = useContext(AuthContext);\r\n\r\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n  // Helper function to get auth headers\r\n  const getAuthHeaders = () => {\r\n    const token = localStorage.getItem('token') || sessionStorage.getItem('token');\r\n    return {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': token ? `Bearer ${token}` : ''\r\n    };\r\n  };\r\n\r\n  // Legacy method - keeping for backwards compatibility\r\n  const fetchOrders = async () => {\r\n    return await fetchUserOrders();\r\n  };\r\n\r\n  // Legacy method - keeping for backwards compatibility\r\n  const placeOrder = async (orderData) => {\r\n    return await createOrder(orderData);\r\n  };\r\n\r\n  // Create new order\r\n  const createOrder = async (orderData) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // Try API first\r\n      try {\r\n        const newOrder = await orderService.placeOrder({\r\n          ...orderData,\r\n          userId: user?._id,\r\n          status: 'pending',\r\n          createdAt: new Date().toISOString()\r\n        });\r\n        \r\n        setOrders(prevOrders => [newOrder, ...prevOrders]);\r\n        setCurrentOrder(newOrder);\r\n        return newOrder;\r\n      } catch (apiError) {\r\n        console.warn('API unavailable, using fallback:', apiError);\r\n        \r\n        // Fallback to local storage\r\n        const mockOrder = {\r\n          _id: `order_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n          userId: user?._id,\r\n          items: orderData.items || [],\r\n          totalAmount: orderData.totalAmount || 0,\r\n          status: 'pending',\r\n          deliveryAddress: orderData.deliveryAddress,\r\n          paymentMethod: orderData.paymentMethod,\r\n          createdAt: new Date().toISOString(),\r\n          estimatedDeliveryTime: new Date(Date.now() + (30 * 60 * 1000)).toISOString(),\r\n          trackingUpdates: [\r\n            {\r\n              status: 'pending',\r\n              timestamp: new Date().toISOString(),\r\n              message: 'Order placed successfully'\r\n            }\r\n          ]\r\n        };\r\n\r\n        setOrders(prevOrders => [mockOrder, ...prevOrders]);\r\n        setCurrentOrder(mockOrder);\r\n        \r\n        // Store in localStorage\r\n        const userOrders = JSON.parse(localStorage.getItem(`orders_${user?._id}`) || '[]');\r\n        userOrders.unshift(mockOrder);\r\n        localStorage.setItem(`orders_${user?._id}`, JSON.stringify(userOrders));\r\n        \r\n        return mockOrder;\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating order:', error);\r\n      setError(error.message);\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch user orders\r\n  const fetchUserOrders = async () => {\r\n    if (!isAuthenticated || !user?._id) {\r\n      setOrders([]);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // Try API first\r\n      try {\r\n        const userOrders = await orderService.getOrders();\r\n        setOrders(Array.isArray(userOrders) ? userOrders : []);\r\n        return userOrders;\r\n      } catch (apiError) {\r\n        console.warn('API unavailable, using fallback data:', apiError);\r\n        \r\n        // Fallback to localStorage and mock data\r\n        const storedOrders = JSON.parse(localStorage.getItem(`orders_${user._id}`) || '[]');\r\n        const mockOrders = storedOrders.length > 0 ? storedOrders : generateMockOrders(user._id);\r\n        \r\n        setOrders(mockOrders);\r\n        return mockOrders;\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching orders:', error);\r\n      setError(error.message);\r\n      setOrders([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Get order by ID\r\n  const getOrder = async (orderId) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // Check existing orders first\r\n      const existingOrder = orders.find(o => o._id === orderId);\r\n      if (existingOrder) {\r\n        setCurrentOrder(existingOrder);\r\n        return existingOrder;\r\n      }\r\n\r\n      // Try API\r\n      try {\r\n        const response = await fetch(`${API_BASE_URL}/orders/${orderId}`, {\r\n          method: 'GET',\r\n          headers: getAuthHeaders(),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Order not found');\r\n        }\r\n\r\n        const order = await response.json();\r\n        setCurrentOrder(order);\r\n        return order;\r\n      } catch (apiError) {\r\n        console.warn('API unavailable, generating mock order:', apiError);\r\n        \r\n        const mockOrder = generateMockOrder(orderId);\r\n        setCurrentOrder(mockOrder);\r\n        return mockOrder;\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching order:', error);\r\n      setError(error.message);\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Track order\r\n  const trackOrder = async (orderId) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // Update local order with tracking info\r\n      const trackingInfo = {\r\n        status: 'confirmed',\r\n        trackingUpdates: [\r\n          {\r\n            status: 'pending',\r\n            timestamp: new Date(Date.now() - 10 * 60 * 1000).toISOString(),\r\n            message: 'Order placed successfully'\r\n          },\r\n          {\r\n            status: 'confirmed',\r\n            timestamp: new Date().toISOString(),\r\n            message: 'Order confirmed by restaurant'\r\n          }\r\n        ]\r\n      };\r\n      \r\n      setOrders(prevOrders =>\r\n        prevOrders.map(order =>\r\n          order._id === orderId ? { ...order, ...trackingInfo } : order\r\n        )\r\n      );\r\n\r\n      return trackingInfo;\r\n    } catch (error) {\r\n      console.error('Error tracking order:', error);\r\n      setError(error.message);\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Generate mock orders for development\r\n  const generateMockOrders = (userId) => {\r\n    const mockItems = [\r\n      {\r\n        product: {\r\n          _id: 'product1',\r\n          name: 'Margherita Pizza',\r\n          imageUrl: '/favicon.ico',\r\n          category: 'Pizza'\r\n        },\r\n        quantity: 2,\r\n        price: 299\r\n      },\r\n      {\r\n        product: {\r\n          _id: 'product2',\r\n          name: 'Chicken Burger',\r\n          imageUrl: '/favicon.ico',\r\n          category: 'Burger'\r\n        },\r\n        quantity: 1,\r\n        price: 199\r\n      },\r\n      {\r\n        product: {\r\n          _id: 'product3',\r\n          name: 'Pasta Alfredo',\r\n          imageUrl: '/favicon.ico',\r\n          category: 'Pasta'\r\n        },\r\n        quantity: 1,\r\n        price: 249\r\n      }\r\n    ];\r\n\r\n    const statuses = ['pending', 'confirmed', 'preparing', 'ready', 'out_for_delivery', 'delivered'];\r\n    const mockOrders = [];\r\n\r\n    for (let i = 0; i < 5; i++) {\r\n      const randomStatus = statuses[Math.floor(Math.random() * statuses.length)];\r\n      const orderDate = new Date();\r\n      orderDate.setDate(orderDate.getDate() - i);\r\n\r\n      mockOrders.push({\r\n        _id: `order_${Date.now()}_${i}`,\r\n        userId,\r\n        items: mockItems.slice(0, Math.floor(Math.random() * 2) + 1),\r\n        totalAmount: 497 + (i * 50),\r\n        status: randomStatus,\r\n        deliveryAddress: {\r\n          street: `${123 + i} Main Street`,\r\n          city: 'Mumbai',\r\n          state: 'Maharashtra',\r\n          pincode: '400001',\r\n          landmark: 'Near City Mall'\r\n        },\r\n        deliveryPartner: randomStatus === 'out_for_delivery' || randomStatus === 'delivered' ? {\r\n          name: `Delivery Partner ${i + 1}`,\r\n          phone: `+91 98765 4321${i}`,\r\n          vehicle: 'Bike'\r\n        } : null,\r\n        createdAt: orderDate.toISOString(),\r\n        estimatedDeliveryTime: new Date(Date.now() + (30 * 60 * 1000)).toISOString(),\r\n        trackingUpdates: [\r\n          {\r\n            status: 'pending',\r\n            timestamp: orderDate.toISOString(),\r\n            message: 'Order placed successfully'\r\n          }\r\n        ]\r\n      });\r\n    }\r\n\r\n    return mockOrders;\r\n  };\r\n\r\n  const generateMockOrder = (orderId) => {\r\n    return {\r\n      _id: orderId,\r\n      userId: user?._id,\r\n      items: [\r\n        {\r\n          product: {\r\n            _id: 'product1',\r\n            name: 'Margherita Pizza',\r\n            imageUrl: '/favicon.ico',\r\n            category: 'Pizza'\r\n          },\r\n          quantity: 2,\r\n          price: 299\r\n        }\r\n      ],\r\n      totalAmount: 598,\r\n      status: 'confirmed',\r\n      deliveryAddress: {\r\n        street: '123 Main Street',\r\n        city: 'Mumbai',\r\n        state: 'Maharashtra',\r\n        pincode: '400001',\r\n        landmark: 'Near City Mall'\r\n      },\r\n      createdAt: new Date().toISOString(),\r\n      estimatedDeliveryTime: new Date(Date.now() + (30 * 60 * 1000)).toISOString(),\r\n      trackingUpdates: [\r\n        {\r\n          status: 'pending',\r\n          timestamp: new Date().toISOString(),\r\n          message: 'Order placed successfully'\r\n        },\r\n        {\r\n          status: 'confirmed',\r\n          timestamp: new Date().toISOString(),\r\n          message: 'Order confirmed by restaurant'\r\n        }\r\n      ]\r\n    };\r\n  };\r\n\r\n  // Clear orders on logout\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      setOrders([]);\r\n      setCurrentOrder(null);\r\n      setError(null);\r\n    }\r\n  }, [isAuthenticated]);\r\n\r\n  const value = {\r\n    orders,\r\n    currentOrder,\r\n    loading,\r\n    error,\r\n    fetchOrders, // Legacy\r\n    placeOrder, // Legacy\r\n    createOrder,\r\n    fetchUserOrders,\r\n    getOrder,\r\n    trackOrder,\r\n    setError,\r\n    setCurrentOrder\r\n  };\r\n\r\n  return (\r\n    <OrderContext.Provider value={value}>\r\n      {children}\r\n    </OrderContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}