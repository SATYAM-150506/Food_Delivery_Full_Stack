{"ast":null,"code":"var _jsxFileName = \"D:\\\\food_delievery2\\\\frontend\\\\src\\\\assets\\\\Context\\\\CartContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useEffect, useContext, useCallback } from 'react';\nimport cartService from '../services/cartService';\nimport { useAuth } from './AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\n\n// Custom hook for using cart context\nexport const useCart = () => {\n  _s();\n  const context = useContext(CartContext);\n  if (!context) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n};\n_s(useCart, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const CartProvider = ({\n  children\n}) => {\n  _s2();\n  const {\n    user\n  } = useAuth(); // Get user from AuthContext\n  const [cartItems, setCartItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [lastAction, setLastAction] = useState(null);\n\n  // Fetch cart from server\n  const fetchCart = useCallback(async () => {\n    // Only fetch if we have a user and the service is available\n    if (!user) return;\n    try {\n      setLoading(true);\n      setError(null);\n      const cartData = await cartService.getCart();\n      if (cartData && cartData.data && Array.isArray(cartData.data)) {\n        setCartItems(cartData.data);\n      } else if (Array.isArray(cartData)) {\n        setCartItems(cartData);\n      }\n    } catch (err) {\n      // Don't set error for fetch failures during development\n      console.warn('Failed to fetch cart from server (this is normal in development):', err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [user]);\n\n  // Load cart from localStorage on mount\n  useEffect(() => {\n    const savedCart = localStorage.getItem('cart');\n    if (savedCart) {\n      try {\n        setCartItems(JSON.parse(savedCart));\n      } catch (err) {\n        console.error('Error parsing saved cart:', err);\n        localStorage.removeItem('cart');\n      }\n    }\n\n    // Also try to fetch from server if user is logged in\n    fetchCart();\n  }, [fetchCart]);\n\n  // Save cart to localStorage whenever it changes\n  useEffect(() => {\n    if (cartItems.length > 0) {\n      localStorage.setItem('cart', JSON.stringify(cartItems));\n    } else {\n      localStorage.removeItem('cart');\n    }\n  }, [cartItems]);\n\n  // Add item to cart\n  const addToCart = useCallback(async (product, quantity = 1, options = {}) => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Check if item already exists\n      const existingItemIndex = cartItems.findIndex(item => item._id === product._id && JSON.stringify(item.options || {}) === JSON.stringify(options));\n      let newCartItems;\n      if (existingItemIndex !== -1) {\n        // Update existing item\n        newCartItems = [...cartItems];\n        newCartItems[existingItemIndex] = {\n          ...newCartItems[existingItemIndex],\n          quantity: newCartItems[existingItemIndex].quantity + quantity\n        };\n      } else {\n        // Add new item\n        const cartItem = {\n          ...product,\n          quantity,\n          options,\n          addedAt: new Date().toISOString(),\n          cartItemId: `${product._id}_${Date.now()}_${Math.random()}`\n        };\n        newCartItems = [...cartItems, cartItem];\n      }\n      setCartItems(newCartItems);\n      setLastAction({\n        type: 'ADD',\n        product,\n        quantity\n      });\n\n      // Try to sync with server\n      try {\n        await cartService.addToCart(product._id, quantity, options);\n      } catch (serverError) {\n        console.error('Failed to sync cart with server:', serverError);\n      }\n      return {\n        success: true,\n        message: `${product.name} added to cart`\n      };\n    } catch (err) {\n      const errorMessage = 'Failed to add item to cart';\n      setError(errorMessage);\n      console.error('Add to cart error:', err);\n      return {\n        success: false,\n        message: errorMessage\n      };\n    } finally {\n      setLoading(false);\n    }\n  }, [cartItems]);\n\n  // Remove item from cart\n  const removeFromCart = useCallback(async cartItemId => {\n    try {\n      setLoading(true);\n      setError(null);\n      const itemToRemove = cartItems.find(item => item.cartItemId === cartItemId || item._id === cartItemId);\n      const updatedItems = cartItems.filter(item => item.cartItemId !== cartItemId && item._id !== cartItemId);\n      setCartItems(updatedItems);\n      setLastAction({\n        type: 'REMOVE',\n        product: itemToRemove\n      });\n\n      // Try to sync with server\n      try {\n        await cartService.removeFromCart(cartItemId);\n      } catch (serverError) {\n        console.error('Failed to sync removal with server:', serverError);\n      }\n      return {\n        success: true,\n        message: `${(itemToRemove === null || itemToRemove === void 0 ? void 0 : itemToRemove.name) || 'Item'} removed from cart`\n      };\n    } catch (err) {\n      const errorMessage = 'Failed to remove item from cart';\n      setError(errorMessage);\n      console.error('Remove from cart error:', err);\n      return {\n        success: false,\n        message: errorMessage\n      };\n    } finally {\n      setLoading(false);\n    }\n  }, [cartItems]);\n\n  // Update item quantity\n  const updateQuantity = useCallback(async (cartItemId, newQuantity) => {\n    try {\n      setLoading(true);\n      setError(null);\n      if (newQuantity <= 0) {\n        return removeFromCart(cartItemId);\n      }\n      const updatedItems = cartItems.map(item => item.cartItemId === cartItemId || item._id === cartItemId ? {\n        ...item,\n        quantity: newQuantity\n      } : item);\n      setCartItems(updatedItems);\n      setLastAction({\n        type: 'UPDATE',\n        itemId: cartItemId,\n        quantity: newQuantity\n      });\n\n      // Try to sync with server\n      try {\n        await cartService.updateCartItem(cartItemId, newQuantity);\n      } catch (serverError) {\n        console.error('Failed to sync quantity update with server:', serverError);\n      }\n      return {\n        success: true,\n        message: 'Quantity updated'\n      };\n    } catch (err) {\n      const errorMessage = 'Failed to update quantity';\n      setError(errorMessage);\n      console.error('Update quantity error:', err);\n      return {\n        success: false,\n        message: errorMessage\n      };\n    } finally {\n      setLoading(false);\n    }\n  }, [cartItems, removeFromCart]);\n\n  // Clear entire cart\n  const clearCart = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      setCartItems([]);\n      setLastAction({\n        type: 'CLEAR'\n      });\n\n      // Try to sync with server\n      try {\n        await cartService.clearCart();\n      } catch (serverError) {\n        console.error('Failed to sync cart clear with server:', serverError);\n      }\n      return {\n        success: true,\n        message: 'Cart cleared'\n      };\n    } catch (err) {\n      const errorMessage = 'Failed to clear cart';\n      setError(errorMessage);\n      console.error('Clear cart error:', err);\n      return {\n        success: false,\n        message: errorMessage\n      };\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Get cart totals\n  const getCartTotals = useCallback(() => {\n    const subtotal = cartItems.reduce((total, item) => {\n      return total + item.price * item.quantity;\n    }, 0);\n    const itemCount = cartItems.reduce((total, item) => {\n      return total + item.quantity;\n    }, 0);\n\n    // Calculate tax (assuming 10% tax rate)\n    const taxRate = 0.10;\n    const tax = subtotal * taxRate;\n\n    // Calculate delivery fee (free over $25)\n    const deliveryFee = subtotal >= 25 ? 0 : 3.99;\n    const total = subtotal + tax + deliveryFee;\n    return {\n      subtotal: parseFloat(subtotal.toFixed(2)),\n      tax: parseFloat(tax.toFixed(2)),\n      deliveryFee: parseFloat(deliveryFee.toFixed(2)),\n      total: parseFloat(total.toFixed(2)),\n      itemCount\n    };\n  }, [cartItems]);\n\n  // Check if item is in cart\n  const isInCart = useCallback(productId => {\n    return cartItems.some(item => item._id === productId);\n  }, [cartItems]);\n\n  // Get item quantity in cart\n  const getItemQuantity = useCallback(productId => {\n    const item = cartItems.find(item => item._id === productId);\n    return item ? item.quantity : 0;\n  }, [cartItems]);\n\n  // Validate cart items (check if products still exist, prices are current, etc.)\n  const validateCart = useCallback(async () => {\n    try {\n      setLoading(true);\n      // This would typically validate against current product data\n      // For now, just return current cart items\n      return {\n        valid: true,\n        items: cartItems\n      };\n    } catch (err) {\n      console.error('Cart validation error:', err);\n      return {\n        valid: false,\n        errors: ['Cart validation failed']\n      };\n    } finally {\n      setLoading(false);\n    }\n  }, [cartItems]);\n\n  // Clear error\n  const clearError = useCallback(() => {\n    setError(null);\n  }, []);\n\n  // Clear last action\n  const clearLastAction = useCallback(() => {\n    setLastAction(null);\n  }, []);\n  const value = {\n    // State\n    cartItems,\n    loading,\n    error,\n    lastAction,\n    // Actions\n    addToCart,\n    updateQuantity,\n    removeFromCart,\n    clearCart,\n    fetchCart,\n    // Utilities\n    getCartTotals,\n    isInCart,\n    getItemQuantity,\n    validateCart,\n    clearError,\n    clearLastAction,\n    // Derived state\n    isEmpty: cartItems.length === 0,\n    itemCount: cartItems.reduce((total, item) => total + item.quantity, 0)\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 316,\n    columnNumber: 5\n  }, this);\n};\n_s2(CartProvider, \"y2/hepePA/bHfy74XWIazN1m0ZI=\", false, function () {\n  return [useAuth];\n});\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","useCallback","cartService","useAuth","jsxDEV","_jsxDEV","CartContext","useCart","_s","context","Error","CartProvider","children","_s2","user","cartItems","setCartItems","loading","setLoading","error","setError","lastAction","setLastAction","fetchCart","cartData","getCart","data","Array","isArray","err","console","warn","message","savedCart","localStorage","getItem","JSON","parse","removeItem","length","setItem","stringify","addToCart","product","quantity","options","existingItemIndex","findIndex","item","_id","newCartItems","cartItem","addedAt","Date","toISOString","cartItemId","now","Math","random","type","serverError","success","name","errorMessage","removeFromCart","itemToRemove","find","updatedItems","filter","updateQuantity","newQuantity","map","itemId","updateCartItem","clearCart","getCartTotals","subtotal","reduce","total","price","itemCount","taxRate","tax","deliveryFee","parseFloat","toFixed","isInCart","productId","some","getItemQuantity","validateCart","valid","items","errors","clearError","clearLastAction","value","isEmpty","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/food_delievery2/frontend/src/assets/Context/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext, useCallback } from 'react';\r\nimport cartService from '../services/cartService';\r\nimport { useAuth } from './AuthContext';\r\n\r\nexport const CartContext = createContext();\r\n\r\n// Custom hook for using cart context\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext);\r\n  if (!context) {\r\n    throw new Error('useCart must be used within a CartProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const { user } = useAuth(); // Get user from AuthContext\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [lastAction, setLastAction] = useState(null);\r\n\r\n  // Fetch cart from server\r\n  const fetchCart = useCallback(async () => {\r\n    // Only fetch if we have a user and the service is available\r\n    if (!user) return;\r\n    \r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const cartData = await cartService.getCart();\r\n      if (cartData && cartData.data && Array.isArray(cartData.data)) {\r\n        setCartItems(cartData.data);\r\n      } else if (Array.isArray(cartData)) {\r\n        setCartItems(cartData);\r\n      }\r\n    } catch (err) {\r\n      // Don't set error for fetch failures during development\r\n      console.warn('Failed to fetch cart from server (this is normal in development):', err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user]);\r\n\r\n  // Load cart from localStorage on mount\r\n  useEffect(() => {\r\n    const savedCart = localStorage.getItem('cart');\r\n    if (savedCart) {\r\n      try {\r\n        setCartItems(JSON.parse(savedCart));\r\n      } catch (err) {\r\n        console.error('Error parsing saved cart:', err);\r\n        localStorage.removeItem('cart');\r\n      }\r\n    }\r\n    \r\n    // Also try to fetch from server if user is logged in\r\n    fetchCart();\r\n  }, [fetchCart]);\r\n\r\n  // Save cart to localStorage whenever it changes\r\n  useEffect(() => {\r\n    if (cartItems.length > 0) {\r\n      localStorage.setItem('cart', JSON.stringify(cartItems));\r\n    } else {\r\n      localStorage.removeItem('cart');\r\n    }\r\n  }, [cartItems]);\r\n\r\n  // Add item to cart\r\n  const addToCart = useCallback(async (product, quantity = 1, options = {}) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // Check if item already exists\r\n      const existingItemIndex = cartItems.findIndex(\r\n        item => item._id === product._id && \r\n        JSON.stringify(item.options || {}) === JSON.stringify(options)\r\n      );\r\n\r\n      let newCartItems;\r\n\r\n      if (existingItemIndex !== -1) {\r\n        // Update existing item\r\n        newCartItems = [...cartItems];\r\n        newCartItems[existingItemIndex] = {\r\n          ...newCartItems[existingItemIndex],\r\n          quantity: newCartItems[existingItemIndex].quantity + quantity\r\n        };\r\n      } else {\r\n        // Add new item\r\n        const cartItem = {\r\n          ...product,\r\n          quantity,\r\n          options,\r\n          addedAt: new Date().toISOString(),\r\n          cartItemId: `${product._id}_${Date.now()}_${Math.random()}`\r\n        };\r\n        newCartItems = [...cartItems, cartItem];\r\n      }\r\n\r\n      setCartItems(newCartItems);\r\n      setLastAction({ type: 'ADD', product, quantity });\r\n\r\n      // Try to sync with server\r\n      try {\r\n        await cartService.addToCart(product._id, quantity, options);\r\n      } catch (serverError) {\r\n        console.error('Failed to sync cart with server:', serverError);\r\n      }\r\n\r\n      return { success: true, message: `${product.name} added to cart` };\r\n    } catch (err) {\r\n      const errorMessage = 'Failed to add item to cart';\r\n      setError(errorMessage);\r\n      console.error('Add to cart error:', err);\r\n      return { success: false, message: errorMessage };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [cartItems]);\r\n\r\n  // Remove item from cart\r\n  const removeFromCart = useCallback(async (cartItemId) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const itemToRemove = cartItems.find(item => \r\n        item.cartItemId === cartItemId || item._id === cartItemId\r\n      );\r\n\r\n      const updatedItems = cartItems.filter(item =>\r\n        item.cartItemId !== cartItemId && item._id !== cartItemId\r\n      );\r\n\r\n      setCartItems(updatedItems);\r\n      setLastAction({ type: 'REMOVE', product: itemToRemove });\r\n\r\n      // Try to sync with server\r\n      try {\r\n        await cartService.removeFromCart(cartItemId);\r\n      } catch (serverError) {\r\n        console.error('Failed to sync removal with server:', serverError);\r\n      }\r\n\r\n      return { success: true, message: `${itemToRemove?.name || 'Item'} removed from cart` };\r\n    } catch (err) {\r\n      const errorMessage = 'Failed to remove item from cart';\r\n      setError(errorMessage);\r\n      console.error('Remove from cart error:', err);\r\n      return { success: false, message: errorMessage };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [cartItems]);\r\n\r\n  // Update item quantity\r\n  const updateQuantity = useCallback(async (cartItemId, newQuantity) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      if (newQuantity <= 0) {\r\n        return removeFromCart(cartItemId);\r\n      }\r\n\r\n      const updatedItems = cartItems.map(item =>\r\n        item.cartItemId === cartItemId || item._id === cartItemId\r\n          ? { ...item, quantity: newQuantity }\r\n          : item\r\n      );\r\n\r\n      setCartItems(updatedItems);\r\n      setLastAction({ type: 'UPDATE', itemId: cartItemId, quantity: newQuantity });\r\n\r\n      // Try to sync with server\r\n      try {\r\n        await cartService.updateCartItem(cartItemId, newQuantity);\r\n      } catch (serverError) {\r\n        console.error('Failed to sync quantity update with server:', serverError);\r\n      }\r\n\r\n      return { success: true, message: 'Quantity updated' };\r\n    } catch (err) {\r\n      const errorMessage = 'Failed to update quantity';\r\n      setError(errorMessage);\r\n      console.error('Update quantity error:', err);\r\n      return { success: false, message: errorMessage };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [cartItems, removeFromCart]);\r\n\r\n  // Clear entire cart\r\n  const clearCart = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      setCartItems([]);\r\n      setLastAction({ type: 'CLEAR' });\r\n\r\n      // Try to sync with server\r\n      try {\r\n        await cartService.clearCart();\r\n      } catch (serverError) {\r\n        console.error('Failed to sync cart clear with server:', serverError);\r\n      }\r\n\r\n      return { success: true, message: 'Cart cleared' };\r\n    } catch (err) {\r\n      const errorMessage = 'Failed to clear cart';\r\n      setError(errorMessage);\r\n      console.error('Clear cart error:', err);\r\n      return { success: false, message: errorMessage };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Get cart totals\r\n  const getCartTotals = useCallback(() => {\r\n    const subtotal = cartItems.reduce((total, item) => {\r\n      return total + (item.price * item.quantity);\r\n    }, 0);\r\n\r\n    const itemCount = cartItems.reduce((total, item) => {\r\n      return total + item.quantity;\r\n    }, 0);\r\n\r\n    // Calculate tax (assuming 10% tax rate)\r\n    const taxRate = 0.10;\r\n    const tax = subtotal * taxRate;\r\n\r\n    // Calculate delivery fee (free over $25)\r\n    const deliveryFee = subtotal >= 25 ? 0 : 3.99;\r\n\r\n    const total = subtotal + tax + deliveryFee;\r\n\r\n    return {\r\n      subtotal: parseFloat(subtotal.toFixed(2)),\r\n      tax: parseFloat(tax.toFixed(2)),\r\n      deliveryFee: parseFloat(deliveryFee.toFixed(2)),\r\n      total: parseFloat(total.toFixed(2)),\r\n      itemCount\r\n    };\r\n  }, [cartItems]);\r\n\r\n  // Check if item is in cart\r\n  const isInCart = useCallback((productId) => {\r\n    return cartItems.some(item => item._id === productId);\r\n  }, [cartItems]);\r\n\r\n  // Get item quantity in cart\r\n  const getItemQuantity = useCallback((productId) => {\r\n    const item = cartItems.find(item => item._id === productId);\r\n    return item ? item.quantity : 0;\r\n  }, [cartItems]);\r\n\r\n  // Validate cart items (check if products still exist, prices are current, etc.)\r\n  const validateCart = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      // This would typically validate against current product data\r\n      // For now, just return current cart items\r\n      return { valid: true, items: cartItems };\r\n    } catch (err) {\r\n      console.error('Cart validation error:', err);\r\n      return { valid: false, errors: ['Cart validation failed'] };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [cartItems]);\r\n\r\n  // Clear error\r\n  const clearError = useCallback(() => {\r\n    setError(null);\r\n  }, []);\r\n\r\n  // Clear last action\r\n  const clearLastAction = useCallback(() => {\r\n    setLastAction(null);\r\n  }, []);\r\n\r\n  const value = {\r\n    // State\r\n    cartItems,\r\n    loading,\r\n    error,\r\n    lastAction,\r\n    \r\n    // Actions\r\n    addToCart,\r\n    updateQuantity,\r\n    removeFromCart,\r\n    clearCart,\r\n    fetchCart,\r\n    \r\n    // Utilities\r\n    getCartTotals,\r\n    isInCart,\r\n    getItemQuantity,\r\n    validateCart,\r\n    clearError,\r\n    clearLastAction,\r\n    \r\n    // Derived state\r\n    isEmpty: cartItems.length === 0,\r\n    itemCount: cartItems.reduce((total, item) => total + item.quantity, 0)\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={value}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}