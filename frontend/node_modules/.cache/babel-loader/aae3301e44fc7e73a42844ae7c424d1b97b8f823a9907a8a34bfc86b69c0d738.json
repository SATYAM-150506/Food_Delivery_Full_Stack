{"ast":null,"code":"import _objectSpread from\"D:/food_delievery2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from'axios';const API='/api/payment';// Configure axios to send credentials with all requests\naxios.defaults.withCredentials=true;const paymentService={// Create Razorpay order\ncreatePaymentOrder:async data=>{const res=await axios.post(\"\".concat(API,\"/create-order\"),data);return res.data;},// Process payment (create order)\nprocessPayment:async data=>{const res=await axios.post(\"\".concat(API,\"/pay\"),data);return res.data;},// Verify payment after successful transaction\nverifyPayment:async data=>{const res=await axios.post(\"\".concat(API,\"/verify\"),data);return res.data;},// Handle payment failure\npaymentFailed:async data=>{const res=await axios.post(\"\".concat(API,\"/failed\"),data);return res.data;},// Initialize Razorpay payment\ninitiateRazorpayPayment:options=>{return new Promise((resolve,reject)=>{const rzp=new window.Razorpay(_objectSpread(_objectSpread({},options),{},{handler:function(response){resolve(response);},modal:{ondismiss:function(){reject(new Error('Payment cancelled by user'));}}}));rzp.open();});}};export default paymentService;","map":{"version":3,"names":["axios","API","defaults","withCredentials","paymentService","createPaymentOrder","data","res","post","concat","processPayment","verifyPayment","paymentFailed","initiateRazorpayPayment","options","Promise","resolve","reject","rzp","window","Razorpay","_objectSpread","handler","response","modal","ondismiss","Error","open"],"sources":["D:/food_delievery2/frontend/src/assets/services/paymentService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API = '/api/payment';\r\n\r\n// Configure axios to send credentials with all requests\r\naxios.defaults.withCredentials = true;\r\n\r\nconst paymentService = {\r\n  // Create Razorpay order\r\n  createPaymentOrder: async (data) => {\r\n    const res = await axios.post(`${API}/create-order`, data);\r\n    return res.data;\r\n  },\r\n\r\n  // Process payment (create order)\r\n  processPayment: async (data) => {\r\n    const res = await axios.post(`${API}/pay`, data);\r\n    return res.data;\r\n  },\r\n\r\n  // Verify payment after successful transaction\r\n  verifyPayment: async (data) => {\r\n    const res = await axios.post(`${API}/verify`, data);\r\n    return res.data;\r\n  },\r\n\r\n  // Handle payment failure\r\n  paymentFailed: async (data) => {\r\n    const res = await axios.post(`${API}/failed`, data);\r\n    return res.data;\r\n  },\r\n\r\n  // Initialize Razorpay payment\r\n  initiateRazorpayPayment: (options) => {\r\n    return new Promise((resolve, reject) => {\r\n      const rzp = new window.Razorpay({\r\n        ...options,\r\n        handler: function (response) {\r\n          resolve(response);\r\n        },\r\n        modal: {\r\n          ondismiss: function () {\r\n            reject(new Error('Payment cancelled by user'));\r\n          }\r\n        }\r\n      });\r\n      rzp.open();\r\n    });\r\n  }\r\n};\r\n\r\nexport default paymentService;\r\n"],"mappings":"gHAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,GAAG,CAAG,cAAc,CAE1B;AACAD,KAAK,CAACE,QAAQ,CAACC,eAAe,CAAG,IAAI,CAErC,KAAM,CAAAC,cAAc,CAAG,CACrB;AACAC,kBAAkB,CAAE,KAAO,CAAAC,IAAI,EAAK,CAClC,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAP,KAAK,CAACQ,IAAI,IAAAC,MAAA,CAAIR,GAAG,kBAAiBK,IAAI,CAAC,CACzD,MAAO,CAAAC,GAAG,CAACD,IAAI,CACjB,CAAC,CAED;AACAI,cAAc,CAAE,KAAO,CAAAJ,IAAI,EAAK,CAC9B,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAP,KAAK,CAACQ,IAAI,IAAAC,MAAA,CAAIR,GAAG,SAAQK,IAAI,CAAC,CAChD,MAAO,CAAAC,GAAG,CAACD,IAAI,CACjB,CAAC,CAED;AACAK,aAAa,CAAE,KAAO,CAAAL,IAAI,EAAK,CAC7B,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAP,KAAK,CAACQ,IAAI,IAAAC,MAAA,CAAIR,GAAG,YAAWK,IAAI,CAAC,CACnD,MAAO,CAAAC,GAAG,CAACD,IAAI,CACjB,CAAC,CAED;AACAM,aAAa,CAAE,KAAO,CAAAN,IAAI,EAAK,CAC7B,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAP,KAAK,CAACQ,IAAI,IAAAC,MAAA,CAAIR,GAAG,YAAWK,IAAI,CAAC,CACnD,MAAO,CAAAC,GAAG,CAACD,IAAI,CACjB,CAAC,CAED;AACAO,uBAAuB,CAAGC,OAAO,EAAK,CACpC,MAAO,IAAI,CAAAC,OAAO,CAAC,CAACC,OAAO,CAAEC,MAAM,GAAK,CACtC,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAC,MAAM,CAACC,QAAQ,CAAAC,aAAA,CAAAA,aAAA,IAC1BP,OAAO,MACVQ,OAAO,CAAE,QAAAA,CAAUC,QAAQ,CAAE,CAC3BP,OAAO,CAACO,QAAQ,CAAC,CACnB,CAAC,CACDC,KAAK,CAAE,CACLC,SAAS,CAAE,QAAAA,CAAA,CAAY,CACrBR,MAAM,CAAC,GAAI,CAAAS,KAAK,CAAC,2BAA2B,CAAC,CAAC,CAChD,CACF,CAAC,EACF,CAAC,CACFR,GAAG,CAACS,IAAI,CAAC,CAAC,CACZ,CAAC,CAAC,CACJ,CACF,CAAC,CAED,cAAe,CAAAvB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}