{"ast":null,"code":"var _jsxFileName = \"D:\\\\food_delievery2\\\\frontend\\\\src\\\\assets\\\\Context\\\\CartContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useEffect, useContext, useCallback } from 'react';\nimport cartService from '../services/cartService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\n\n// Custom hook for using cart context with safe fallback\nexport const useCart = () => {\n  _s();\n  const context = useContext(CartContext);\n  if (!context) {\n    // Return safe fallback instead of throwing error\n    return {\n      cartItems: [],\n      loading: false,\n      error: null,\n      addToCart: () => {},\n      updateQuantity: () => {},\n      removeFromCart: () => {},\n      clearCart: () => {},\n      getCartTotal: () => 0,\n      getCartCount: () => 0\n    };\n  }\n  return context;\n};\n_s(useCart, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const CartProvider = ({\n  children\n}) => {\n  _s2();\n  // Get user safely from AuthContext if available\n  const authContext = useContext(/*#__PURE__*/React.createContext());\n  const user = (authContext === null || authContext === void 0 ? void 0 : authContext.user) || null;\n  const [cartItems, setCartItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [lastAction, setLastAction] = useState(null);\n\n  // Fetch cart from server\n  const fetchCart = useCallback(async () => {\n    // Only fetch if we have a user and the service is available\n    if (!user) return;\n    try {\n      setLoading(true);\n      setError(null);\n      const cartData = await cartService.getCart();\n      if (cartData && cartData.data && Array.isArray(cartData.data)) {\n        setCartItems(cartData.data);\n      } else if (Array.isArray(cartData)) {\n        setCartItems(cartData);\n      }\n    } catch (err) {\n      // Don't set error for fetch failures during development\n      console.warn('Failed to fetch cart from server (this is normal in development):', err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [user]);\n\n  // Load cart from localStorage on mount\n  useEffect(() => {\n    const savedCart = localStorage.getItem('cart');\n    if (savedCart) {\n      try {\n        setCartItems(JSON.parse(savedCart));\n      } catch (err) {\n        console.error('Error parsing saved cart:', err);\n        localStorage.removeItem('cart');\n      }\n    }\n\n    // Also try to fetch from server if user is logged in\n    fetchCart();\n  }, [fetchCart]);\n\n  // Save cart to localStorage whenever it changes\n  useEffect(() => {\n    if (cartItems.length > 0) {\n      localStorage.setItem('cart', JSON.stringify(cartItems));\n    } else {\n      localStorage.removeItem('cart');\n    }\n  }, [cartItems]);\n\n  // Add item to cart\n  const addToCart = useCallback(async (product, quantity = 1, options = {}) => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Check if item already exists\n      const existingItemIndex = cartItems.findIndex(item => item._id === product._id && JSON.stringify(item.options || {}) === JSON.stringify(options));\n      let newCartItems;\n      if (existingItemIndex !== -1) {\n        // Update existing item\n        newCartItems = [...cartItems];\n        newCartItems[existingItemIndex] = {\n          ...newCartItems[existingItemIndex],\n          quantity: newCartItems[existingItemIndex].quantity + quantity\n        };\n      } else {\n        // Add new item\n        const cartItem = {\n          ...product,\n          quantity,\n          options,\n          addedAt: new Date().toISOString(),\n          cartItemId: `${product._id}_${Date.now()}_${Math.random()}`\n        };\n        newCartItems = [...cartItems, cartItem];\n      }\n      setCartItems(newCartItems);\n      setLastAction({\n        type: 'ADD',\n        product,\n        quantity\n      });\n\n      // Try to sync with server\n      try {\n        await cartService.addToCart(product._id, quantity, options);\n      } catch (serverError) {\n        console.error('Failed to sync cart with server:', serverError);\n      }\n      return {\n        success: true,\n        message: `${product.name} added to cart`\n      };\n    } catch (err) {\n      const errorMessage = 'Failed to add item to cart';\n      setError(errorMessage);\n      console.error('Add to cart error:', err);\n      return {\n        success: false,\n        message: errorMessage\n      };\n    } finally {\n      setLoading(false);\n    }\n  }, [cartItems]);\n\n  // Remove item from cart\n  const removeFromCart = useCallback(async cartItemId => {\n    try {\n      setLoading(true);\n      setError(null);\n      const itemToRemove = cartItems.find(item => item.cartItemId === cartItemId || item._id === cartItemId);\n      const updatedItems = cartItems.filter(item => item.cartItemId !== cartItemId && item._id !== cartItemId);\n      setCartItems(updatedItems);\n      setLastAction({\n        type: 'REMOVE',\n        product: itemToRemove\n      });\n\n      // Try to sync with server\n      try {\n        await cartService.removeFromCart(cartItemId);\n      } catch (serverError) {\n        console.error('Failed to sync removal with server:', serverError);\n      }\n      return {\n        success: true,\n        message: `${(itemToRemove === null || itemToRemove === void 0 ? void 0 : itemToRemove.name) || 'Item'} removed from cart`\n      };\n    } catch (err) {\n      const errorMessage = 'Failed to remove item from cart';\n      setError(errorMessage);\n      console.error('Remove from cart error:', err);\n      return {\n        success: false,\n        message: errorMessage\n      };\n    } finally {\n      setLoading(false);\n    }\n  }, [cartItems]);\n\n  // Update item quantity\n  const updateQuantity = useCallback(async (cartItemId, newQuantity) => {\n    try {\n      setLoading(true);\n      setError(null);\n      if (newQuantity <= 0) {\n        return removeFromCart(cartItemId);\n      }\n      const updatedItems = cartItems.map(item => item.cartItemId === cartItemId || item._id === cartItemId ? {\n        ...item,\n        quantity: newQuantity\n      } : item);\n      setCartItems(updatedItems);\n      setLastAction({\n        type: 'UPDATE',\n        itemId: cartItemId,\n        quantity: newQuantity\n      });\n\n      // Try to sync with server\n      try {\n        await cartService.updateCartItem(cartItemId, newQuantity);\n      } catch (serverError) {\n        console.error('Failed to sync quantity update with server:', serverError);\n      }\n      return {\n        success: true,\n        message: 'Quantity updated'\n      };\n    } catch (err) {\n      const errorMessage = 'Failed to update quantity';\n      setError(errorMessage);\n      console.error('Update quantity error:', err);\n      return {\n        success: false,\n        message: errorMessage\n      };\n    } finally {\n      setLoading(false);\n    }\n  }, [cartItems, removeFromCart]);\n\n  // Clear entire cart\n  const clearCart = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      setCartItems([]);\n      setLastAction({\n        type: 'CLEAR'\n      });\n\n      // Try to sync with server\n      try {\n        await cartService.clearCart();\n      } catch (serverError) {\n        console.error('Failed to sync cart clear with server:', serverError);\n      }\n      return {\n        success: true,\n        message: 'Cart cleared'\n      };\n    } catch (err) {\n      const errorMessage = 'Failed to clear cart';\n      setError(errorMessage);\n      console.error('Clear cart error:', err);\n      return {\n        success: false,\n        message: errorMessage\n      };\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Get cart totals\n  const getCartTotals = useCallback(() => {\n    const subtotal = cartItems.reduce((total, item) => {\n      return total + item.price * item.quantity;\n    }, 0);\n    const itemCount = cartItems.reduce((total, item) => {\n      return total + item.quantity;\n    }, 0);\n\n    // Calculate tax (assuming 10% tax rate)\n    const taxRate = 0.10;\n    const tax = subtotal * taxRate;\n\n    // Calculate delivery fee (free over $25)\n    const deliveryFee = subtotal >= 25 ? 0 : 3.99;\n    const total = subtotal + tax + deliveryFee;\n    return {\n      subtotal: parseFloat(subtotal.toFixed(2)),\n      tax: parseFloat(tax.toFixed(2)),\n      deliveryFee: parseFloat(deliveryFee.toFixed(2)),\n      total: parseFloat(total.toFixed(2)),\n      itemCount\n    };\n  }, [cartItems]);\n\n  // Check if item is in cart\n  const isInCart = useCallback(productId => {\n    return cartItems.some(item => item._id === productId);\n  }, [cartItems]);\n\n  // Get item quantity in cart\n  const getItemQuantity = useCallback(productId => {\n    const item = cartItems.find(item => item._id === productId);\n    return item ? item.quantity : 0;\n  }, [cartItems]);\n\n  // Validate cart items (check if products still exist, prices are current, etc.)\n  const validateCart = useCallback(async () => {\n    try {\n      setLoading(true);\n      // This would typically validate against current product data\n      // For now, just return current cart items\n      return {\n        valid: true,\n        items: cartItems\n      };\n    } catch (err) {\n      console.error('Cart validation error:', err);\n      return {\n        valid: false,\n        errors: ['Cart validation failed']\n      };\n    } finally {\n      setLoading(false);\n    }\n  }, [cartItems]);\n\n  // Clear error\n  const clearError = useCallback(() => {\n    setError(null);\n  }, []);\n\n  // Clear last action\n  const clearLastAction = useCallback(() => {\n    setLastAction(null);\n  }, []);\n  const value = {\n    // State\n    cartItems,\n    loading,\n    error,\n    lastAction,\n    // Actions\n    addToCart,\n    updateQuantity,\n    removeFromCart,\n    clearCart,\n    fetchCart,\n    // Utilities\n    getCartTotals,\n    isInCart,\n    getItemQuantity,\n    validateCart,\n    clearError,\n    clearLastAction,\n    // Derived state\n    isEmpty: cartItems.length === 0,\n    itemCount: cartItems.reduce((total, item) => total + item.quantity, 0)\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 328,\n    columnNumber: 5\n  }, this);\n};\n_s2(CartProvider, \"YEgew8SnL6bHQ14oFfFZx6VAdJ0=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","useCallback","cartService","jsxDEV","_jsxDEV","CartContext","useCart","_s","context","cartItems","loading","error","addToCart","updateQuantity","removeFromCart","clearCart","getCartTotal","getCartCount","CartProvider","children","_s2","authContext","user","setCartItems","setLoading","setError","lastAction","setLastAction","fetchCart","cartData","getCart","data","Array","isArray","err","console","warn","message","savedCart","localStorage","getItem","JSON","parse","removeItem","length","setItem","stringify","product","quantity","options","existingItemIndex","findIndex","item","_id","newCartItems","cartItem","addedAt","Date","toISOString","cartItemId","now","Math","random","type","serverError","success","name","errorMessage","itemToRemove","find","updatedItems","filter","newQuantity","map","itemId","updateCartItem","getCartTotals","subtotal","reduce","total","price","itemCount","taxRate","tax","deliveryFee","parseFloat","toFixed","isInCart","productId","some","getItemQuantity","validateCart","valid","items","errors","clearError","clearLastAction","value","isEmpty","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/food_delievery2/frontend/src/assets/Context/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext, useCallback } from 'react';\r\nimport cartService from '../services/cartService';\r\n\r\nexport const CartContext = createContext();\r\n\r\n// Custom hook for using cart context with safe fallback\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext);\r\n  if (!context) {\r\n    // Return safe fallback instead of throwing error\r\n    return {\r\n      cartItems: [],\r\n      loading: false,\r\n      error: null,\r\n      addToCart: () => {},\r\n      updateQuantity: () => {},\r\n      removeFromCart: () => {},\r\n      clearCart: () => {},\r\n      getCartTotal: () => 0,\r\n      getCartCount: () => 0\r\n    };\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  // Get user safely from AuthContext if available\r\n  const authContext = useContext(React.createContext());\r\n  const user = authContext?.user || null;\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [lastAction, setLastAction] = useState(null);\r\n\r\n  // Fetch cart from server\r\n  const fetchCart = useCallback(async () => {\r\n    // Only fetch if we have a user and the service is available\r\n    if (!user) return;\r\n    \r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const cartData = await cartService.getCart();\r\n      if (cartData && cartData.data && Array.isArray(cartData.data)) {\r\n        setCartItems(cartData.data);\r\n      } else if (Array.isArray(cartData)) {\r\n        setCartItems(cartData);\r\n      }\r\n    } catch (err) {\r\n      // Don't set error for fetch failures during development\r\n      console.warn('Failed to fetch cart from server (this is normal in development):', err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user]);\r\n\r\n  // Load cart from localStorage on mount\r\n  useEffect(() => {\r\n    const savedCart = localStorage.getItem('cart');\r\n    if (savedCart) {\r\n      try {\r\n        setCartItems(JSON.parse(savedCart));\r\n      } catch (err) {\r\n        console.error('Error parsing saved cart:', err);\r\n        localStorage.removeItem('cart');\r\n      }\r\n    }\r\n    \r\n    // Also try to fetch from server if user is logged in\r\n    fetchCart();\r\n  }, [fetchCart]);\r\n\r\n  // Save cart to localStorage whenever it changes\r\n  useEffect(() => {\r\n    if (cartItems.length > 0) {\r\n      localStorage.setItem('cart', JSON.stringify(cartItems));\r\n    } else {\r\n      localStorage.removeItem('cart');\r\n    }\r\n  }, [cartItems]);\r\n\r\n  // Add item to cart\r\n  const addToCart = useCallback(async (product, quantity = 1, options = {}) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // Check if item already exists\r\n      const existingItemIndex = cartItems.findIndex(\r\n        item => item._id === product._id && \r\n        JSON.stringify(item.options || {}) === JSON.stringify(options)\r\n      );\r\n\r\n      let newCartItems;\r\n\r\n      if (existingItemIndex !== -1) {\r\n        // Update existing item\r\n        newCartItems = [...cartItems];\r\n        newCartItems[existingItemIndex] = {\r\n          ...newCartItems[existingItemIndex],\r\n          quantity: newCartItems[existingItemIndex].quantity + quantity\r\n        };\r\n      } else {\r\n        // Add new item\r\n        const cartItem = {\r\n          ...product,\r\n          quantity,\r\n          options,\r\n          addedAt: new Date().toISOString(),\r\n          cartItemId: `${product._id}_${Date.now()}_${Math.random()}`\r\n        };\r\n        newCartItems = [...cartItems, cartItem];\r\n      }\r\n\r\n      setCartItems(newCartItems);\r\n      setLastAction({ type: 'ADD', product, quantity });\r\n\r\n      // Try to sync with server\r\n      try {\r\n        await cartService.addToCart(product._id, quantity, options);\r\n      } catch (serverError) {\r\n        console.error('Failed to sync cart with server:', serverError);\r\n      }\r\n\r\n      return { success: true, message: `${product.name} added to cart` };\r\n    } catch (err) {\r\n      const errorMessage = 'Failed to add item to cart';\r\n      setError(errorMessage);\r\n      console.error('Add to cart error:', err);\r\n      return { success: false, message: errorMessage };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [cartItems]);\r\n\r\n  // Remove item from cart\r\n  const removeFromCart = useCallback(async (cartItemId) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const itemToRemove = cartItems.find(item => \r\n        item.cartItemId === cartItemId || item._id === cartItemId\r\n      );\r\n\r\n      const updatedItems = cartItems.filter(item =>\r\n        item.cartItemId !== cartItemId && item._id !== cartItemId\r\n      );\r\n\r\n      setCartItems(updatedItems);\r\n      setLastAction({ type: 'REMOVE', product: itemToRemove });\r\n\r\n      // Try to sync with server\r\n      try {\r\n        await cartService.removeFromCart(cartItemId);\r\n      } catch (serverError) {\r\n        console.error('Failed to sync removal with server:', serverError);\r\n      }\r\n\r\n      return { success: true, message: `${itemToRemove?.name || 'Item'} removed from cart` };\r\n    } catch (err) {\r\n      const errorMessage = 'Failed to remove item from cart';\r\n      setError(errorMessage);\r\n      console.error('Remove from cart error:', err);\r\n      return { success: false, message: errorMessage };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [cartItems]);\r\n\r\n  // Update item quantity\r\n  const updateQuantity = useCallback(async (cartItemId, newQuantity) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      if (newQuantity <= 0) {\r\n        return removeFromCart(cartItemId);\r\n      }\r\n\r\n      const updatedItems = cartItems.map(item =>\r\n        item.cartItemId === cartItemId || item._id === cartItemId\r\n          ? { ...item, quantity: newQuantity }\r\n          : item\r\n      );\r\n\r\n      setCartItems(updatedItems);\r\n      setLastAction({ type: 'UPDATE', itemId: cartItemId, quantity: newQuantity });\r\n\r\n      // Try to sync with server\r\n      try {\r\n        await cartService.updateCartItem(cartItemId, newQuantity);\r\n      } catch (serverError) {\r\n        console.error('Failed to sync quantity update with server:', serverError);\r\n      }\r\n\r\n      return { success: true, message: 'Quantity updated' };\r\n    } catch (err) {\r\n      const errorMessage = 'Failed to update quantity';\r\n      setError(errorMessage);\r\n      console.error('Update quantity error:', err);\r\n      return { success: false, message: errorMessage };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [cartItems, removeFromCart]);\r\n\r\n  // Clear entire cart\r\n  const clearCart = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      setCartItems([]);\r\n      setLastAction({ type: 'CLEAR' });\r\n\r\n      // Try to sync with server\r\n      try {\r\n        await cartService.clearCart();\r\n      } catch (serverError) {\r\n        console.error('Failed to sync cart clear with server:', serverError);\r\n      }\r\n\r\n      return { success: true, message: 'Cart cleared' };\r\n    } catch (err) {\r\n      const errorMessage = 'Failed to clear cart';\r\n      setError(errorMessage);\r\n      console.error('Clear cart error:', err);\r\n      return { success: false, message: errorMessage };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Get cart totals\r\n  const getCartTotals = useCallback(() => {\r\n    const subtotal = cartItems.reduce((total, item) => {\r\n      return total + (item.price * item.quantity);\r\n    }, 0);\r\n\r\n    const itemCount = cartItems.reduce((total, item) => {\r\n      return total + item.quantity;\r\n    }, 0);\r\n\r\n    // Calculate tax (assuming 10% tax rate)\r\n    const taxRate = 0.10;\r\n    const tax = subtotal * taxRate;\r\n\r\n    // Calculate delivery fee (free over $25)\r\n    const deliveryFee = subtotal >= 25 ? 0 : 3.99;\r\n\r\n    const total = subtotal + tax + deliveryFee;\r\n\r\n    return {\r\n      subtotal: parseFloat(subtotal.toFixed(2)),\r\n      tax: parseFloat(tax.toFixed(2)),\r\n      deliveryFee: parseFloat(deliveryFee.toFixed(2)),\r\n      total: parseFloat(total.toFixed(2)),\r\n      itemCount\r\n    };\r\n  }, [cartItems]);\r\n\r\n  // Check if item is in cart\r\n  const isInCart = useCallback((productId) => {\r\n    return cartItems.some(item => item._id === productId);\r\n  }, [cartItems]);\r\n\r\n  // Get item quantity in cart\r\n  const getItemQuantity = useCallback((productId) => {\r\n    const item = cartItems.find(item => item._id === productId);\r\n    return item ? item.quantity : 0;\r\n  }, [cartItems]);\r\n\r\n  // Validate cart items (check if products still exist, prices are current, etc.)\r\n  const validateCart = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      // This would typically validate against current product data\r\n      // For now, just return current cart items\r\n      return { valid: true, items: cartItems };\r\n    } catch (err) {\r\n      console.error('Cart validation error:', err);\r\n      return { valid: false, errors: ['Cart validation failed'] };\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [cartItems]);\r\n\r\n  // Clear error\r\n  const clearError = useCallback(() => {\r\n    setError(null);\r\n  }, []);\r\n\r\n  // Clear last action\r\n  const clearLastAction = useCallback(() => {\r\n    setLastAction(null);\r\n  }, []);\r\n\r\n  const value = {\r\n    // State\r\n    cartItems,\r\n    loading,\r\n    error,\r\n    lastAction,\r\n    \r\n    // Actions\r\n    addToCart,\r\n    updateQuantity,\r\n    removeFromCart,\r\n    clearCart,\r\n    fetchCart,\r\n    \r\n    // Utilities\r\n    getCartTotals,\r\n    isInCart,\r\n    getItemQuantity,\r\n    validateCart,\r\n    clearError,\r\n    clearLastAction,\r\n    \r\n    // Derived state\r\n    isEmpty: cartItems.length === 0,\r\n    itemCount: cartItems.reduce((total, item) => total + item.quantity, 0)\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={value}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,EAAEC,WAAW,QAAQ,OAAO;AAC1F,OAAOC,WAAW,MAAM,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,OAAO,MAAMC,WAAW,gBAAGR,aAAa,CAAC,CAAC;;AAE1C;AACA,OAAO,MAAMS,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAMC,OAAO,GAAGR,UAAU,CAACK,WAAW,CAAC;EACvC,IAAI,CAACG,OAAO,EAAE;IACZ;IACA,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE,IAAI;MACXC,SAAS,EAAEA,CAAA,KAAM,CAAC,CAAC;MACnBC,cAAc,EAAEA,CAAA,KAAM,CAAC,CAAC;MACxBC,cAAc,EAAEA,CAAA,KAAM,CAAC,CAAC;MACxBC,SAAS,EAAEA,CAAA,KAAM,CAAC,CAAC;MACnBC,YAAY,EAAEA,CAAA,KAAM,CAAC;MACrBC,YAAY,EAAEA,CAAA,KAAM;IACtB,CAAC;EACH;EACA,OAAOT,OAAO;AAChB,CAAC;AAACD,EAAA,CAjBWD,OAAO;AAmBpB,OAAO,MAAMY,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EAC5C;EACA,MAAMC,WAAW,GAAGrB,UAAU,cAACJ,KAAK,CAACC,aAAa,CAAC,CAAC,CAAC;EACrD,MAAMyB,IAAI,GAAG,CAAAD,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEC,IAAI,KAAI,IAAI;EACtC,MAAM,CAACb,SAAS,EAAEc,YAAY,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACY,OAAO,EAAEc,UAAU,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACa,KAAK,EAAEc,QAAQ,CAAC,GAAG3B,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAAC4B,UAAU,EAAEC,aAAa,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC;;EAElD;EACA,MAAM8B,SAAS,GAAG3B,WAAW,CAAC,YAAY;IACxC;IACA,IAAI,CAACqB,IAAI,EAAE;IAEX,IAAI;MACFE,UAAU,CAAC,IAAI,CAAC;MAChBC,QAAQ,CAAC,IAAI,CAAC;MAEd,MAAMI,QAAQ,GAAG,MAAM3B,WAAW,CAAC4B,OAAO,CAAC,CAAC;MAC5C,IAAID,QAAQ,IAAIA,QAAQ,CAACE,IAAI,IAAIC,KAAK,CAACC,OAAO,CAACJ,QAAQ,CAACE,IAAI,CAAC,EAAE;QAC7DR,YAAY,CAACM,QAAQ,CAACE,IAAI,CAAC;MAC7B,CAAC,MAAM,IAAIC,KAAK,CAACC,OAAO,CAACJ,QAAQ,CAAC,EAAE;QAClCN,YAAY,CAACM,QAAQ,CAAC;MACxB;IACF,CAAC,CAAC,OAAOK,GAAG,EAAE;MACZ;MACAC,OAAO,CAACC,IAAI,CAAC,mEAAmE,EAAEF,GAAG,CAACG,OAAO,CAAC;IAChG,CAAC,SAAS;MACRb,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACF,IAAI,CAAC,CAAC;;EAEV;EACAvB,SAAS,CAAC,MAAM;IACd,MAAMuC,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC9C,IAAIF,SAAS,EAAE;MACb,IAAI;QACFf,YAAY,CAACkB,IAAI,CAACC,KAAK,CAACJ,SAAS,CAAC,CAAC;MACrC,CAAC,CAAC,OAAOJ,GAAG,EAAE;QACZC,OAAO,CAACxB,KAAK,CAAC,2BAA2B,EAAEuB,GAAG,CAAC;QAC/CK,YAAY,CAACI,UAAU,CAAC,MAAM,CAAC;MACjC;IACF;;IAEA;IACAf,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;;EAEf;EACA7B,SAAS,CAAC,MAAM;IACd,IAAIU,SAAS,CAACmC,MAAM,GAAG,CAAC,EAAE;MACxBL,YAAY,CAACM,OAAO,CAAC,MAAM,EAAEJ,IAAI,CAACK,SAAS,CAACrC,SAAS,CAAC,CAAC;IACzD,CAAC,MAAM;MACL8B,YAAY,CAACI,UAAU,CAAC,MAAM,CAAC;IACjC;EACF,CAAC,EAAE,CAAClC,SAAS,CAAC,CAAC;;EAEf;EACA,MAAMG,SAAS,GAAGX,WAAW,CAAC,OAAO8C,OAAO,EAAEC,QAAQ,GAAG,CAAC,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;IAC3E,IAAI;MACFzB,UAAU,CAAC,IAAI,CAAC;MAChBC,QAAQ,CAAC,IAAI,CAAC;;MAEd;MACA,MAAMyB,iBAAiB,GAAGzC,SAAS,CAAC0C,SAAS,CAC3CC,IAAI,IAAIA,IAAI,CAACC,GAAG,KAAKN,OAAO,CAACM,GAAG,IAChCZ,IAAI,CAACK,SAAS,CAACM,IAAI,CAACH,OAAO,IAAI,CAAC,CAAC,CAAC,KAAKR,IAAI,CAACK,SAAS,CAACG,OAAO,CAC/D,CAAC;MAED,IAAIK,YAAY;MAEhB,IAAIJ,iBAAiB,KAAK,CAAC,CAAC,EAAE;QAC5B;QACAI,YAAY,GAAG,CAAC,GAAG7C,SAAS,CAAC;QAC7B6C,YAAY,CAACJ,iBAAiB,CAAC,GAAG;UAChC,GAAGI,YAAY,CAACJ,iBAAiB,CAAC;UAClCF,QAAQ,EAAEM,YAAY,CAACJ,iBAAiB,CAAC,CAACF,QAAQ,GAAGA;QACvD,CAAC;MACH,CAAC,MAAM;QACL;QACA,MAAMO,QAAQ,GAAG;UACf,GAAGR,OAAO;UACVC,QAAQ;UACRC,OAAO;UACPO,OAAO,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;UACjCC,UAAU,EAAE,GAAGZ,OAAO,CAACM,GAAG,IAAII,IAAI,CAACG,GAAG,CAAC,CAAC,IAAIC,IAAI,CAACC,MAAM,CAAC,CAAC;QAC3D,CAAC;QACDR,YAAY,GAAG,CAAC,GAAG7C,SAAS,EAAE8C,QAAQ,CAAC;MACzC;MAEAhC,YAAY,CAAC+B,YAAY,CAAC;MAC1B3B,aAAa,CAAC;QAAEoC,IAAI,EAAE,KAAK;QAAEhB,OAAO;QAAEC;MAAS,CAAC,CAAC;;MAEjD;MACA,IAAI;QACF,MAAM9C,WAAW,CAACU,SAAS,CAACmC,OAAO,CAACM,GAAG,EAAEL,QAAQ,EAAEC,OAAO,CAAC;MAC7D,CAAC,CAAC,OAAOe,WAAW,EAAE;QACpB7B,OAAO,CAACxB,KAAK,CAAC,kCAAkC,EAAEqD,WAAW,CAAC;MAChE;MAEA,OAAO;QAAEC,OAAO,EAAE,IAAI;QAAE5B,OAAO,EAAE,GAAGU,OAAO,CAACmB,IAAI;MAAiB,CAAC;IACpE,CAAC,CAAC,OAAOhC,GAAG,EAAE;MACZ,MAAMiC,YAAY,GAAG,4BAA4B;MACjD1C,QAAQ,CAAC0C,YAAY,CAAC;MACtBhC,OAAO,CAACxB,KAAK,CAAC,oBAAoB,EAAEuB,GAAG,CAAC;MACxC,OAAO;QAAE+B,OAAO,EAAE,KAAK;QAAE5B,OAAO,EAAE8B;MAAa,CAAC;IAClD,CAAC,SAAS;MACR3C,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACf,SAAS,CAAC,CAAC;;EAEf;EACA,MAAMK,cAAc,GAAGb,WAAW,CAAC,MAAO0D,UAAU,IAAK;IACvD,IAAI;MACFnC,UAAU,CAAC,IAAI,CAAC;MAChBC,QAAQ,CAAC,IAAI,CAAC;MAEd,MAAM2C,YAAY,GAAG3D,SAAS,CAAC4D,IAAI,CAACjB,IAAI,IACtCA,IAAI,CAACO,UAAU,KAAKA,UAAU,IAAIP,IAAI,CAACC,GAAG,KAAKM,UACjD,CAAC;MAED,MAAMW,YAAY,GAAG7D,SAAS,CAAC8D,MAAM,CAACnB,IAAI,IACxCA,IAAI,CAACO,UAAU,KAAKA,UAAU,IAAIP,IAAI,CAACC,GAAG,KAAKM,UACjD,CAAC;MAEDpC,YAAY,CAAC+C,YAAY,CAAC;MAC1B3C,aAAa,CAAC;QAAEoC,IAAI,EAAE,QAAQ;QAAEhB,OAAO,EAAEqB;MAAa,CAAC,CAAC;;MAExD;MACA,IAAI;QACF,MAAMlE,WAAW,CAACY,cAAc,CAAC6C,UAAU,CAAC;MAC9C,CAAC,CAAC,OAAOK,WAAW,EAAE;QACpB7B,OAAO,CAACxB,KAAK,CAAC,qCAAqC,EAAEqD,WAAW,CAAC;MACnE;MAEA,OAAO;QAAEC,OAAO,EAAE,IAAI;QAAE5B,OAAO,EAAE,GAAG,CAAA+B,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEF,IAAI,KAAI,MAAM;MAAqB,CAAC;IACxF,CAAC,CAAC,OAAOhC,GAAG,EAAE;MACZ,MAAMiC,YAAY,GAAG,iCAAiC;MACtD1C,QAAQ,CAAC0C,YAAY,CAAC;MACtBhC,OAAO,CAACxB,KAAK,CAAC,yBAAyB,EAAEuB,GAAG,CAAC;MAC7C,OAAO;QAAE+B,OAAO,EAAE,KAAK;QAAE5B,OAAO,EAAE8B;MAAa,CAAC;IAClD,CAAC,SAAS;MACR3C,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACf,SAAS,CAAC,CAAC;;EAEf;EACA,MAAMI,cAAc,GAAGZ,WAAW,CAAC,OAAO0D,UAAU,EAAEa,WAAW,KAAK;IACpE,IAAI;MACFhD,UAAU,CAAC,IAAI,CAAC;MAChBC,QAAQ,CAAC,IAAI,CAAC;MAEd,IAAI+C,WAAW,IAAI,CAAC,EAAE;QACpB,OAAO1D,cAAc,CAAC6C,UAAU,CAAC;MACnC;MAEA,MAAMW,YAAY,GAAG7D,SAAS,CAACgE,GAAG,CAACrB,IAAI,IACrCA,IAAI,CAACO,UAAU,KAAKA,UAAU,IAAIP,IAAI,CAACC,GAAG,KAAKM,UAAU,GACrD;QAAE,GAAGP,IAAI;QAAEJ,QAAQ,EAAEwB;MAAY,CAAC,GAClCpB,IACN,CAAC;MAED7B,YAAY,CAAC+C,YAAY,CAAC;MAC1B3C,aAAa,CAAC;QAAEoC,IAAI,EAAE,QAAQ;QAAEW,MAAM,EAAEf,UAAU;QAAEX,QAAQ,EAAEwB;MAAY,CAAC,CAAC;;MAE5E;MACA,IAAI;QACF,MAAMtE,WAAW,CAACyE,cAAc,CAAChB,UAAU,EAAEa,WAAW,CAAC;MAC3D,CAAC,CAAC,OAAOR,WAAW,EAAE;QACpB7B,OAAO,CAACxB,KAAK,CAAC,6CAA6C,EAAEqD,WAAW,CAAC;MAC3E;MAEA,OAAO;QAAEC,OAAO,EAAE,IAAI;QAAE5B,OAAO,EAAE;MAAmB,CAAC;IACvD,CAAC,CAAC,OAAOH,GAAG,EAAE;MACZ,MAAMiC,YAAY,GAAG,2BAA2B;MAChD1C,QAAQ,CAAC0C,YAAY,CAAC;MACtBhC,OAAO,CAACxB,KAAK,CAAC,wBAAwB,EAAEuB,GAAG,CAAC;MAC5C,OAAO;QAAE+B,OAAO,EAAE,KAAK;QAAE5B,OAAO,EAAE8B;MAAa,CAAC;IAClD,CAAC,SAAS;MACR3C,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACf,SAAS,EAAEK,cAAc,CAAC,CAAC;;EAE/B;EACA,MAAMC,SAAS,GAAGd,WAAW,CAAC,YAAY;IACxC,IAAI;MACFuB,UAAU,CAAC,IAAI,CAAC;MAChBC,QAAQ,CAAC,IAAI,CAAC;MAEdF,YAAY,CAAC,EAAE,CAAC;MAChBI,aAAa,CAAC;QAAEoC,IAAI,EAAE;MAAQ,CAAC,CAAC;;MAEhC;MACA,IAAI;QACF,MAAM7D,WAAW,CAACa,SAAS,CAAC,CAAC;MAC/B,CAAC,CAAC,OAAOiD,WAAW,EAAE;QACpB7B,OAAO,CAACxB,KAAK,CAAC,wCAAwC,EAAEqD,WAAW,CAAC;MACtE;MAEA,OAAO;QAAEC,OAAO,EAAE,IAAI;QAAE5B,OAAO,EAAE;MAAe,CAAC;IACnD,CAAC,CAAC,OAAOH,GAAG,EAAE;MACZ,MAAMiC,YAAY,GAAG,sBAAsB;MAC3C1C,QAAQ,CAAC0C,YAAY,CAAC;MACtBhC,OAAO,CAACxB,KAAK,CAAC,mBAAmB,EAAEuB,GAAG,CAAC;MACvC,OAAO;QAAE+B,OAAO,EAAE,KAAK;QAAE5B,OAAO,EAAE8B;MAAa,CAAC;IAClD,CAAC,SAAS;MACR3C,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMoD,aAAa,GAAG3E,WAAW,CAAC,MAAM;IACtC,MAAM4E,QAAQ,GAAGpE,SAAS,CAACqE,MAAM,CAAC,CAACC,KAAK,EAAE3B,IAAI,KAAK;MACjD,OAAO2B,KAAK,GAAI3B,IAAI,CAAC4B,KAAK,GAAG5B,IAAI,CAACJ,QAAS;IAC7C,CAAC,EAAE,CAAC,CAAC;IAEL,MAAMiC,SAAS,GAAGxE,SAAS,CAACqE,MAAM,CAAC,CAACC,KAAK,EAAE3B,IAAI,KAAK;MAClD,OAAO2B,KAAK,GAAG3B,IAAI,CAACJ,QAAQ;IAC9B,CAAC,EAAE,CAAC,CAAC;;IAEL;IACA,MAAMkC,OAAO,GAAG,IAAI;IACpB,MAAMC,GAAG,GAAGN,QAAQ,GAAGK,OAAO;;IAE9B;IACA,MAAME,WAAW,GAAGP,QAAQ,IAAI,EAAE,GAAG,CAAC,GAAG,IAAI;IAE7C,MAAME,KAAK,GAAGF,QAAQ,GAAGM,GAAG,GAAGC,WAAW;IAE1C,OAAO;MACLP,QAAQ,EAAEQ,UAAU,CAACR,QAAQ,CAACS,OAAO,CAAC,CAAC,CAAC,CAAC;MACzCH,GAAG,EAAEE,UAAU,CAACF,GAAG,CAACG,OAAO,CAAC,CAAC,CAAC,CAAC;MAC/BF,WAAW,EAAEC,UAAU,CAACD,WAAW,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC;MAC/CP,KAAK,EAAEM,UAAU,CAACN,KAAK,CAACO,OAAO,CAAC,CAAC,CAAC,CAAC;MACnCL;IACF,CAAC;EACH,CAAC,EAAE,CAACxE,SAAS,CAAC,CAAC;;EAEf;EACA,MAAM8E,QAAQ,GAAGtF,WAAW,CAAEuF,SAAS,IAAK;IAC1C,OAAO/E,SAAS,CAACgF,IAAI,CAACrC,IAAI,IAAIA,IAAI,CAACC,GAAG,KAAKmC,SAAS,CAAC;EACvD,CAAC,EAAE,CAAC/E,SAAS,CAAC,CAAC;;EAEf;EACA,MAAMiF,eAAe,GAAGzF,WAAW,CAAEuF,SAAS,IAAK;IACjD,MAAMpC,IAAI,GAAG3C,SAAS,CAAC4D,IAAI,CAACjB,IAAI,IAAIA,IAAI,CAACC,GAAG,KAAKmC,SAAS,CAAC;IAC3D,OAAOpC,IAAI,GAAGA,IAAI,CAACJ,QAAQ,GAAG,CAAC;EACjC,CAAC,EAAE,CAACvC,SAAS,CAAC,CAAC;;EAEf;EACA,MAAMkF,YAAY,GAAG1F,WAAW,CAAC,YAAY;IAC3C,IAAI;MACFuB,UAAU,CAAC,IAAI,CAAC;MAChB;MACA;MACA,OAAO;QAAEoE,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAEpF;MAAU,CAAC;IAC1C,CAAC,CAAC,OAAOyB,GAAG,EAAE;MACZC,OAAO,CAACxB,KAAK,CAAC,wBAAwB,EAAEuB,GAAG,CAAC;MAC5C,OAAO;QAAE0D,KAAK,EAAE,KAAK;QAAEE,MAAM,EAAE,CAAC,wBAAwB;MAAE,CAAC;IAC7D,CAAC,SAAS;MACRtE,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACf,SAAS,CAAC,CAAC;;EAEf;EACA,MAAMsF,UAAU,GAAG9F,WAAW,CAAC,MAAM;IACnCwB,QAAQ,CAAC,IAAI,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMuE,eAAe,GAAG/F,WAAW,CAAC,MAAM;IACxC0B,aAAa,CAAC,IAAI,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMsE,KAAK,GAAG;IACZ;IACAxF,SAAS;IACTC,OAAO;IACPC,KAAK;IACLe,UAAU;IAEV;IACAd,SAAS;IACTC,cAAc;IACdC,cAAc;IACdC,SAAS;IACTa,SAAS;IAET;IACAgD,aAAa;IACbW,QAAQ;IACRG,eAAe;IACfC,YAAY;IACZI,UAAU;IACVC,eAAe;IAEf;IACAE,OAAO,EAAEzF,SAAS,CAACmC,MAAM,KAAK,CAAC;IAC/BqC,SAAS,EAAExE,SAAS,CAACqE,MAAM,CAAC,CAACC,KAAK,EAAE3B,IAAI,KAAK2B,KAAK,GAAG3B,IAAI,CAACJ,QAAQ,EAAE,CAAC;EACvE,CAAC;EAED,oBACE5C,OAAA,CAACC,WAAW,CAAC8F,QAAQ;IAACF,KAAK,EAAEA,KAAM;IAAA9E,QAAA,EAChCA;EAAQ;IAAAiF,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAACnF,GAAA,CAlTWF,YAAY;AAAAsF,EAAA,GAAZtF,YAAY;AAAA,IAAAsF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}